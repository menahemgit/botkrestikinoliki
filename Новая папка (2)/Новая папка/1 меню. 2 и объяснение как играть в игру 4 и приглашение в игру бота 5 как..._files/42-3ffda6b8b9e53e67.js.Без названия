!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="33c9e617-550c-451a-9619-785d13998e2e",e._sentryDebugIdIdentifier="sentry-dbid-33c9e617-550c-451a-9619-785d13998e2e")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{47895:function(e,t,n){var r={"./de-DE.json":[57356,7356],"./en-US.json":[80065,958],"./es-ES.json":[14148,4148],"./fr-FR.json":[17108,7108],"./hi-IN.json":[69649,9649],"./ja-JP.json":[5211,5211],"./ko-KR.json":[81023,1023],"./zh-CN.json":[56214,6214]};function l(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],l=t[0];return n.e(t[1]).then(function(){return n.t(l,19)})}l.keys=function(){return Object.keys(r)},l.id=47895,e.exports=l},49705:function(e,t,n){"use strict";n.d(t,{i:function(){return f},Z:function(){return g}});var r=n(53854),l=n(74135),i=n(21062),o=n(20981),a=n(60359),s=n(51577),u=n(92508),d=n(62736),c=n(4009),v=n(67144),m=n(25245);let f="",p=o.memo(e=>{let{contextUUID:t,title:n,rwToken:l,frontendContextUUID:c}=e,[v,m]=(0,o.useState)(null!=n?n:f),{data:p}=(0,i.useSession)(),g=(0,a.useTranslations)("shared");(0,o.useEffect)(()=>{let e=null!=n?n:f;l&&t||e!==f?m(null!=n?n:f):m("")},[n,t,l]);let b=function(){let e=(0,s.nO)(),[t,n]=(0,o.useState)(!1);return(0,o.useCallback)((r,l,i,o)=>{e&&!t&&(n(!0),e.emit("set_thread_title",r,l,{read_write_token:i},e=>{n(!1),null==o||o(e)}))},[t,e])}(),k=(0,o.useCallback)((e,n)=>{if(!e||e===f){console.warn("Empty title callback.");return}if(!t){console.warn("No thread UUID found.");return}if(!l){console.warn("No write token found.");return}b(t,e,l,n),m(e)},[t,l,b]),_=t&&l&&p,y=v===f;if(y&&!_)return null;{let e=(0,r.jsx)(u.Z,{variant:"smallBold",color:y?"light":"default",className:"truncate py-sm pl-sm",children:y?g("untitled"):v});return _?(0,r.jsx)(d.Z,{staticTextBlockComponent:e,renderEditableInput:e=>(0,r.jsx)(h,{initialTitle:v,onDoneEditing:e,updateTitle:k,frontendContextUUID:c}),className:"min-w-0"}):e}}),h=o.memo(e=>{let{initialTitle:t,onDoneEditing:n,updateTitle:i,frontendContextUUID:s}=e,{isMobileUserAgent:u}=(0,c.d)(),[d,f]=(0,o.useState)(t),p=(0,l.useQueryClient)(),h=(0,a.useTranslations)("shared"),g=(0,o.useCallback)(()=>{p.setQueryData(["results"],e=>{if(!e)return;let[t,...n]=e[s];return{...e,[s]:[{...t,thread_title:d},...n]}})},[s,d,p]),b=(0,o.useCallback)(()=>{i(d,g),n()},[d,i,n,g]),k=(0,o.useCallback)(e=>{e.currentTarget.select()},[]),_=(0,o.useCallback)(()=>{b()},[b]),y=(0,o.useCallback)(e=>{v.t.isEnterKeyWithoutShift(e)&&b()},[b]);return(0,r.jsx)("div",{className:"ml-sm",children:(0,r.jsx)(m.ZP,{isMobileUserAgent:u,autoFocus:!0,value:d,className:"border-0 p-0 text-center outline-none ring-0",disabled:!1,placeholder:h("untitled"),onChange:e=>{f(e.target.value)},onKeyDown:y,onBlur:_,onClear:n,onFocus:k})})});var g=p},21185:function(e,t,n){"use strict";var r=n(53854),l=n(64980),i=n(20981),o=n(69032),a=n(48812),s=n(69073),u=n(96245),d=n(22571),c=n(92508),v=n(2355),m=n(23005),f=n(37462),p=n.n(f);t.Z=e=>{let{size:t="medium",user:n,showEdit:f,onChange:h,anon:g,altText:b,defaultIcon:k=s.IL,showProBadge:_}=e,y="xs";"medium"===t?y="1x":"large"===t&&(y="2x");let w=(0,i.useCallback)(()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){let e=new FileReader;e.onload=e=>{var t;h&&h(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(n)}},e.click()},[h]);return(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)(d.ZP,{variant:"offsetPlus",className:p()("relative flex aspect-square shrink-0 items-center justify-center rounded-full",{"h-3 w-3":"tiny"===t,"h-5 w-5":"small"===t,"h-8 w-8":"medium"===t,"w-[80px]":"large"===t,"border-2 border-transparent ring-1 ring-super dark:ring-superDark":_}),children:[n&&!g?(0,r.jsx)("img",{alt:null!=b?b:"User avatar",className:"h-full w-full rounded-full object-cover",src:n}):(0,r.jsx)(c.Z,{color:"light",children:(0,r.jsx)(l.G,{size:y,icon:g?u.BC:k,fixedWidth:!0})}),f&&"small"!==t&&(0,r.jsx)("div",{className:"absolute bottom-0 right-0",children:(0,r.jsx)(v.Z,{ariaLabel:"Edit avatar",variant:n?"common":"primary",size:"small",pill:!0,icon:n?o.faPenToSquare:a.r8,onClick:w})}),_&&(0,r.jsx)("div",{className:p()("absolute top-[100%] -mt-[6px] w-[24px] bg-offset p-[1.5px] dark:bg-offsetDark",{"opacity-0":"small"===t},{"-mt-[10px] w-lg":"large"===t}),style:{clipPath:"polygon(12% 0%, 100% 0, 100% 77%, 88% 100%, 0 100%, 0% 23%)"},children:(0,r.jsx)(m.Z,{variant:"pro",size:"small",className:"w-full"})})]})})}},55442:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var r=n(20981),l=n(97825),i=n(77301);let o=()=>{let{trackEventAsync:e,trackEvent:t}=(0,i.WS)(),n=(0,l.useRouter)(),o="clicked enterprise ad",a=(0,r.useCallback)(async t=>{t.preventDefault(),await e(o,{source:"sidebarAd"}),n.push("https://www.perplexity.ai/enterprise")},[e,n]),s=(0,r.useCallback)(async t=>{null==t||t.preventDefault(),await e(o,{source:"settingsHeader"}),n.push("https://pplx.ai/enterprise")},[e,n]),u=(0,r.useCallback)(async t=>{t.preventDefault(),t.stopPropagation(),await e(o,{source:"footer"}),n.push("https://www.perplexity.ai/enterprise")},[e,n]),d=(0,r.useCallback)(async t=>{t.preventDefault(),await e(o,{source:"pricingTable"}),n.push("https://www.perplexity.ai/enterprise")},[e,n]),c=(0,r.useCallback)(e=>{let{orgName:n,hasLogo:r,success:l}=e;t("org created",{orgName:n,hasLogo:r,success:l})},[t]),v=(0,r.useCallback)(e=>{let{invitedEmail:n,source:r,orgUUID:l}=e;t("org user invited",{invitedEmail:n,source:r,orgUUID:l})},[t]);return{handleSidebarAdClick:a,handleSettingsHeaderAdClick:s,handleFooterAdClick:u,handlePricingTableAdClick:d,trackOrgCreated:c,trackOrgUserInvited:v,trackOrgInviteStepCompleted:(0,r.useCallback)(e=>{let{orgUUID:n}=e;t("org invite step completed",{orgUUID:n})},[t]),trackOrgPaymentPortalEntered:(0,r.useCallback)(t=>{let{orgUUID:n,source:r,intent:l,success:i}=t;return e("org payment portal entered",{orgUUID:n,source:r,intent:l,success:i})},[e]),trackSSOEnabled:(0,r.useCallback)(e=>{let{orgUUID:n,success:r}=e;t("sso enabled",{orgUUID:n,success:r})},[t])}}},47379:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(20981),l=n(97825),i=n(55442),o=n(51577),a=n(39549);let s=()=>{let e=(0,l.useRouter)(),t=(0,o.nO)(),{organization:n}=(0,a.a)(),{trackOrgPaymentPortalEntered:s}=(0,i.g)();return{manageExistingBillingClick:(0,r.useCallback)(r=>{let{source:l}=r;t&&t.emit("get_enterprise_customer_portal",{origin:l},t=>{"success"===t.status&&null!=t.url&&""!==t.url?s({orgUUID:null==n?void 0:n.uuid,source:l,intent:"portal",success:!0}).then(()=>t.url&&e.push(t.url)):s({orgUUID:null==n?void 0:n.uuid,source:l,intent:"portal",success:!1}).then(()=>console.log("could not open Stripe portal"))})},[t,s,null==n?void 0:n.uuid,e]),navigateToCheckout:(0,r.useCallback)(r=>{let{tier:l="monthly",source:i,onErrorCallback:o}=r;t&&t.emit("get_enterprise_checkout_session",{tier:l,origin:i},t=>{"success"===t.status&&null!=t.url&&""!==t.url?s({orgUUID:null==n?void 0:n.uuid,source:i,intent:"checkout",success:!0}).then(()=>t.url&&e.push(t.url)):s({orgUUID:null==n?void 0:n.uuid,source:i,intent:"checkout",success:!1}).then(()=>o&&o())})},[e,t,null==n?void 0:n.uuid,s])}}},39549:function(e,t,n){"use strict";n.d(t,{a:function(){return f}});var r=n(86812),l=n(42138),i=n(93895),o=n(33465),a=n(6503),s=n(63292);let u=s.z.object({uuid:s.z.string(),role:s.z.string(),email:s.z.string()}).nullable(),d=s.z.object({uuid:s.z.string(),domain:s.z.string(),verification_status:s.z.string(),force_sso:s.z.boolean()}),c=s.z.object({uuid:s.z.string(),display_name:s.z.string(),workos_org_id:s.z.string().nullable(),logo:s.z.string().nullable(),admin:u,admins:s.z.array(u),billing_admin:u,billing_admins:s.z.array(u),stripe_status:s.z.string().optional(),subscription_is_on:s.z.boolean().optional(),billing_quantity:s.z.number().optional(),pending_invites_quantity:s.z.number().optional(),open_invite_link_uuid:s.z.string().nullable().optional(),sso_enabled:s.z.boolean().optional(),sso_identity_provider_status:s.z.string().optional(),sso_domains:d.array().optional()}).nullable(),v=s.z.object({orgUser:u,organization:c,isLoading:s.z.boolean()});v.extend({refetch:s.z.function(s.z.tuple([]),s.z.void())});let m={organization:null,orgUser:null,refetch:()=>{},isLoading:!1};function f(){let e=(0,o.lG)(),{data:t,refetch:n,fetchStatus:s}=(0,l.useQuery)({enabled:e,queryKey:(0,r.hp)(),queryFn:()=>(0,i.uD)(void 0),placeholderData:m,refetchOnMount:!0}),u=v.safeParse(t);if(!u.success||!t){var d,c;return a.Tb("Invalid UserOrgData",{extra:{data:t,result:u}}),{organization:null!==(d=null==t?void 0:t.organization)&&void 0!==d?d:m.organization,orgUser:null!==(c=null==t?void 0:t.orgUser)&&void 0!==c?c:m.orgUser,refetch:null!=n?n:m.refetch,isLoading:"fetching"===s}}return{...u.data,refetch:n,isLoading:"fetching"===s}}},77301:function(e,t,n){"use strict";n.d(t,{WS:function(){return N},r2:function(){return h},zW:function(){return E}});var r=n(21062),l=n(20981),i=n(54510),o=n(51577),a=n(15117),s=n(37771),u=n(78113),d=n(32608);let c=0;class v{setOnce(){return -1==this.eventTime&&(this.eventTime=Date.now(),!0)}timeSinceTimestamp(e){return -1===this.eventTime||null===e?-1:this.eventTime<e?(console.log("TimeMarker.timeSinceTimestamp found inconsistency: mytime ".concat(this.eventTime,", old: ").concat(e)),-1):this.eventTime-e}timeBeforeTimestamp(e){return -1===this.eventTime||null===e?-1:this.eventTime>e?(console.log("TimeMarker.timeBeforeTimestamp found inconsistency: mytime ".concat(this.eventTime,", next: ").concat(e)),-1):e-this.eventTime}wasSet(){return -1!=this.eventTime}constructor(){this.eventTime=-1}}let m={queryStr:null,queryParams:null,isFollowup:null,submissionCount:null,submissionType:null,frontendUUID:null,submitTimestamp:null,startFirstServerResponseMarker:null,startLLMTokenMarker:null,endStreamTimestamp:null,finalizedTimestamp:null,firstServerResponseReceived:!1,firstLLMTokenReceived:!1,firstSearchResultsMarker:null},f=null,p=(e,t)=>{var n,r,l,i,o,s,d;let c;let v=Date.now(),m={...e,timestamp:v,isBrowserExtension:!1,timeZone:null===(l=Intl)||void 0===l?void 0:null===(r=l.DateTimeFormat())||void 0===r?void 0:null===(n=r.resolvedOptions())||void 0===n?void 0:n.timeZone};t&&(m.isPro=(null===(o=t.user)||void 0===o?void 0:o.subscription_status)&&(null===(s=t.user)||void 0===s?void 0:s.subscription_status)!=="none",m.userId=null==t?void 0:null===(d=t.user)||void 0===d?void 0:d.id);let f=window.location.pathname+window.location.search,p=!!getComputedStyle(document.documentElement).getPropertyValue("--arc-palette-title"),h=(0,u.dz)(),g=(0,a.mm)();return c=m.internalReferrer?m.internalReferrer:document.referrer,(window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: minimal-ui)").matches||(null===(i=window.navigator)||void 0===i?void 0:i.standalone))&&(m.isStandaloneApp=!0),{eventData:m,pathnameAndParams:f,visitorId:g,isArcBrowser:p,deviceInfo:h,referrer:c}},h=e=>{let{name:t,data:n,socket:r,session:l}=e,i=e=>{if(r){let{eventData:l,visitorId:i,pathnameAndParams:o,isArcBrowser:a,deviceInfo:u,referrer:c}=p(n,e);d.env.NEXT_PUBLIC_EVENT_DEBUG_PRINT&&console.log("[_trackEvent] ".concat(t,": "),l);try{r.emit("analytics_event",{event_name:t,event_data:l,visitor_id:i,url:o,referrer:c,language:(0,s.qm)(),screen:"".concat(window.screen.width,"x").concat(window.screen.height),hostname:window.location.hostname,device_info:u,is_arc_browser:a})}catch(e){console.log(e)}}};setTimeout(()=>i(l),0)},g=async e=>{let{name:t,data:n,socket:r,session:l}=e,{eventData:i,visitorId:o,pathnameAndParams:a,isArcBrowser:s,deviceInfo:u,referrer:c}=p(n,l);return new Promise(e=>{if(d.env.NEXT_PUBLIC_EVENT_DEBUG_PRINT&&console.log("[_trackEventAsync] ".concat(t,": "),i),r){let n=setTimeout(()=>{e()},1e3);r.emitWithAck("analytics_event",{event_name:t,event_data:i,visitor_id:o,url:a,referrer:c,language:navigator.language,screen:"".concat(window.screen.width,"x").concat(window.screen.height),hostname:window.location.hostname,device_info:u,is_arc_browser:s}).then(()=>{clearTimeout(n),e()}).catch(()=>{clearTimeout(n),e()})}else e()})},b=(e,t)=>{var n,r;if(!f||f.firstServerResponseReceived||!f.submitTimestamp||!(null===(n=f.startFirstServerResponseMarker)||void 0===n?void 0:n.setOnce()))return;f.firstServerResponseReceived=!0;let{queryStr:l,isFollowup:i,queryParams:o}=f,a=j();a>0&&h({name:"query first server response",data:{startFirstServerResponseElapsed:a,queryStr:l,isFollowup:i,mode:null!==(r=null==o?void 0:o.mode)&&void 0!==r?r:"unknown"},socket:e,session:t})},k=(e,t,n)=>{var r,l;if(!f||f.firstLLMTokenReceived||!n||!(null===(r=f.startLLMTokenMarker)||void 0===r?void 0:r.setOnce()))return;f.firstLLMTokenReceived=!0;let{queryStr:i,isFollowup:o,queryParams:a}=f,s=R();s>0&&h({name:"query first llm token",data:{startLLMTokenElapsed:s,queryStr:i,isFollowup:o,mode:null!==(l=null==a?void 0:a.mode)&&void 0!==l?l:"unknown"},socket:e,session:t})},_=(e,t)=>{var n;f&&t&&(null===(n=f.firstSearchResultsMarker)||void 0===n||n.setOnce())},y=e=>{(0,i.Pp)({urlPath:"/v0/api/metrics/collect",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch(e=>console.error(e))},w=(e,t,n)=>{y({startStreamElapsed:{elapsedMs:e,isFollowup:t,mode:n=null!=n?n:"unknown"}})},x=(e,t,n)=>{y({startLLMTokenElapsed:{elapsedMs:e,isFollowup:t,mode:n=null!=n?n:"unknown"}})},T=(e,t,n)=>{y({firstSearchResultElapsed:{elapsedMs:e,isFollowup:t,mode:n=null!=n?n:"unknown"}})},S=(e,t,n)=>{y({startStreamHang:{isFollowup:e,numberOfEvents:n}})};class C{updateTimeout(){clearTimeout(this.timeoutForHangRequests),this.timeoutForHangRequests=null,this.timeoutForHangRequests=setTimeout(this.callback.bind(this),2e4)}keepTracking(){this.timeoutForHangRequests&&(++this.countEvents,this.updateTimeout())}stopTracking(){clearTimeout(this.timeoutForHangRequests),this.timeoutForHangRequests=null}callback(){this.stopTracking();let e=new Date;this.cb(e.getTime()-this.timerStarted.getTime(),this.countEvents)}constructor(e){this.timeoutForHangRequests=null,this.countEvents=0,this.timerStarted=new Date,this.cb=e,this.updateTimeout()}}let D=null,U=(e,t,n,r)=>{var l,i,o;if(!f)return;f.finalizedTimestamp=Date.now();let a=-1;f.submitTimestamp&&(a=f.finalizedTimestamp-f.submitTimestamp);let s=j();s>0&&w(s,f.isFollowup,null==f?void 0:null===(l=f.queryParams)||void 0===l?void 0:l.mode);let u=z();u>0&&T(u,f.isFollowup,null==f?void 0:null===(i=f.queryParams)||void 0===i?void 0:i.mode);let d=R();d>0&&x(d,f.isFollowup,null==f?void 0:null===(o=f.queryParams)||void 0===o?void 0:o.mode);let c=-1;f.endStreamTimestamp&&f.startFirstServerResponseMarker&&(c=f.startFirstServerResponseMarker.timeBeforeTimestamp(f.endStreamTimestamp));let v={...f,totalElapsed:a,startStreamElapsed:s,startFirstServerResponseElapsed:s,startLLMTokenElapsed:d,totalStreamingElapsed:c,submissionResult:e,entryUUID:null==t?void 0:t.backend_uuid,displayModel:null==t?void 0:t.display_model,stepType:null==t?void 0:t.step_type};h({name:"".concat(e," response"),data:v,socket:n,session:r})},j=()=>{var e,t;let n=-1;return f?n=null!==(t=null===(e=f.startFirstServerResponseMarker)||void 0===e?void 0:e.timeSinceTimestamp(f.submitTimestamp))&&void 0!==t?t:-1:n},R=()=>{var e,t;let n=-1;return f?n=null!==(t=null===(e=f.startLLMTokenMarker)||void 0===e?void 0:e.timeSinceTimestamp(f.submitTimestamp))&&void 0!==t?t:-1:n},z=()=>{var e,t;let n=-1;return f?n=null!==(t=null===(e=f.firstSearchResultsMarker)||void 0===e?void 0:e.timeSinceTimestamp(f.submitTimestamp))&&void 0!==t?t:-1:n},E={submitQuery:e=>{let{name:t,queryStr:n,queryParams:r,isFollowup:l,frontendUUID:i,socket:o,session:a}=e;c+=1,(f={...m}).submissionType=t,f.submitTimestamp=Date.now(),f.queryStr=n,f.queryParams=r,f.frontendUUID=i,f.submissionCount=c,f.isFollowup=l,f.startFirstServerResponseMarker=new v,f.firstSearchResultsMarker=new v,f.startLLMTokenMarker=new v,h({name:"submit query",data:{...f},socket:o,session:a})},handleStreamProgress:(e,t,n,r)=>{b(e,t),_(e,r),k(e,t,n)},endStreamResponse:()=>{f&&null===f.endStreamTimestamp&&(f.endStreamTimestamp=Date.now())},failedResponse:(e,t,n)=>{U("FAILED",e,t,n)},successfulResponse:(e,t,n)=>{U("SUCCESSFUL",e,t,n)},startTrackingHangRequests:e=>{null==D||D.stopTracking(),D=new C((t,n)=>{S(e,t,n)})},keepTrackingHangRequests:()=>{null==D||D.keepTracking()},stopTrackingHangRequests:()=>{null==D||D.stopTracking()},getStartLLMTokenElapsed:R,getStartFirstServerResponseElapsed:j,getFirstSearchResultElapsed:z,reportTakoWidgetRenderLatency:e=>{y({takoWidgetRenderLatency:{latency:e}})},reportAutosuggestLatencies:e=>{let{latencies:t,isMobile:n}=e;y({autosuggestLatency:{latencies:t,isMobile:n}})}},N=()=>{let e=(0,o.nO)(),{data:t}=(0,r.useSession)();return{trackEvent:(0,l.useCallback)((n,r)=>{h({name:n,data:r,socket:e,session:t})},[e,t]),trackEventTyped:(0,l.useCallback)((n,r)=>h({name:n,data:r,socket:e,session:t}),[e,t]),trackEventAsync:(0,l.useCallback)((n,r)=>g({name:n,data:r,socket:e,session:t}),[e,t])}}},39135:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(21062),l=n(20981),i=n(51577),o=n(86096),a=n(77301);let s=()=>{let e=(0,i.nO)(),{data:t}=(0,r.useSession)(),{firstResult:n,threadMetadata:s}=(0,o.a0)(),u=null==n?void 0:n.backend_uuid,d=null==s?void 0:s.contextUUID;return{trackEvent:(0,l.useCallback)((n,r)=>{(0,a.r2)({name:n,data:{entryUUID:u,threadUUID:d,...r},socket:e,session:t})},[e,u,d,t])}}},33465:function(e,t,n){"use strict";n.d(t,{h2:function(){return l},lG:function(){return i}});var r=n(21062);function l(){var e,t;let{data:n}=(0,r.useSession)(),l=null!==(t=null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.email)&&void 0!==t?t:"none";return l.endsWith("@perplexity.ai")||["pplx-dev@example.com","pplx-dev-pro@example.com","pplx-dev-enterprise@example.com","fe-test-user@example.com"].includes(l)}function i(){let{data:e}=(0,r.useSession)();return null!=e}},86812:function(e,t,n){"use strict";n.d(t,{Al:function(){return i},KB:function(){return v},P6:function(){return l},XX:function(){return o},f8:function(){return s},hp:function(){return u},rT:function(){return r},sN:function(){return a},ur:function(){return c},zb:function(){return d}});let r=()=>["get_user_settings",{}],l=()=>["get_connector_data",{}],i=()=>["get_helper_queries",{}],o=e=>["get_related_pages",{uuid:e}],a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"forYou";return["list_feed",{topic:e}]},s=()=>["discover_topics",{}],u=()=>["userOrgData",{}],d=()=>["getOrganizationUsers",{}],c=e=>["get_thread_by_uuid",{uuid:e}],v=e=>["get_article_by_uuid",{uuid:e}]},86096:function(e,t,n){"use strict";n.d(t,{BX:function(){return m},Dv:function(){return p},G5:function(){return b},OR:function(){return f},a0:function(){return k}});var r=n(53854),l=n(74135),i=n(42138),o=n(20981),a=n(97825),s=n(93895),u=n(3068),d=n(88121),c=n(89130),v=n(53085);let m=e=>({rwToken:(0,u.$)(e),contextUUID:(0,u.uY)(e),frontendContextUUID:(0,u.ZJ)(e),title:(0,u.ew)(e),first_query:(0,u.Y4)(e),focus:(0,u.Nx)(e),author_id:(0,u.xN)(e),author_username:(0,u.Ce)(e),author_image:(0,u.kI)(e),parent_info:(0,u.RG)(e),mode:(0,u.FK)(e),personalized:(0,u.vf)(e),collection:(0,u.sD)(e),bookmarkState:(0,u.pO)(e),thread_access:(0,u.Xz)(e),thread_url_slug:(0,u.Po)(e),updated_datetime:(0,u.CN)(e),expiry_time:(0,u.GH)(e),privacy_state:(0,u.wV)(e)}),f=e=>{var t,n,r,l;return{forkCount:null!==(t=null==e?void 0:e.fork_count)&&void 0!==t?t:0,likeCount:null!==(n=null==e?void 0:e.like_count)&&void 0!==n?n:0,viewCount:null!==(r=null==e?void 0:e.view_count)&&void 0!==r?r:0,userLikes:null!==(l=null==e?void 0:e.user_likes)&&void 0!==l&&l}},p={fork_count:0,like_count:0,view_count:0,user_likes:!1},h={allThreads:{},results:[],firstResult:void 0,lastResult:void 0,inFlight:!1,inFlightLatest:!1,socialStats:{forkCount:0,likeCount:0,viewCount:0,userLikes:!1},threadMetadata:{rwToken:void 0,frontendContextUUID:null,contextUUID:null,title:null,first_query:null,focus:void 0,author_id:void 0,author_username:void 0,author_image:void 0,parent_info:void 0,mode:null,personalized:!1,bookmarkState:void 0,collection:void 0,thread_access:0,thread_url_slug:null,updated_datetime:null,expiry_time:null,privacy_state:d.Jr.NONE}},g=(0,o.createContext)(h),b=e=>{var t,n,u,d;let{children:h}=e,b=(0,l.useQueryClient)(),k=(0,a.useParams)(),_=(0,a.usePathname)(),y=(0,a.useSearchParams)(),{data:w}=(0,i.useQuery)({queryKey:["results"],enabled:!1}),[x]=(0,v.Xs)("pplx-active-query",{frontendContextUUID:null,rawQuery:null,collectionId:null}),[T,S]=(0,o.useState)(null),C=Array.isArray(null==k?void 0:k.uuid)?k.uuid[0]:null,D=null==_?void 0:_.split("/")[1],U=null!=C?C:D;(0,o.useEffect)(()=>{var e,t;let n=U&&"new"!==U?null===(e=b.getQueryData(["slug-to-frontendContextUUID"]))||void 0===e?void 0:e[U]:void 0,r=null==x?void 0:x.frontendContextUUID,l=null==y?void 0:y.get("newFrontendContextUUID"),i=null!==(t=null!=l?l:r)&&void 0!==t?t:n;if(i&&S(i),"new"!==U&&(null==_?void 0:_.startsWith("/search/")))try{if(!U){console.error("No slug found in path");return}(0,s.H5)(U).then(e=>{var t,n,r;let l=null==e?void 0:null===(n=e.entries)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.frontend_context_uuid;l&&(b.setQueryData(["results"],{[l]:null!==(r=null==e?void 0:e.entries)&&void 0!==r?r:[]}),b.setQueryData(["slug-to-frontendContextUUID"],t=>{var n,r;return{...t,[U]:null==e?void 0:null===(r=e.entries)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.frontend_context_uuid}}))})}catch(e){console.error("Error fetching thread by UUID",e)}},[null==x?void 0:x.frontendContextUUID,_,y,b,U]);let j=null!==(t=null==w?void 0:w[null!=T?T:""])&&void 0!==t?t:[],R=(0,c.P1)([()=>j],e=>m(e)),z=(0,c.P1)([()=>j],e=>{var t;if(!e||0===e.length||"pending"===e[0].status)return null;let n=null===(t=e[0])||void 0===t?void 0:t.social_info;return n?f(n):f(p)}),E={inFlight:j.some(e=>"pending"===e.status),inFlightLatest:j.length>0&&"pending"===j[j.length-1].status},N=null!==(n=null==E?void 0:E.inFlight)&&void 0!==n&&n,L=null!==(u=null==E?void 0:E.inFlightLatest)&&void 0!==u&&u;return(0,r.jsx)(g.Provider,{value:{allThreads:null!=w?w:{},results:null!=j?j:[],firstResult:null==j?void 0:j[0],lastResult:null==j?void 0:j[j.length-1],socialStats:null!==(d=z(j))&&void 0!==d?d:f(p),inFlight:N,inFlightLatest:L,threadMetadata:R(j)},children:h})},k=()=>{let e=(0,o.useContext)(g);if(!e)throw Error("useResults must be used within ResultsProvider");return e}},37771:function(e,t,n){"use strict";n.d(t,{k$:function(){return l},ZW:function(){return a},E7:function(){return i},RF:function(){return o},qm:function(){return s}});var r=n(15117);n(59167),n(65485);let l={locale:"en-US",englishLabel:"English (English)",label:"English"},i=[l,{locale:"fr-FR",englishLabel:"French (Fran\xe7ais)",label:"Fran\xe7ais"},{locale:"de-DE",englishLabel:"Standard German (Deutsch)",label:"Deutsch"},{locale:"ja-JP",englishLabel:"Japanese (日本語)",label:"日本語"},{locale:"ko-KR",englishLabel:"Korean (한국어)",label:"한국어"},{locale:"zh-CN",englishLabel:"Simplified Chinese (简体中文)",label:"简体中文"},{locale:"es-ES",englishLabel:"Spanish (Espa\xf1ol)",label:"Espa\xf1ol"},{locale:"hi-IN",englishLabel:"Hindi (हिंदी)",label:"हिंदी"}],o=i.map(e=>e.locale),a=l.locale;l.label;let s=()=>{var e,t,n;return null!==(n=(0,r.yG)())&&void 0!==n?n:null===(t=window)||void 0===t?void 0:null===(e=t.navigator)||void 0===e?void 0:e.language}},3068:function(e,t,n){"use strict";n.d(t,{$:function(){return u},CN:function(){return C},Ce:function(){return g},FK:function(){return _},GH:function(){return D},Nx:function(){return p},Po:function(){return S},RG:function(){return k},Xz:function(){return T},Y4:function(){return f},ZJ:function(){return v},ew:function(){return m},kI:function(){return b},pO:function(){return x},qx:function(){return d},sD:function(){return w},uY:function(){return c},vf:function(){return y},wV:function(){return U},xN:function(){return h}});var r=n(49705);let l="rwTokenStorage",i=e=>{let t=JSON.stringify(e);try{localStorage.setItem(l,t)}catch(e){console.warn("Could not put rw token storage"),console.warn(e)}},o=()=>{let e=null;try{e=localStorage.getItem(l)}catch(e){console.warn("Could not access local storage"),console.warn(e)}if(!e)return i({}),{};try{return JSON.parse(e)}catch(e){return console.warn("Could not deserialize rw token storage"),console.warn(e),i({}),{}}},a=(e,t)=>{if(!e||!t)return;let n=o(),r=Object.keys(n);if(r.length>=20){let e=r[Math.floor(Math.random()*r.length)];e&&delete n[e]}(r=Object.keys(n)).length>25&&(console.warn("Too many rw tokens stored; resetting"),n={}),n[e]=t,i(n)},s=e=>e?o()[e]:null,u=e=>{let t=c(e);if(t){if("undefined"!=typeof localStorage){let e=s(t);if(e)return e}if(e.length>0){var n;let r=null===(n=e[0])||void 0===n?void 0:n.read_write_token;if(r)return"undefined"!=typeof localStorage&&a(t,r),r}return null}},d=()=>{i({})},c=e=>{if(e.length>0){var t;let n=null===(t=e[0])||void 0===t?void 0:t.context_uuid;if(n)return n}return null},v=e=>{if(e.length>0){var t;let n=null===(t=e[0])||void 0===t?void 0:t.frontend_context_uuid;if(n)return n}return null},m=e=>{if(e.length>0){var t;let n=null===(t=e[0])||void 0===t?void 0:t.thread_title;return null!=n?n:r.i}return null},f=e=>{if(e.length>0){var t;let n=null===(t=e[0])||void 0===t?void 0:t.query_str;return null!=n?n:""}return null},p=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.search_focus}return null},h=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.author_id}return null},g=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.author_username}return null},b=e=>{if(e.length>=0){var t;return null===(t=e[0])||void 0===t?void 0:t.author_image}return null},k=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.parent_info}return null},_=e=>e.length>0?e[0].mode:null,y=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.personalized}return null},w=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.collection_info}return null},x=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.bookmark_state}return null},T=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.thread_access}return null},S=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.thread_url_slug}return null},C=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.updated_datetime}return null},D=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.expiry_time}return null},U=e=>{if(e.length>0){var t;return null===(t=e[0])||void 0===t?void 0:t.privacy_state}return null}},35585:function(e,t,n){"use strict";var r=n(53854),l=n(40591),i=n(64980),o=n(37462),a=n.n(o),s=n(20981),u=n(22571),d=n(92508),c=n(2355),v=n(9618),m=n(45138),f=n(88121);let p=s.memo(e=>{let{icon:t,message:n,variant:o="good",actionList:p,title:h,dismissable:g,onDismiss:b,size:k="regular",pointerVariant:_="none",testId:y,isMobileStyle:w}=e,x=p&&p.length>0&&(0,r.jsx)("div",{className:"gap-x-sm flex",children:null==p?void 0:p.map((e,t)=>{var n,l;return e.visible?e.items&&e.items.length>0?(0,r.jsx)(m.DropDownMenu,{isMobileStyle:w,items:e.items,children:(0,r.jsx)(c.Z,{size:f.$u.small,text:e.text,variant:e.variant,icon:e.icon,onClick:e.onClick,debounce:e.debounce})},null!==(n=e.text)&&void 0!==n?n:t):(0,r.jsx)("div",{className:"relative flex h-full items-center",children:(0,r.jsx)(c.Z,{size:f.$u.small,text:e.text,variant:e.variant,icon:e.icon,onClick:e.onClick,toolTip:e.tooltip,tooltipLayout:"bottom",disabled:e.disabled,debounce:e.debounce})},null!==(l=e.text)&&void 0!==l?l:t):(0,r.jsx)(s.Fragment,{},t)})}),T=(0,s.useMemo)(()=>a()({"text-super dark:text-superDark":"good"===o,"text-superAlt":"warning"===o}),[o]),S=(0,s.useMemo)(()=>"good"===o?"super":"warning"===o?"red":"info"===o?"darkOffset":void 0,[o]);return null==n?null:(0,r.jsxs)("div",{"data-testid":y,children:["none"!==_&&(0,r.jsx)("div",{className:a()("px-md mt-sm flex",{"justify-start":"left"===_,"justify-end":"right"===_||"landing-page-right"===_,"pr-[75px]":"landing-page-right"===_}),children:(0,r.jsx)("div",{className:a()("border-b-offset dark:border-b-offsetDark h-0 w-0 border-b-[15px] border-l-[10px] border-r-[10px] border-l-transparent border-r-transparent")})}),(0,r.jsxs)(u.ZP,{variant:"offset",className:a()("gap-sm relative flex flex-col items-center justify-between rounded-lg md:flex-row",{"p-sm":"small"===k,"p-md":"regular"===k}),children:[g&&(0,r.jsx)("div",{className:"top-xs right-xs absolute",children:(0,r.jsx)(v.Z,{icon:l.faXmark,size:"small",onClick:()=>null==b?void 0:b()})}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"gap-x-md flex items-center",children:[(0,r.jsx)(u.ZP,{variant:S,className:"flex h-11 w-11 items-center justify-center rounded-full",children:(0,r.jsx)(d.Z,{variant:"regular"===k?"baseSemi":"smallBold",color:"white",children:t&&(0,r.jsx)(i.G,{icon:t})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{variant:h&&"regular"===k?"baseSemi":"smallBold",className:T,children:h||n}),h&&n&&(0,r.jsx)(d.Z,{variant:"regular"===k?"base":"small",className:"",children:n})]})]})}),x]})]})});t.Z=p},62736:function(e,t,n){"use strict";var r=n(53854),l=n(20981);t.Z=e=>{let{staticTextBlockComponent:t,renderEditableInput:n,className:i,...o}=e,[a,s]=(0,l.useState)(!1),u=(0,l.useCallback)(()=>s(!1),[]);return(0,r.jsx)("span",{className:i,children:a?n(u):(0,r.jsx)("span",{className:"cursor-pointer transition duration-300 hover:opacity-70",onClick:()=>s(!0),...o,children:t})})}}}]);