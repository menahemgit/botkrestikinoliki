!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6b7826d6-acdb-4d7d-884b-a81f0ae1e0b7",e._sentryDebugIdIdentifier="sentry-dbid-6b7826d6-acdb-4d7d-884b-a81f0ae1e0b7")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8510],{68953:function(e,t,r){"use strict";r.d(t,{HQ:function(){return c},Hk:function(){return d},gi:function(){return l},gr:function(){return i},he:function(){return a},pI:function(){return s},rZ:function(){return o},ud:function(){return u}});var n=r(78113);let i=3,s=2,l=4;function o(e){return"article_info"in e}let a=(e,t)=>({...n.QI,query_str:e,status:"staged",uuid:t,article_info:{title:e,has_changed_title:!1,layout:"text",format:"paragraph",length:"concise",suggested_sections:[],user_selected_media_items:[],audience:"anyone",read_time:0,hero_offset:-1,emphasize_sources:!1},prompt_source:"page_suggestion"}),c=e=>!!e&&(!e.image_width||!e.image_height||!(e.image_width<120)&&e.image_width>=1.5*e.image_height),u=(e,t,r,n)=>{let i=[...e],s=t.find(e=>e.image===r);return s&&n<i.length&&i.splice(n,1,s),i},d=(e,t,r)=>{let n=[...e],i=n.findIndex(e=>e.image===t);if(-1!==i&&r<n.length){let e=n[r];n[r]=n[i],n[i]=e}return n}},55752:function(e,t,r){"use strict";r.d(t,{B:function(){return o}});var n=r(53854),i=r(95500);let s={xlarge:[64,"h-[64px] w-auto leading-[64px]"],large:[48,"h-[48px] w-auto leading-[48px]"],regular:[32,"h-[32px] w-auto leading-[32px]"],small:[18,"h-[18px] w-auto leading-[18px]"],tiny:[12,"h-[12px] w-auto leading-[12px]"]},l=(0,i.default)(async()=>(await Promise.all([r.e(2441),r.e(6650)]).then(r.bind(r,85253))).Emoji,{loadableGenerated:{webpack:()=>[85253]}}),o=e=>{let{unified:t,size:r}=e,[i,o]=s[r];return t?(0,n.jsx)("div",{className:"relative align-middle ".concat(o),children:(0,n.jsx)(l,{emojiStyle:"native",unified:t,size:i})}):null}},27228:function(e,t,r){"use strict";r.d(t,{X:function(){return o}});var n=r(53854),i=r(22571),s=r(37462),l=r.n(s);let o=e=>{let{size:t,inverse:r}=e;return(0,n.jsx)(i.ZP,{variant:"background",className:l()("flex aspect-square w-lg shrink-0 items-center justify-center rounded-full border text-textMain dark:text-textMainDark",{"!w-[24px]":"small"===t},{"border-0 !bg-textMain !text-background dark:!bg-textMainDark dark:!text-backgroundDark":r}),children:(0,n.jsx)("svg",{width:"small"===t?"16":"24",height:"auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1927 4.54688C11.4375 4.71875 11.651 4.86458 12 4.86458C12.3453 4.86458 12.5529 4.72184 12.7993 4.55235L12.8073 4.54688L12.8084 4.54609C13.152 4.31187 13.5635 4.03125 14.5 4.03125C16.0885 4.03125 17.2083 6.30729 17.9375 8.6875C20.401 9.14062 22 9.875 22 10.6979C22 11.4427 20.6979 12.1094 18.6354 12.5677C18.6562 12.776 18.6667 12.9844 18.6667 13.1979C18.6667 14.0833 18.4948 14.9271 18.1823 15.6979H18.1965C17.2165 18.1697 14.8115 19.9169 12 19.9169C9.18854 19.9169 6.78355 18.1697 5.80356 15.6979H5.81771C5.50521 14.9271 5.33333 14.0833 5.33333 13.1979C5.33333 12.9844 5.34375 12.776 5.36458 12.5677C3.30208 12.1094 2 11.4427 2 10.6979C2 9.875 3.59896 9.14062 6.0625 8.6875C6.79167 6.30729 7.91146 4.03125 9.5 4.03125C10.4365 4.03125 10.848 4.31187 11.1916 4.54609L11.1927 4.54688ZM14.2708 15.6979H14.9167C16.0677 15.6979 17 14.7656 17 13.6146V12.8646C15.5312 13.0781 13.8229 13.1979 12 13.1979C10.1771 13.1979 8.46875 13.0781 7 12.8646V13.6146C7 14.7656 7.93229 15.6979 9.08333 15.6979H9.73437C10.5885 15.6979 11.3542 15.1458 11.625 14.3333C11.7448 13.9687 12.2604 13.9687 12.3802 14.3333C12.651 15.1458 13.4115 15.6979 14.2708 15.6979Z",fill:"currentColor"})})})}},41038:function(e,t,r){"use strict";r.d(t,{Z:function(){return ej}});var n=r(53854),i=r(20981),s=r(60359),l=r(39549),o=r(77301),a=r(20961),c=r(57834),u=r(43649),d=r(33465),h=r(51577),m=r(158),v=r(54194),p=r(98510),x=r(72107),f=r(27228),g=r(94013),j=r(19609),k=r(4009),M=r(66795),L=r(45138),b=r(9618);let y=i.memo(e=>{let{focus:t,onSwitch:r,onOpen:i,onClose:l}=e,{FocusConfigs:a,DEFAULT_ASSISTANTS:c}=(0,g.m)(),u=(0,s.useTranslations)("main.askInput"),{isMobileStyle:d}=(0,k.d)(),{focus:h=M.w.internet,setFocus:m}=(0,x.h)(),{trackEvent:v}=(0,o.WS)(),p=null!=t?t:c,f=[];return(null!=p?p:[]).forEach(e=>{f.push({text:a[e].text,icon:a[e].icon,label:a[e].info,active:h===e,onMouseDown:e=>e.preventDefault(),onClick:()=>{v("search focus click",{focus:e}),m(e),null==r||r()}})}),(0,n.jsx)("div",{className:"",children:(0,n.jsx)(L.DropDownMenu,{grid:!d,isMobileStyle:d,items:f,onClose:l,onOpen:i,placement:"bottom-start",children:(0,n.jsx)(b.Z,{chevron:"internet"!==h,pill:!0,toolTip:u("toolTip"),size:"small",text:"internet"===h?u("focus"):a[h].text,icon:"internet"===h?j.fq:a[h].icon,onMouseDown:e=>e.preventDefault(),maxWidth:"120px"})})})});var C=r(64980),Z=r(60918),w=r(70154),N=r(88234),S=r(14180),_=r(47285),V=r(2279),P=r(22571),D=r(92508),E=r(45139),T=r(96351);function I(e,t){if(null==e)return"";let r=e.includes(".")?e.slice(e.lastIndexOf(".")):"",n=e.substring(0,e.length-r.length);return n.length>t?n.substring(0,t-r.length-3)+"..."+r:n+r}let W=e=>e.file.type.includes("image"),A={descImg:"images",descAll:"images, text, or PDFs",descPdf:"text or PDF files",uploading:"Uploading...",attach:"Attach",title:"Want file uploads?",descPre:"Sign in to ask questions about",wantImages:"Want to upload images?",wantMore:"Want more uploads?",upgradeForGPT:"Upgrade to Pro to see the world with GPT-4V",upgradeForUnlim:"Upgrade to Pro for unlimited uploads",fileTypeNotSupported:"The file type you uploaded is not supported",fileTooLarge:"File too large: 25MB maximum",fileTooSmall:"File too small"};var O=r(88121);let z=e=>{let{fileInputRef:t,isSignedIn:r,uploadRateLimit:n,fileUploadSocketName:s,maxFilesUpload:l,forwardedRef:o,showPrivacyWarning:a,getFileTypeMessage:c,onStart:u,onComplete:d,openLoginModal:h,openPricingModal:m,openCompanyDataPrivacyModal:v,closeModal:p,socket:x,f=e=>A[e]||e}=e,[g,j]=(0,i.useState)(null),[k,M]=(0,i.useState)(null),[L,b]=(0,i.useState)(k&&k.length>0?"success":"idle");(0,i.useImperativeHandle)(o,()=>({uploadFiles:E,clearFiles:y}));let y=(0,i.useCallback)(()=>{var e;M(null),b("idle"),null==d||d([]),(null===(e=t.current)||void 0===e?void 0:e.value)&&(t.current.value="")},[d,t]),C=(0,i.useCallback)(e=>{j(e),(null==k?void 0:k.length)===0||(null==k?void 0:k.length)===void 0?y():b("success")},[k,y]),Z=(0,i.useCallback)(()=>{h&&h({origin:O.FM.FILE_UPLOAD,pitchMessage:{title:f("title"),description:"".concat(f("descPre")," ").concat(c())}})},[f,c,h]),w=(0,i.useCallback)(e=>{m&&m({pitchMessage:{title:e?f("wantImages"):f("wantMore"),description:e?f("upgradeForGPT"):f("upgradeForUnlim")},origin:O.FM.FILE_UPLOAD})},[f,m]),N=(0,i.useCallback)(()=>{v&&v(()=>{var e;null==p||p(),null===(e=t.current)||void 0===e||e.click()})},[t,p,v]),S=(0,i.useCallback)(()=>{var e;if(!r){Z();return}if(n&&n<=0){w();return}if(a){N();return}null===(e=t.current)||void 0===e||e.click()},[r,n,a,t,Z,w,N]),V=(0,i.useCallback)(async(e,t,r,n)=>{if(!e.ok){C("File upload failed.");return}try{var i,s,l,o,a;let r=await e.json(),n=null!==(a=null==r?void 0:null===(s=r.eager)||void 0===s?void 0:null===(i=s[0])||void 0===i?void 0:i.secure_url)&&void 0!==a?a:null==r?void 0:r.secure_url;if(!n){C("File upload failed");return}if((null==r?void 0:null===(o=r.moderation)||void 0===o?void 0:null===(l=o[0])||void 0===l?void 0:l.status)==="rejected"){C("File upload failed moderation.");return}let c={file:t,nextURL:n};M(e=>[...null!=e?e:[],c]),b("success")}catch(s){let e="".concat(r).concat(n).replace("${filename}","".concat(t.name));if(!e){C("File upload failed");return}let i={file:t,nextURL:e};M(e=>[...null!=e?e:[],i]),b("success")}},[C]),P=(0,i.useCallback)(async(e,t)=>{if(e.pro_only){y(),w(!0);return}if(e.rate_limited){y(),w();return}if(!e.success){j("File upload failed.");return}let r=new FormData;Object.entries(e.fields).forEach(e=>{let[t,n]=e;r.append(t,n)}),r.append("file",t);try{let n=await fetch(e.url,{method:"POST",body:r});await V(n,t,e.url,e.fields.key)}catch(e){C("File upload failed")}},[y,w,V,C]),D=(0,i.useCallback)(e=>{e.forEach(e=>{let t=null;if(_.Sh.includes(e.type)?t=f("fileTypeNotSupported"):e.size>_.fT?t=f("fileTooLarge"):e.size<_.Qn&&(t=f("fileTooSmall")),t){C(t);return}x&&x.emit(s,{filename:e.name,content_type:e.type},t=>{P(t,e)})})},[x,s,f,C,P]),E=(0,i.useCallback)(e=>{var t;if(!r){Z();return}if(n&&n<=0){w();return}if(e&&0!==e.length){if(e.length+(null!==(t=null==k?void 0:k.length)&&void 0!==t?t:0)>l){j("Up to ".concat(l," ").concat(l>1?"files":"file"," at once."));return}null==u||u(),b("loading"),D(Array.from(e))}},[r,n,null==k?void 0:k.length,l,D,u,Z,w]);return(0,i.useEffect)(()=>{let e=null;return g&&(e=setTimeout(()=>{j(null)},_.IB)),()=>{e&&clearTimeout(e)}},[g]),(0,i.useEffect)(()=>{if(k){let e=k.map(e=>e.nextURL);null==d||d(e)}},[k,d]),{errorMessage:g,uploadedFiles:k,status:L,fileInputRef:t,handleClear:y,handleStartUpload:S,handleFileInput:E,handleOpenLoginModal:Z,handleOpenPricingModal:w}};var R=r(37462),U=r.n(R),F=e=>{var t;let{isSignedIn:r,forwardedRef:l,uploadRateLimit:a,fileType:c,fileUploadSocketName:u,maxFilesUpload:d=_.uM,iconOnly:h,isMobileStyle:m,showPrivacyWarning:v,tooltip:p,socket:x,openLoginModal:f,openPricingModal:g,openCompanyDataPrivacyModal:j,closeModal:k,onStart:M,onComplete:L}=e,y=(0,i.useRef)(null),A=(0,s.useTranslations)("main.askInput"),O=(0,s.useTranslations)("main.fileUpload"),R=(0,i.useCallback)(()=>{switch(c){case"image":return O("descImg");case"all":return O("descAll");default:return O("descPdf")}},[O,c]),F=(0,i.useCallback)(()=>{switch(c){case"image":return _.Z4;case"all":return _.Ci;default:return _.U6}},[c]),{trackEvent:q}=(0,o.WS)(),{errorMessage:H,uploadedFiles:B,status:Q,handleClear:G,handleStartUpload:K,handleFileInput:Y}=z({fileInputRef:y,isSignedIn:r,uploadRateLimit:a,fileUploadSocketName:u,maxFilesUpload:d,forwardedRef:l,showPrivacyWarning:v,getFileTypeMessage:R,onStart:M,onComplete:L,openLoginModal:f,openPricingModal:g,openCompanyDataPrivacyModal:j,closeModal:k,socket:x,f:O}),X=(0,i.useCallback)(()=>{q("opened file selector",{}),K()},[K,q]),$="loading"===Q,J="success"===Q,ee=(0,i.useMemo)(()=>"loading"===Q?A("uploading"):A("attach"),[Q,A]),et=(0,i.useMemo)(()=>{if(!B||0===B.length)return"...";let e=m?10:20;return B.length>1?"".concat(B.length," Files"):I(B[0].file.name,e)},[B,m]),er=e=>{let{uploadedFile:t,size:r="small"}=e;return W(t)?(0,n.jsx)(V.Z,{alt:"Uploaded image",src:t.nextURL,fill:!0,useNextImage:!1,containerClassName:U()("w-5 h-5 object-cover object-center shrink-0",{"!w-10 !h-10":"large"===r}),imageClassName:"w-full h-full",includeLightBoxModal:!1,maskClassName:U()({"!rounded-[3px]":"small"===r})}):null},en=(0,n.jsxs)(P.ZP,{className:"p-xs",children:[(0,n.jsxs)(P.ZP,{className:"mb-sm flex items-center justify-between border-b pb-sm",children:[(0,n.jsx)(D.Z,{variant:"baseSemi",children:"Attached Files"}),(0,n.jsxs)("div",{className:"flex items-center gap-x-sm",children:[(0,n.jsx)(b.Z,{size:"tiny",icon:w.faPlus,variant:"common",text:"Add",onClick:X}),(0,n.jsx)(b.Z,{size:"tiny",icon:S.$,variant:"common",text:"Clear",onClick:G})]})]}),(0,n.jsx)("div",{className:"flex flex-col gap-sm",children:B&&(null===(t=Array.from(B))||void 0===t?void 0:t.map(e=>{let t=W(e);return(0,n.jsxs)("div",{className:"flex items-center gap-x-sm",children:[t?(0,n.jsx)(er,{uploadedFile:e,size:"large"}):(0,n.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-[3px] bg-offset dark:bg-offsetDark",children:(0,n.jsx)(D.Z,{variant:"base",children:(0,n.jsx)(C.G,{className:"text-textOff dark:text-textOffDark",icon:Z.gM})})}),(0,n.jsx)(D.Z,{variant:"small",color:"light",className:"line-clamp-1 flex",children:(0,n.jsx)("span",{children:I(e.file.name,20)})})]},e.nextURL)}))})]}),ei=B&&Array.from(B)[0];return(0,n.jsxs)("div",{children:[J&&ei?(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(E.p,{isMobileStyle:m,content:en,placement:"bottom-end",children:(0,n.jsx)(b.Z,{pill:!0,size:h?"regular":"small",icon:W(ei)?void 0:Z.gM,variant:"super",isLoading:$,toolTip:null!=p?p:B&&(null==B?void 0:B.length)<d?"".concat(A("attach")," ").concat(R(),". ").concat(null!=a&&a<=100?" ".concat(a," left today."):""):void 0,leadingComponent:W(ei)?(0,n.jsx)(er,{uploadedFile:ei}):null,text:h?void 0:et})})}):(0,n.jsx)(b.Z,{pill:!0,size:h?"regular":"small",icon:N.Kt,variant:$?"super":"common",isLoading:$,toolTip:null!=p?p:"".concat(O("attach")," ").concat(R(),". ").concat(r?null!=a&&a<=100?O("leftToday",{remaining:a}):"":O("loggedOut")),text:h?void 0:ee,onClick:X}),(0,n.jsx)("input",{type:"file",multiple:!0,ref:y,onChange:e=>{var t;return Y(null!==(t=e.target.files)&&void 0!==t?t:void 0)},accept:F(),style:{display:"none"}}),(0,n.jsx)(T.Z,{isVisible:null!=H,variant:"error",message:null!=H?H:"",timeout:4})]})},q=r(69192),H=r(21391),B=r(2716),Q=r(6200);let G=i.memo(e=>{let{children:t,focusItems:r,libraryItems:l,placement:o,title:a,grid:c,isMobileStyle:u,wrapperRef:d,onOpen:h,onClose:m}=e,v=(0,s.useTranslations)("main.askInput"),[p,x]=(0,i.useState)(!1),f=(0,i.useCallback)(()=>{x(!0),null==h||h()},[h]),g=(0,i.useCallback)(()=>{x(!1),null==m||m()},[m]),j=(0,i.useMemo)(()=>[r,l].flat().map(e=>({...e,onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),g()}})),[r,l,g]);return u?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(q.Z,{subtitle:v("focus"),subtitleClassname:"ml-sm mt-sm font-medium",variant:"bottom-sheet",actionList:[],isOpen:p,onClose:g,children:(0,n.jsx)(P.ZP,{className:"w-full p-xs",children:(0,n.jsx)(H.v,{items:j,textColor:"light",grid:c,isFileSearch:!0})})}),(0,n.jsx)("span",{onClick:f,children:t})]}):(0,n.jsx)(B.J,{isFileSearchEnabled:!0,matchTargetWidth:!0,customWidthRef:d,isOpen:p,placement:o,onClose:g,onOpen:f,content:(0,n.jsxs)(P.ZP,{className:"w-full p-sm",children:[a&&(0,n.jsx)(P.ZP,{className:"flex w-full",children:(0,n.jsx)(D.Z,{variant:"smallBold",color:"light",className:"w-full px-sm py-sm",children:a})}),(0,n.jsx)(Q.P,{items:j,grid:c,cols:Math.ceil(j.length/2),rows:2,gridFlow:"col"})]}),children:t})}),K=i.memo(e=>{let{wrapperRef:t,onSwitch:r,onOpen:l,onClose:a}=e,{DEFAULT_ASSISTANTS:c,DEFAULT_LIBRARIES:u,FocusConfigs:d}=(0,g.m)(),h=(0,s.useTranslations)("main.askInput"),{isMobileStyle:m}=(0,k.d)(),{focus:v=M.w.internet,setFocus:p}=(0,x.h)(),{trackEvent:f}=(0,o.WS)(),L=(0,i.useCallback)(e=>e.preventDefault(),[]),y=(0,i.useCallback)(e=>{f("search focus click",{focus:e}),p(e),null==r||r()},[f,p,r]),C=(0,i.useMemo)(()=>{var e;return[...c].map(e=>({text:d[e].text,icon:d[e].icon,active:v===e,onMouseDown:L,onClick:()=>y(e)}))},[c,v,d,L,y]),Z=(0,i.useMemo)(()=>[...u].map(e=>({text:d[e].text,icon:d[e].icon,avatar:d[e].avatar,active:v===e,onMouseDown:L,onClick:()=>y(e)})),[u,d,v,L,y]),w="internet"===v?"":d[v].text,N="internet"===v?j.fq:d[v].icon,S=!!d[v].avatar;return(0,n.jsx)(G,{grid:!0,wrapperRef:t,focusItems:C,libraryItems:Z,title:h("focus"),placement:"bottom-start",isMobileStyle:m,onOpen:l,onClose:a,children:(0,n.jsx)(b.Z,{pill:!0,toolTip:h("sourcesTooltip"),size:"small",text:w,onMouseDown:L,...S?{leadingComponent:d[v].avatar}:{icon:N}})})});var Y=r(28018),X=r(59406),$=e=>{let{text:t,isFocused:r,onTextClick:s,onPasteButtonClick:l,onMouseOver:o}=e,a=(0,i.useCallback)(()=>{s(t)},[s,t]),c=(0,i.useCallback)(()=>{l(t)},[l,t]),u=(0,i.useCallback)(e=>{e.preventDefault()},[]);return(0,n.jsxs)(P.ZP,{variant:r?"offset":"transparent",className:"flex w-full cursor-pointer items-center",onMouseOver:o,children:[(0,n.jsx)("div",{className:"grow overflow-hidden px-sm py-sm",onMouseDown:u,onClick:a,children:(0,n.jsx)(D.Z,{variant:"smallBold",className:"truncate text-ellipsis",children:t})}),(0,n.jsx)(D.Z,{color:"light",children:(0,n.jsx)(X.default,{size:"small",extraCSS:U()({"md:hover:text-super":r}),icon:Y.oK,onMouseDown:u,onClick:c})})]})},J=r(8005),ee=r(3412),et=r(65081),er=r(42066),en=r(34785),ei=r(71789),es=r(67144),el=r(86318),eo=r(9150),ea=r(2395),ec=r(17844),eu=r(43687),ed=r(79900),eh=r(20578),em=r(1837),ev=r(69650),ep=r(92225),ex=r(87442),ef=r.n(ex);let eg=i.forwardRef((e,t)=>{let{value:r,querySource:g,placeholder:j,disabled:M=!1,defaultTall:L,isFollowUp:b=!1,submitWillFork:C=!1,showFocuses:Z=!1,showFileUpload:w=!1,showCopilotToggle:N=!1,showIncognitoHint:S,hasShadow:_=!1,autofocus:V=!0,disablePrivacyWarning:D=!1,fileUploadTooltip:E,borderClass:T,onChange:I,onFocus:W,onSubmit:A}=e,z=(0,h.nO)(),[R,q]=(0,i.useState)(!1),[H,Q]=(0,i.useState)(!1),[G,Y]=(0,i.useState)([]),[X,ex]=(0,i.useState)(-1),[eg,ej]=(0,i.useState)(!1),[ek,eM]=(0,i.useState)(!1),[eL,eb]=(0,i.useState)(),[ey,eC]=(0,i.useState)(),[eZ,ew]=(0,i.useState)(!1),{isMobileStyle:eN,isMobileUserAgent:eS}=(0,k.d)(),{isMacOS:e_}=(0,en.useDevice)(),eV=(0,s.useTranslations)("askInput.loginModal"),eP=(0,s.useTranslations)("askInput.pricingModal"),eD=(0,s.useTranslations)("askInput.copilotToggle"),eE=(0,s.useTranslations)("shared"),eT=(0,s.useTranslations)("incognito"),{trackEvent:eI}=(0,o.WS)(),eW=(0,d.lG)(),eA=(0,a.W)(),{hasDataRetentionWarning:eO,hasLoadedSettings:ez,gpt4Limit:eR}=(0,u.v)(),{organization:eU}=(0,l.a)(),{updateSettings:eF}=(0,c.B)(),{isIncognito:eq}=(0,v.useLocalUserSettings)(),{isCopilot:eH,setIsCopilot:eB,focus:eQ,uploadRateLimit:eG}=(0,x.h)(),{suggestions:eK,handleUpdateSuggestions:eY,queryForSuggestions:eX}=(0,m.U3)(),e$=(0,i.useMemo)(()=>{if(eK.length&&r===eX)return eK[0]},[eK,r,eX]),{isFileSearchEnabled:eJ,autosuggestType:e1}=(0,ei.useExperimentalProps)(),{currentOpenedModal:e0,openModal:e7,closeModal:e2}=(0,p.useModalState)(),e6=(0,i.useRef)(null),e4=(0,i.useRef)(null),e5=t&&"function"!=typeof t?t:e4,e3=(0,i.useRef)(null),e9=M||H,e8=eg&&G.length>0&&"completion-tab"!==e1&&!eZ&&!e0,te=eR<=0&&eW,tt=C?er.MD:b?et.FP:ee.eF,tr=M||0===r.trim().length||void 0!==eL||eH&&(null==eR||0===eR)||H,tn=(0,i.useCallback)(ef()((e,t)=>{e.length>4e4?(eM(!0),eb("Too long")):null==z||z.emit("validate_input",{input:e},r=>{if(eM(!0),null==r?void 0:r.valid)eb(void 0),t();else{var n;let t=null!==(n=null==r?void 0:r.valid_length)&&void 0!==n?n:4e3;eb("Too long ".concat(t-e.length))}})},500,{leading:!1,trailing:!0}),[z]),ti=(0,i.useCallback)(e=>{let t=()=>{null==A||A({query:e.query,attachments:ey,promptSource:e.promptSource,querySource:e.querySource}),eb(void 0)};ek&&void 0===eL?t():e.query.length>4e3?tn(e.query,t):t()},[eL,ek,ey,A,tn]),ts=(0,i.useCallback)(ef()(e=>{if(e9||null!=e&&(e.length>50||-1!==e.indexOf("\n"))){Y([]),ex(-1);return}let t=(null!=e?e:"").trim();null==z||z.emit("list_autosuggest",t,{search_focus:eQ,attachments:ey},e=>{Array.isArray(e)?(Y(e),ex(-1)):console.warn(e)})},500,{leading:!0,trailing:!0}),[z,Y,eQ,ey,e9]),tl=(0,i.useCallback)(e=>{ex(e)},[ex]),to=(0,i.useCallback)(e=>{if(tr&&es.t.isEnterKeyWithoutShift(e)){e.preventDefault();return}let t=G.length,n=null;if(e1&&J.LD.includes(e1)){var i,s;es.t.isArrowDown(e)?t>0&&((null===(i=G[n=(X+1)%t])||void 0===i?void 0:i.query)!=null&&"legacy-dropdown"===e1&&I(G[n].query),e.preventDefault()):es.t.isArrowUp(e)?((n=X-1)<0?(n=-1,0===X&&e.preventDefault()):e.preventDefault(),(null===(s=G[n])||void 0===s?void 0:s.query)!=null&&"legacy-dropdown"===e1&&I(G[n].query)):es.t.isEnterKeyWithoutShift(e)&&!eS&&null!=r&&r.trim().length>0&&!R&&(X>=0&&X<t?"legacy-dropdown"===e1?ti({query:r,promptSource:"autosuggest",querySource:"autosuggest"}):"completion-dropdown"===e1&&(eI("auto suggestion accepted",{mode:"dropdown-complete",query:r,completion:G[X].query}),ti({query:G[X].query,promptSource:"autosuggest",querySource:"autosuggest"})):ti({query:r,querySource:g})),null!=n&&ex(n)}else!R&&es.t.isEnterKeyWithoutShift(e)&&!eS&&ti({query:r,querySource:g});es.t.isEnterKeyWithoutShift(e)&&!eS&&(q(!0),e.preventDefault())},[R,tr,G,e1,eS,X,I,r,ti,eI,g]),ta=(0,i.useCallback)(()=>{if(V){var e;null===(e=e5.current)||void 0===e||e.focus(),ej(!0)}},[V,e5]);(0,eh.L)(()=>{V&&window.addEventListener("blur",()=>{requestAnimationFrame(()=>{var e;null===(e=e5.current)||void 0===e||e.focus()})})},[V,e5]);let tc=(0,i.useCallback)(e=>{!eW&&e?e7("loginModal",{pitchMessage:{title:eV("title",{copilot:"Pro Search"}),description:eV("description")},origin:O.FM.TRY_COPILOT}):te&&e&&!eA?e7("pricingModal",{pitchMessage:{title:eP("title",{copilot:"Pro Search"}),description:eP("description",{pplx:"Perplexity",pro:"Pro"})},origin:O.FM.TRY_COPILOT}):(e&&ta(),eF({default_copilot:e}),eB(e),eI("copilot toggled",{isEnabled:e}))},[eW,te,eA,e7,eV,eP,eF,eB,eI,ta]),tu=(0,i.useCallback)((e,t)=>{if(I(e),"legacy-dropdown"===e1)ts(e);else if(e1&&J.oI.includes(e1)){var r,n,i;let s=(null===(r=e5.current)||void 0===r?void 0:r.selectionStart)===(null===(i=e5.current)||void 0===i?void 0:null===(n=i.value)||void 0===n?void 0:n.length);(0,m.gW)(e,s)&&eY(e,"completion-tab"===e1?"suggest":"dropdown",t)}},[I,e1,ts,e5,eY]),td=(0,i.useCallback)(e=>{if((e.metaKey||e.ctrlKey)&&"."===e.key)e.preventDefault(),tc(!eH),ta();else if(es.t.isEnterKeyWithoutShift(e)&&!eS)q(!1);else if("completion-tab"===e1&&es.t.isTabKey(e)&&e$){e.preventDefault();let t=e$+" ";tu(r+t,t),eI("auto suggestion accepted",{mode:"tab-complete",query:r,completion:r+t})}},[eS,e1,tc,eH,ta,e$,tu,r,eI]),th=(0,i.useCallback)(e=>{let t=e.clipboardData;if(t&&t.items.length>0){var r;let n=new DataTransfer;for(let r=0;r<t.items.length;r++){let i=t.items[r];if("file"===i.kind){e.preventDefault();let t=i.getAsFile();t&&n.items.add(t)}if("text/plain"===i.type){let t=e.clipboardData.getData("Text");if(!(t.length>8e3))return;{e.preventDefault();let r=void 0===ey?"paste.txt":"paste-".concat(ey.length+1,".txt"),i=new File([t],r,{type:"text/plain"});n.items.add(i)}}}null===(r=e3.current)||void 0===r||r.uploadFiles(n.files)}},[ey]),tm=(0,i.useCallback)(e=>{ej(!0);let t=e.target.value;t.length>4e3?(eM(!1),tn(t,()=>eb(void 0))):(eM(!0),eb(void 0)),tu(e.target.value)},[tn,tu]),tv=(0,i.useCallback)(e=>{var t;tu(e),null===(t=e5.current)||void 0===t||t.focus()},[tu,e5]),tp=(0,i.useCallback)(e=>{null==W||W(e)},[W]),tx=(0,i.useCallback)(()=>{ej(!1),ex(-1)},[]),tf=(0,i.useCallback)(e=>{Q(!1),(null==e?void 0:e.length)>0?(eC(e),ta()):eC(void 0)},[Q,eC,ta]),tg=(0,i.useCallback)(()=>{if("completion-tab"===e1&&e$){var e;let t=e$+" ";tu(r+t,t),null===(e=e5.current)||void 0===e||e.focusAtEnd(),eI("auto suggestion accepted",{mode:"tap-complete",query:r,completion:r+t})}},[e1,e$,tu,r,e5,eI]);(0,i.useEffect)(()=>(document.addEventListener("keydown",td),()=>{document.removeEventListener("keydown",td)}),[td]),(0,i.useEffect)(()=>{"legacy-dropdown"===e1&&ts()},[ts,e1]),(0,i.useEffect)(()=>{if("completion-dropdown"===e1){if(0===eK.length){let e=setTimeout(()=>{Y([])},500);return()=>clearTimeout(e)}eX===r&&Y(eK.map(e=>({query:r+e})))}},[eK,e1,eX,r]),(0,i.useEffect)(()=>{w||eC(void 0)},[w]);let tj=void 0!==eL;return(0,n.jsx)(el.M,{condition:!b&&eW,wrapper:e=>(0,n.jsx)(eo.r,{onDrop:e=>{var t;null===(t=e3.current)||void 0===t||t.uploadFiles(e)},children:e}),children:(0,n.jsx)("div",{ref:e6,children:(0,n.jsx)(B.J,{isOpen:null!=e8&&e8,matchTargetWidth:!0,disableAnimation:!0,zIndex:20,content:(0,n.jsx)(P.ZP,{variant:"background",className:"mx-one -mt-[3px] flex flex-col items-stretch overflow-hidden rounded-b-md shadow-sm ring-2",children:G.map((e,t)=>{let{query:i}=e;return(0,n.jsx)($,{text:i,isFocused:t===X,onPasteButtonClick:tv,onTextClick:e=>{eI("auto suggestion accepted",{mode:"dropdown-complete",query:r,completion:e}),ti({query:e,querySource:"autosuggest"})},onMouseOver:()=>tl(t)},i+t)})}),placement:"bottom",childrenClassName:"grow block",children:(0,n.jsxs)(ea.G,{defaultTall:L,borderClass:T,wrapperClass:U()({"transition-none rounded-b-none p-lg":e8}),size:"large",hasShadow:_,children:[(0,n.jsx)(ea.G.Input,{ref:e5,value:r,defaultTall:L,minRows:L?2:void 0,placeholder:j,disabled:M,autoFocus:V,onClick:()=>{ej(!0)},onChange:tm,onKeyDown:to,onBlur:tx,onFocus:tp,onPaste:th,isMobileStyle:eN,isMobileUserAgent:eS,suggestText:"completion-tab"===e1?e$:void 0,tapAcceptSuggestText:tg}),(0,n.jsx)(ea.G.LeftAttribution,{children:(0,n.jsxs)(em.S,{children:[(0,n.jsx)(ev.M,{initial:!1,mode:"popLayout",children:eq&&S&&(0,n.jsx)(ep.E.div,{className:"mr-xs flex shrink-0 items-center",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},children:(0,n.jsx)(ec.Z,{className:"max-w-[280px]",tooltipText:eT("infoTooltip"),keyboardShortcut:e_?["âŒ˜",";"]:["ctrl",";"],asChild:!0,children:(0,n.jsx)("span",{children:(0,n.jsx)(f.X,{size:"small",inverse:!0})})})})}),Z&&!b&&(eJ?(0,n.jsx)(K,{onSwitch:ta,onOpen:()=>{ew(!0)},onClose:()=>{ew(!1)},wrapperRef:e6}):(0,n.jsx)(y,{onSwitch:ta,onOpen:()=>{ew(!0)},onClose:()=>{ew(!1)}})),w&&(0,n.jsx)(F,{socket:z,isMobileStyle:eN,isSignedIn:eW,iconOnly:b,forwardedRef:e3,uploadRateLimit:eG,fileType:eA?"all":"text",fileUploadSocketName:"get_upload_url",openLoginModal:e=>e7("loginModal",e),openPricingModal:e=>e7("pricingModal",e),openCompanyDataPrivacyModal:e=>{var t;return e7("companyDataPrivacyModal",{organizationName:null!==(t=null==eU?void 0:eU.display_name)&&void 0!==t?t:"",onContinue:e})},tooltip:E,closeModal:e2,onStart:()=>Q(!0),onComplete:tf,showPrivacyWarning:eO&&!D})]})}),(0,n.jsxs)(ea.G.RightAttribution,{children:[N&&(0,n.jsx)(eu.Z,{isMacOS:e_,isLoading:!ez&&eW,hideSwitch:ez&&te,isSignedIn:eW,isPlus:eA,gpt4Limit:eR,isCopilot:eH,onChange:tc,modalDescription:eD("copilotModalDesc"),learnMoreText:eE("learnMore"),searchesLeftText:eD("searchesLeft"),reloadsEvery:eD("reloadsEvery")}),g&&(0,n.jsx)(ed.Z,{toolTip:C?"Start your own thread":"",icon:tt,isDisabled:tr,disabledErrorMessage:tj,value:r,querySource:g,handleSubmit:ti})]})]})})})})});eg.displayName="AskInput";var ej=i.memo(eg)},35318:function(e,t,r){"use strict";r.d(t,{u:function(){return w}});var n=r(53854),i=r(21062),s=r(20981),l=r(97825),o=r(77301),a=r(86812),c=r(42138),u=r(60359),d=r(93895);let h=["perplexity1","perplexity2"],m=async()=>h.map(e=>({queryKey:e,icon:"\uD83D\uDD0E"})),v=e=>{let{limit:t,campaign:r,locale:n,visitorId:i,userEmail:s,userId:l,usePerplexityQueries:o}=e,h=(0,u.useTranslations)("helperQueries"),{data:v}=(0,c.useQuery)({queryKey:(0,a.Al)(),queryFn:o?()=>m():()=>(0,d.Dv)({limit:t,campaign:r,locale:n,visitorId:i,userEmail:s,userId:l}),networkMode:"always"});return v?{helperQueries:v.map(e=>({...e,query:e.queryKey?h(e.queryKey):e.queryString})),helperQueriesLoading:!1}:{helperQueries:[],helperQueriesLoading:!0}};var p=r(98510),x=r(605),f=r(15117),g=r(37771),j=r(22571),k=r(92508),M=r(37462),L=r.n(M),b=r(69650),y=r(92225),C=e=>{let{helperQueries:t,loading:r,limit:i=4,onClickSuggestion:s}=e;return(0,n.jsx)("div",{className:"mt-md",children:(0,n.jsx)("div",{className:"",children:(0,n.jsx)("div",{className:L()("grid grid-cols-1 gap-sm md:auto-rows-fr md:grid-cols-2",{"animate-pulse":r}),children:(0,n.jsx)(b.M,{mode:"wait",initial:!1,children:r||0===t.length?(0,n.jsx)(n.Fragment,{children:Array.from({length:i}).map((e,t)=>(0,n.jsx)(y.E.div,{initial:{y:4},animate:{y:4},children:(0,n.jsxs)(j.ZP,{variant:"offset",className:"col-span-1 flex items-center gap-x-sm rounded-lg border border-transparent p-xs opacity-50",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-md p-xs dark:bg-superBGDark/40",children:(0,n.jsx)(k.Z,{children:"\xa0"})}),(0,n.jsx)(k.Z,{variant:"smallBold",children:"\xa0"})]},t)},t))}):(null!=t?t:[]).slice(0,i).map((e,t)=>(0,n.jsx)(y.E.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0},transition:{ease:"easeOut",duration:.33,delay:.02*t},children:(0,n.jsxs)(j.ZP,{bgHover:"offset",className:"group col-span-1 flex h-full w-full cursor-pointer items-center gap-x-sm rounded-lg border p-xs",onClick:()=>s(e.query),children:[(0,n.jsx)(j.ZP,{variant:"offset",className:"flex h-8 w-8 items-center justify-center rounded-md p-xs transition-all duration-200 group-hover:bg-transparent dark:bg-superBGDark/40",children:(0,n.jsx)(k.Z,{children:e.icon})}),(0,n.jsx)(k.Z,{variant:"smallBold",className:"line-clamp-2",children:e.query})]})},e.query))})})})})},Z=r(78113);let w=s.memo(e=>{var t,r,s;let{isDisabled:a,limit:c=4,usePerplexityQueries:u=!1}=e,{trackEvent:d}=(0,o.WS)(),h=(0,l.useRouter)(),m=(0,l.useSearchParams)(),{submitQuery:j}=(0,x.e)(),{currentOpenedModal:k,closeModal:M}=(0,p.useModalState)(),L=(0,g.qm)(),b=(0,f.mm)(),{data:y}=(0,i.useSession)(),{helperQueries:w,helperQueriesLoading:N}=v({limit:c,campaign:null!==(s=null==m?void 0:m.get("utm_campaign"))&&void 0!==s?s:void 0,locale:L,visitorId:null!=b?b:void 0,userId:null==y?void 0:null===(t=y.user)||void 0===t?void 0:t.id,userEmail:null==y?void 0:null===(r=y.user)||void 0===r?void 0:r.email,usePerplexityQueries:u});return(0,n.jsx)("div",{onMouseOver:()=>h.prefetch("/search"),children:(0,n.jsx)(C,{helperQueries:w,loading:N,onClickSuggestion:e=>{if(a)return;"onboardingModal"===k&&M(),d("click home tab suggestion",{suggestion:e});let t=(0,Z.Mp)();j({rawQuery:e,collection:null,newFrontendContextUUID:t,existingFrontendContextUUID:null,promptSource:"helper",querySource:"helper"});let r=new URLSearchParams({q:"pending",newFrontendContextUUID:t,focus:"internet"}),n=new URL(window.location.href);n.pathname="search/new",n.search=r.toString();let i=n.toString();h.push(i)},limit:c})})})},8005:function(e,t,r){"use strict";r.d(t,{LD:function(){return i},dm:function(){return s},oI:function(){return n}}),r(93895);let n=["completion-tab","completion-dropdown"],i=["legacy-dropdown","completion-dropdown"],s=["en-US"]},82087:function(e,t,r){"use strict";r.d(t,{Z:function(){return U}});var n=r(53854),i=r(20981),s=r(60359),l=r(21062),o=r(53437),a=r(77301),c=r(93895),u=r(42439),d=r(45371),h=r.n(d);function m(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=new Date().toISOString();console.log("[".concat(n,"] "),...t)})("[email_signin_flow] ",...t)}r(32608),new(h())({stdTTL:30});var v=r(6503);let{useRouter:p}=(0,o.iV)(),x=async e=>{var t;let r=null;try{r=await (0,c.oS)(e)}catch(e){return console.log(e),null}return null!==(t=null==r?void 0:r.workos_org_id)&&void 0!==t?t:null},f=async e=>{var t;let r=null;try{r=await (0,c.oS)(e)}catch(e){return console.log(e),null}return null!==(t=null==r?void 0:r.force_sso)&&void 0!==t&&t},g=e=>{let{email:t,onError:r,onClose:n,redirectUrl:o}=e,{trackEvent:c}=(0,a.WS)(),d=p(),h=(0,s.useLocale)(),g=(0,s.useTranslations)("shared"),j=(0,i.useMemo)(()=>t.length>0&&t.includes("@")&&t.includes(".")&&t.indexOf("@")<t.lastIndexOf(".")&&t.indexOf("@")>0,[t]),k=(0,i.useCallback)(e=>{(0,l.signIn)(e,{callbackUrl:o}),c("login with third party clicked",{thirdParty:e})},[o,c]),M=(0,i.useCallback)(async()=>{let e=await x(t);if(!e){r("SSO not available for email ".concat(t));return}n(),await (0,l.signIn)("workos",void 0,{organization:e,login_hint:t})},[t,n,r]);return{emailIsValid:j,handleThirdPartySignIn:k,handleMagicLinkEmailSignIn:(0,i.useCallback)(async()=>{let e=null==t?void 0:t.toLowerCase();if(await f(e)){await M();return}let n=(0,u.Qs)({redirect:o});c("login with email clicked",{email:e});let i=await (0,l.signIn)("email",{email:e,callbackUrl:"".concat(n,"#locale=").concat(h),redirect:!1});if(null==i?void 0:i.ok){m("email request POST successful for ".concat(e));let t=encodeURIComponent(e),r=encodeURIComponent(n),i="/auth/verify-request?email=".concat(t,"&redirectUrl=").concat(r);d.push(i)}else if((null==i?void 0:i.status)===429)m("email sign in rate limited for ".concat(e)),d.push("/auth/email-rate-limited");else{let t="email sign in generic error: ".concat(e," ")+"Response(status=".concat(null==i?void 0:i.status,", ")+"error=".concat(null==i?void 0:i.error,", ")+"ok=".concat(null==i?void 0:i.ok,", ")+"url=".concat(null==i?void 0:i.url,")");m(t),v.Tb(t),r(g("errorRetry"))}},[t,o,d,c,h,M,r,g]),handleSSOSignIn:M,handleDevSignIn:(0,i.useCallback)(async(e,t)=>{let r={callbackUrl:o};switch(e){case"basic":r.pro=!1;break;case"pro":r.pro=!0;break;case"enterpriseMember":r.enterprise_member=!0;break;case"enterpriseAdmin":r.enterprise_admin=!0;break;case"enterpriseBillingAdmin":r.enterprise_billing_admin=!0;break;case"script":r.script=!0;break;case"frontendTest":r.fe_test=!0;break;case"example.com":r.email_handle=null!=t?t:"pplx-dev"}return await (0,l.signIn)("devlogin",r)},[o])}};var j=r(98510),k=r(89219),M=r(86209),L=r(36792),b=r(87406),y=r(40723),C=r(71522),Z=r(93816),w=r(71816),N=r(60412),S=r(49436),_=r(10073),V=r(19588),P=r(4009),D=r(67144),E=r(9618),T=r(92508),I=r(2355),W=r(22571),A=r(45138),O=r(25245),z=r(37462),R=r.n(z),U=e=>{let{showTitle:t=!0,onClose:r=()=>{},redirectUrl:l,showInternal:o,size:a="default",disallowedMethods:c,variant:u}=e,[d,h]=i.useState(""),[m,v]=i.useState(),[p,x]=i.useState(!1),{emailIsValid:f,handleThirdPartySignIn:z,handleMagicLinkEmailSignIn:U,handleSSOSignIn:F,handleDevSignIn:q}=g({email:d,onClose:r,redirectUrl:l,onError:v}),{isTesting:H,isLocalhost:B,isSandbox:Q,isDevBox:G,isPplxDev:K,isDevDeployment:Y}=(0,V.useEnv)(),X=H||B||Q||G||K||Y||B,{isMobileStyle:$,isMobileUserAgent:J}=(0,P.d)(),ee=(0,s.useTranslations)("login"),et=(0,i.useRef)(null),[er,en]=i.useState(!1),[ei,es]=i.useState("default"===a),{closeModal:el}=(0,j.useModalState)(),eo=(0,i.useCallback)(async()=>{if(!f){v(ee("emailError"));return}if(p){console.log("Already sending email");return}if(x(!0),d.endsWith("@example.com")&&X&&!er){r(),await q("example.com",d.split("@")[0]),x(!1);return}er?await F():(await U(),el()),x(!1)},[f,p,d,X,er,ee,r,q,F,U,el]),ea=(0,i.useCallback)(e=>{D.t.isEnterKeyWithoutShift(e)&&eo()},[eo]),ec=[{icon:w.Lb,text:"Basic",onClick:()=>q("basic")},{icon:N.D$,text:"Pro",onClick:()=>q("pro")},{icon:S.xL,text:"Enterprise Member",onMouseDown:e=>e.preventDefault(),onClick:()=>q("enterpriseMember")},{icon:S.xL,text:"Enterprise Admin",onMouseDown:e=>e.preventDefault(),onClick:()=>q("enterpriseAdmin")},{icon:S.xL,text:"Enterprise Billing Admin",onMouseDown:e=>e.preventDefault(),onClick:()=>q("enterpriseBillingAdmin")},{icon:C.jV,text:"Script Default User",onClick:()=>q("script")},{icon:C.jV,text:"FE Test User",onClick:()=>q("frontendTest")}];return(0,i.useEffect)(()=>{er&&et.current.focus()},[er]),(0,n.jsxs)("div",{children:[er&&(0,n.jsx)("div",{className:"absolute left-0 top-0 z-40",children:(0,n.jsx)(E.Z,{size:"small",pill:!0,icon:L.ac,onClick:()=>{en(!1),v(null)}})}),t&&(0,n.jsx)(T.Z,{color:"light",className:"mb-md mt-sm text-center",children:ee("modalSubtitle")}),(0,n.jsxs)("div",{className:"mx-auto max-w-sm",children:[!er&&(0,n.jsxs)("div",{className:"space-y-sm",children:[(0,n.jsx)(I.Z,{fullWidth:!0,pill:!0,size:t?void 0:"small",icon:M.xY,text:ee("continueWithGoogle",{google:"Google"}),onClick:()=>z("google"),extraCSS:ei||"compact"!==a?void 0:"h-[38px]",variant:(null==u?void 0:u.includes("boldGoogle"))?"primary":"common"}),ei?(0,n.jsxs)(n.Fragment,{children:[!(null==c?void 0:c.includes("apple"))&&(0,n.jsx)(I.Z,{pill:!0,fullWidth:!0,size:t?void 0:"small",icon:k.Av,text:ee("continueWithApple",{apple:"Apple"}),onClick:()=>z("apple")}),(0,n.jsx)(I.Z,{pill:!0,fullWidth:!0,size:t?void 0:"small",icon:Z.DD,text:ee("ssoTitle"),onClick:()=>{en(!0)}})]}):(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(E.Z,{pill:!0,size:"compact"===a?"tiny":"small",text:ee("seeAllOptions"),onClick:()=>{es(!0)},chevron:!0,chevronIcon:b.pt})}),o&&X&&(0,n.jsx)(W.ZP,{children:(0,n.jsx)(A.DropDownMenu,{items:ec,isMobileStyle:$,children:(0,n.jsx)(I.Z,{icon:_.Kd,text:"Internal Login",pill:!0,chevron:!0,fullWidth:!0,variant:"rejected"})})})]}),(0,n.jsxs)(W.ZP,{className:R()("mt-sm space-y-sm border-t pt-md",{"!mt-md":ei}),children:[er?(0,n.jsx)(T.Z,{variant:"smallBold",className:"text-center",children:ee("enterWorkEmail")}):null,(0,n.jsx)(O.ZP,{isMobileUserAgent:J,type:"email",errorText:m,placeholder:er?ee("ssoEmailPlaceholder"):ee("emailPlaceholder"),value:d,onKeyDown:ea,onChange:e=>{v(""),h(e.target.value)},ref:et,disabled:p}),(0,n.jsx)("div",{className:"flex justify-center",children:er?(0,n.jsx)(I.Z,{pill:!0,chevron:!0,chevronIcon:y._t,size:"small",text:er?ee("continueWithSSO"):ee("continueWithEmail"),extraCSS:"w-full h-[36px]",variant:"primary",onClick:eo,isLoading:p,disabled:""===d||p}):"compact"===a?(0,n.jsx)(I.Z,{pill:!0,variant:"primary",chevron:!0,chevronIcon:y._t,size:"small",text:ee("continueWithEmail"),onClick:eo,extraCSS:"w-full h-[36px]",isLoading:p,disabled:("boldEmail"===u?void 0:""===d)||p}):"boldEmail"===u?(0,n.jsx)(I.Z,{pill:!0,size:"small",text:ee("continueWithEmail"),onClick:eo,variant:"primary",extraCSS:"w-full h-[36px]",isLoading:p,disabled:""===d||p}):(0,n.jsx)(E.Z,{pill:!0,size:"small",text:ee("continueWithEmail"),onClick:eo,isLoading:p,disabled:""===d||p})})]})]})]})}},51612:function(e,t,r){"use strict";var n=r(53854),i=r(20981),s=r(60359),l=r(90063),o=r(97825),a=r(77301),c=r(43723),u=r(47285),d=r(22571),h=r(92508),m=r(29267);t.Z=e=>{let{}=e,t=(0,o.useRouter)(),{trackEvent:r}=(0,a.WS)(),v=(0,s.useTranslations)("onboarding"),p=(0,m.E)(),x=(0,m.E)(),f=(0,i.useCallback)(async()=>{p.start("visible"),await x.start("visible")},[x,p]);return(0,i.useEffect)(()=>{f()},[f]),(0,n.jsxs)("div",{className:"mx-auto text-center",children:[(0,n.jsx)("video",{muted:!0,loop:!0,autoPlay:!0,controls:!0,playsInline:!0,disablePictureInPicture:!0,className:"mx-auto mt-lg aspect-video w-full max-w-screen-sm overflow-hidden rounded-lg shadow-lg",children:(0,n.jsx)("source",{src:"https://r2cdn.perplexity.ai/perplexity-iphone-wide2.mp4",type:"video/mp4"})}),(0,n.jsxs)(d.ZP,{className:"mx-auto mt-lg flex items-center justify-center gap-lg rounded-lg",children:[(0,n.jsxs)("div",{className:"md:text-left",children:[(0,n.jsx)(h.Z,{variant:"section-title",children:v("getAppTitle")}),(0,n.jsx)(h.Z,{color:"light",className:"mt-xs",children:v("getAppSubtitle")}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("div",{className:"mt-md flex cursor-pointer justify-center transition duration-300 hover:opacity-50 md:block",onClick:()=>{r("onboarding App store clicked",{}),t.push(u.Fv)},children:[(0,n.jsx)(l.default,{src:"/static/images/iphone/apple.svg",className:"w-[150px] dark:hidden",alt:"Apple logo",width:150,height:50}),(0,n.jsx)(l.default,{src:"/static/images/iphone/apple-dark.svg",className:"hidden w-[150px] dark:block",alt:"Apple logo",width:150,height:50})]}),(0,n.jsx)("div",{className:"mt-md flex cursor-pointer justify-center transition duration-300 hover:opacity-50 md:block",onClick:()=>{r("onboarding Google play clicked",{}),t.push(u.Wn)},children:(0,n.jsx)(l.default,{src:"/static/images/android/play.png",className:"w-[185px]",alt:"Android",width:180,height:70})})]})]}),(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)(d.ZP,{className:"w-full overflow-hidden rounded-lg border shadow-sm",children:(0,n.jsx)(c.Z,{})})})]})]})}},39797:function(e,t,r){"use strict";r.d(t,{Z:function(){return eh}});var n=r(53854),i=r(21238),s=r(95500),l=r(60359),o=r(54535),a=r(77301),c=r(51612),u=e=>{let{}=e,{handleNext:t}=(0,i.p)(),{trackEvent:r}=(0,a.WS)(),s=(0,l.useTranslations)("onboarding");return(0,n.jsx)(o.default,{title:s("mobileTitle"),subtitle:s("mobileSubtitle"),continueButtonProps:{onClick:()=>{r("onboarding finish clicked",{}),t()}},children:(0,n.jsx)(c.Z,{})})},d=r(20981),h=r(61575),m=r(20961),v=r(22571),p=r(88121),x=e=>{let{}=e,t=(0,m.W)(),{handleNext:r}=(0,i.p)(),{trackEvent:s}=(0,a.WS)(),c=(0,l.useTranslations)("onboarding");return(0,n.jsx)(o.default,{continueButtonProps:{text:c("skipButtonText"),onClick:()=>{s("onboarding skip clicked",{}),r()}},title:c(t?"proFeatures":"proTitle"),subtitle:t?null:c("proSubtitle"),children:(0,n.jsx)(v.ZP,{className:"mt-lg md:border-t md:pt-lg",children:(0,n.jsx)(h.Z,{origin:p.FM.ONBOARDING,onClickContinue:r,useExperimentalTierUi:!0})})})},f=r(35318),g=e=>{let{}=e,{trackEvent:t}=(0,a.WS)(),{handleNext:r}=(0,i.p)(),s=(0,l.useTranslations)("onboarding");return(0,n.jsx)(o.default,{title:s("starterQuery.title"),subtitle:s("starterQuery.subtitle"),continueButtonProps:{text:s("skipButtonText"),variant:"common",onClick:()=>{t("onboarding continue success",{}),r()}},children:(0,n.jsx)(v.ZP,{children:(0,n.jsx)(f.u,{isDisabled:!1,limit:8})})})},j=r(64980),k=r(18410),M=r(61776),L=r(96558),b=r(3859),y=r(4553),C=r(28574),Z=r(38865),w=r(61108),N=r(16277),S=r(33688),_=r(43595),V=r(33762),P=r(1971),D=r(71314),E=r(57698),T=r(69317),I=r(44428),W=r(53005),A=r(78151),O=r(85345),z=r(4348),R=r(96899),U=r(2611),F=r(76113),q=r(19953),H=r(72215),B=r(73146),Q=r(30854),G=r(46737),K=r(88103),Y=r(50319),X=r(58288),$=r(77099),J=r(92508),ee=r(37462),et=r.n(ee),er=r(92225),en=e=>{let{}=e,t=(0,l.useTranslations)("onboarding"),{trackEvent:r}=(0,a.WS)(),[s,c]=(0,d.useState)(!0),{handleNext:u}=(0,i.p)();(0,d.useEffect)(()=>{let e=setInterval(()=>{c(e=>!e)},2500);return()=>clearInterval(e)},[]);let h=[z.Wd,b._z,Z.Rc,O.vq,U.zv,q.mN,D.Po,k.$3,M.Qk,L.Xq,y.tf,C.BD,w.faCamera,N.FV,S.th,_.b7,V.l5,P.Vn,D.Po,E.uj,T.Uv,I.rj,W.j4,A.dC,R.mU,F.N6,H.Tz,B.uw,G.Ug,K.dd,Y.OV,X.rq,$.Z1],m=e=>(0,n.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-md bg-superBG text-super dark:bg-superBGDark dark:text-superDark",children:(0,n.jsx)(j.G,{icon:e})});return(0,n.jsx)(o.default,{continueButtonProps:{onClick:()=>{r("onboarding continue success",{}),u()}},title:t("valueProp.title"),subtitle:t("valueProp.titleSub"),children:(0,n.jsxs)("div",{className:"flex w-full grid-cols-2 flex-col gap-sm md:grid",children:[(0,n.jsxs)(v.ZP,{variant:"offset",className:"col-span-1 row-span-2 rounded-lg p-md",children:[(0,n.jsx)("div",{className:et()("flex rounded-full bg-superBG p-xs dark:bg-superBGDark",{"justify-start":s,"justify-end":s}),children:(0,n.jsx)(er.E.div,{className:et()("flex h-8 w-8 items-center justify-center rounded-full bg-super dark:bg-superDark"),layout:!0,transition:{ease:"easeInOut",duration:2.5},children:(0,n.jsx)(J.Z,{variant:"small",color:"defaultInverted",children:(0,n.jsx)(j.G,{icon:Q.wn})})})}),(0,n.jsx)(J.Z,{variant:"section-title",className:"mb-sm mt-md",children:t("valueProp.subtitle")}),(0,n.jsx)(J.Z,{children:t("valueProp.description")})]}),(0,n.jsxs)(v.ZP,{variant:"offset",className:"col-span-1 col-start-2 row-span-1 rounded-lg p-md",children:[(0,n.jsx)("div",{className:"flex gap-sm",children:Array.from({length:5},(e,t)=>(0,n.jsx)(er.E.div,{className:"flex h-8 w-8 items-center justify-center rounded-full bg-superBG p-sm dark:bg-superBGDark",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{ease:"anticipate",duration:.5,delay:.4*t,repeat:1/0,repeatDelay:1.5,repeatType:"mirror"},children:(0,n.jsx)(J.Z,{color:"super",children:(0,n.jsx)("span",{className:"font-mono font-bold",children:t+1})})},t))}),(0,n.jsx)(J.Z,{variant:"baseSemi",className:"mb-xs mt-md",children:t("valueProp.subtitle3")}),(0,n.jsx)(J.Z,{children:t("valueProp.description3")})]}),(0,n.jsxs)(v.ZP,{variant:"offset",className:"col-span-1 col-start-2 row-span-1 rounded-lg",children:[(0,n.jsxs)("div",{className:"relative mt-md h-10 w-full overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute left-0 h-10 bg-gradient-to-r from-offset md:w-[100px] dark:from-offsetDark"}),(0,n.jsx)("div",{className:"absolute right-0 h-10 w-full bg-gradient-to-l from-offset dark:from-offsetDark"}),(0,n.jsx)(er.E.div,{animate:{x:[-10,-1e3]},className:"w-content absolute flex items-center",transition:{duration:60,repeat:1/0,ease:"linear",repeatType:"loop"},children:h.map((e,t)=>(0,n.jsxs)(d.Fragment,{children:[m(e),(0,n.jsx)("div",{className:"l h-1 w-3 flex-none bg-superBG dark:bg-superBGDark"})]},t))})]}),(0,n.jsxs)("div",{className:"p-md",children:[(0,n.jsx)(J.Z,{variant:"baseSemi",className:"mb-xs",children:t("valueProp.subtitle2")}),(0,n.jsx)(J.Z,{children:t("valueProp.description2")})]})]})]})})},ei=r(85271);let es=(0,s.default)(()=>r.e(217).then(r.bind(r,80217)),{loadableGenerated:{webpack:()=>[80217]},ssr:!1}),el=(0,s.default)(()=>Promise.all([r.e(3562),r.e(3137)]).then(r.bind(r,63137)),{loadableGenerated:{webpack:()=>[63137]},ssr:!1}),eo=(0,s.default)(()=>r.e(4855).then(r.bind(r,94855)),{loadableGenerated:{webpack:()=>[94855]},ssr:!0}),ea=(0,s.default)(()=>Promise.all([r.e(5593),r.e(1563)]).then(r.bind(r,51563)),{loadableGenerated:{webpack:()=>[51563]},ssr:!1}),ec=(0,s.default)(()=>r.e(8418).then(r.bind(r,18418)),{loadableGenerated:{webpack:()=>[18418]},ssr:!1}),eu=(0,s.default)(()=>Promise.all([r.e(6234),r.e(807)]).then(r.bind(r,10807)),{loadableGenerated:{webpack:()=>[10807]},ssr:!1,loading:()=>(0,n.jsx)(ei.default,{noLines:!0})});var ed=e=>{let{currentStep:t}=e;return(0,n.jsxs)(n.Fragment,{children:["onboarding-profile"===t&&(0,n.jsx)(es,{}),"onboarding-starter-query"===t&&(0,n.jsx)(g,{}),"onboarding-pro"===t&&(0,n.jsx)(x,{}),"onboarding-org-join"===t&&(0,n.jsx)(eo,{}),"onboarding-org-create"===t&&(0,n.jsx)(el,{}),"onboarding-org-invite"===t&&(0,n.jsx)(eu,{}),"onboarding-sales"===t&&(0,n.jsx)(ea,{}),"onboarding-why"===t&&(0,n.jsx)(en,{}),"onboarding-mobile"===t&&(0,n.jsx)(u,{}),"onboarding-org-pricing"===t&&(0,n.jsx)(ec,{})]})},eh=e=>{let{inModal:t=!1}=e,{currentStep:r}=(0,i.p)();return(0,n.jsx)(v.ZP,{variant:"background",className:et()("",{"md:px-md lg:min-w-[900px]":t,"rounded-lg border p-lg":!t}),children:(0,n.jsx)(ed,{currentStep:r})})}},54535:function(e,t,r){"use strict";r.r(t);var n=r(53854),i=r(20981),s=r(60359),l=r(98510),o=r(21238),a=r(3412),c=r(22571),u=r(23005),d=r(92508),h=r(2355),m=r(37462),v=r.n(m);t.default=e=>{let{children:t,continueButtonProps:r,showStepIndicator:m=!0,title:p,subtitle:x,logo:f,headerClassName:g}=e,{currentIndex:j,steps:k}=(0,o.p)(),M=(0,s.useTranslations)("onboarding"),{currentOpenedModal:L}=(0,l.useModalState)(),b=(0,i.useMemo)(()=>r?r.text?r:j===k.length-1?{variant:"primary",...r,text:M("finishButtonText")}:{variant:"primary",...r,text:M("continueButtonText")}:null,[r,j,k.length,M]);return(0,n.jsxs)(c.ZP,{variant:"background",children:[(0,n.jsxs)(c.ZP,{className:v()("mb-md grid grid-cols-2 border-b pb-md md:mb-lg",{"grid-cols-3":m},g),children:[(0,n.jsx)("div",{className:"flex items-center justify-start gap-x-sm",children:f||(0,n.jsx)(u.Z,{size:"small",variant:"full"})}),m&&(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(c.ZP,{className:"hidden items-center justify-center gap-x-sm rounded-full px-sm md:inline-flex",children:[...Array(k.length).keys()].map(e=>(0,n.jsx)(c.ZP,{variant:e===j?"textColor":"offsetPlus",id:"step".concat(e),className:v()("flex h-4 w-4 items-center justify-center rounded-full"),children:(0,n.jsx)(d.Z,{variant:"smallBold",color:e===j?"defaultInverted":"default"})},e))})}),(0,n.jsx)("div",{className:"flex justify-end",children:r&&"onboardingModal"!==L&&(0,n.jsx)(h.Z,{pill:!0,chevron:!0,chevronIcon:a.eF,...b})})]}),(0,n.jsxs)("div",{className:"mb-md space-y-xs md:mb-lg",children:[(0,n.jsx)(d.Z,{variant:"display",children:p}),(0,n.jsx)(d.Z,{variant:"section-title",color:"light",children:x})]}),(0,n.jsx)("div",{children:t})]})}},86252:function(e,t,r){"use strict";r.d(t,{M8:function(){return i},Pc:function(){return n}});let n=r(63292).Km(["onboarding-profile","onboarding-pro","onboarding-org-join","onboarding-org-create","onboarding-why","onboarding-mobile","onboarding-starter-query","onboarding-sales","onboarding-org-pricing","onboarding-org-invite"]),i=["onboarding-why","onboarding-pro","onboarding-mobile","onboarding-starter-query"]},70537:function(e,t,r){"use strict";r.d(t,{s:function(){return w},u:function(){return Z}});var n=r(53854),i=r(64980),s=r(20981),l=r(53118),o=r(54886),a=r(59667),c=r(35459),u=r(34243),d=r(66007),h=r(78457),m=r(89642),v=r(88206),p=r(52161),x=r(38363);let f={current_job:o.HX,previous_job:p.cp,education:u.Xf,location:m.op,certificate:a.U,investor:v.OZ,skills:x.kl,website:c.g4,language:d.BC,patent:h.X8};var g=r(109),j=r(22571),k=r(4009),M=r(45138),L=r(9618),b=r(2279),y=r(92508);let C=(0,s.createContext)({menuItems:void 0}),Z=()=>{let e=(0,s.useContext)(C);if(!e)throw Error("usePanel must be used within PanelContext");return e},w=e=>{let{children:t,menuItems:r,variant:i}=e;return(0,n.jsx)(C.Provider,{value:{menuItems:r},children:(0,n.jsx)(j.ZP,{variant:"noChrome"===i?"background":"offset",className:"mb-md ".concat("noChrome"!==i&&"rounded-lg p-md"),children:t})})};w.Title=e=>{let{title:t,href:r,subtitle:i,image_url:s,children:o}=e;return(0,n.jsxs)(j.ZP,{className:"mb-md flex w-full justify-between gap-sm border-b pb-md",children:[(0,n.jsxs)("div",{className:"flex grow items-center gap-md",children:[s?(0,n.jsx)("div",{className:"flex-none",children:(0,n.jsx)(b.Z,{imageClassName:"w-[45px] h-[45px] object-cover object-top",rounded:"md",src:s,alt:t,useNextImage:!1,includeLightBoxModal:!1})}):null,(0,n.jsxs)("div",{children:[(0,n.jsx)(y.Z,{variant:"section-title",children:r?(0,n.jsx)(l.default,{href:r,className:"pointer-cursor duration-150 hover:text-super",children:t}):t}),(0,n.jsx)(y.Z,{color:"light",variant:"small",children:i})]})]}),o]})},w.Item=e=>{let{icon:t,name:r,value:s}=e;if(null!==r&&null!==s){let e=null;return null!=t&&(e=f[t]||null),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex w-[120px] gap-sm",children:[e&&(0,n.jsx)(y.Z,{variant:"smallBold",children:(0,n.jsx)(i.G,{fixedWidth:!0,icon:e})}),(0,n.jsx)(y.Z,{variant:"smallBold",children:r})]}),(0,n.jsx)(y.Z,{variant:"small",color:"light",children:s})]})}},w.Menu=e=>{let{menuItems:t,buttonClass:r}=e,{isMobileStyle:i}=(0,k.d)();return t.length<=0?null:(0,n.jsx)(M.DropDownMenu,{items:t,isMobileStyle:i,children:(0,n.jsx)(L.Z,{size:"tiny",pill:!0,icon:g.faEllipsis,extraCSS:r})})}},77466:function(e,t,r){"use strict";r.d(t,{W:function(){return c}});var n=r(53854),i=r(60359),s=r(90063),l=r(92508),o=r(37462),a=r.n(o);let c=e=>{let{src:t,onClick:r,showViewMore:o,onMouseEnter:c,onMouseLeave:u,className:d,imageClassName:h}=e,m=(0,i.useTranslations)("shared");return(0,n.jsxs)("div",{onClick:r,onMouseEnter:c,onMouseLeave:u,className:a()("group relative aspect-square h-full w-full cursor-pointer overflow-hidden rounded bg-offsetPlus duration-150 hover:opacity-80",d),children:[(0,n.jsx)(s.default,{src:t,fill:!0,alt:"",className:a()("m-0 object-contain duration-150 group-hover:scale-[1.02]",h),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",loading:"lazy",placeholder:"blur",blurDataURL:"data:image/svg+xml;base64,".concat(btoa('<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400"><rect width="100%" height="100%" fill="#f0f0f0"/></svg>'))}),o&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 dark:bg-black/80",children:(0,n.jsxs)(l.Z,{variant:"tiny",color:"white",className:"relative rounded-full px-sm py-xs",children:[(0,n.jsx)("span",{className:"absolute inset-0 rounded-[inherit] bg-black opacity-30 dark:bg-white dark:opacity-10"}),(0,n.jsx)("span",{className:"relative opacity-80 dark:opacity-60",children:m("viewMore")})]})})]})}},25462:function(e,t,r){"use strict";r.d(t,{D:function(){return c}});var n=r(53854),i=r(64980),s=r(72053),l=r(92508),o=r(37462),a=r.n(o);let c=e=>{let{rating:t,className:r,reviewCount:o,size:c="xs",textVariant:d="small",variant:h}=e,m=Math.floor(t),v=t%1==0?0:1;return(0,n.jsxs)("div",{className:a()("flex items-center gap-xs",r),children:[(0,n.jsxs)("div",{className:"flex items-center",children:["truncated"===h?(0,n.jsx)(i.G,{icon:s.dH,size:c,className:"text-super"}):Array.from({length:m}).map((e,t)=>(0,n.jsx)(i.G,{icon:s.dH,size:c,className:"text-super"},"rating-star-full-".concat(t))),"truncated"!==h&&Array.from({length:v}).map((e,r)=>(0,n.jsx)(u,{fraction:t%1,size:c},"rating-star-half-".concat(r))),"truncated"!==h&&Array.from({length:5-m-v}).map((e,t)=>(0,n.jsx)("span",{className:"inline-flex opacity-20",children:(0,n.jsx)(i.G,{icon:s.dH,size:c},t)},"rating-star-empty-".concat(t)))]}),(0,n.jsx)(l.Z,{variant:d,className:"relative top-px font-semibold leading-none",children:Number(t).toFixed(1)}),o&&o>0&&(0,n.jsxs)(l.Z,{variant:d,color:"light",className:"relative top-px leading-none",children:["(",o,")"]})]})},u=e=>{let{fraction:t,size:r}=e;return(0,n.jsxs)("div",{className:"isolate inline-grid grid-cols-1 grid-rows-1",children:[(0,n.jsx)("span",{className:"z-1 relative col-start-1 row-start-1 inline-flex items-center text-textMain opacity-30",children:(0,n.jsx)("span",{className:"inline-flex",children:(0,n.jsx)(i.G,{icon:s.dH,size:r})})}),(0,n.jsx)("span",{className:"z-2 relative col-start-1 row-start-1 inline-flex items-center",children:(0,n.jsx)("span",{className:"inline-flex overflow-hidden text-super",style:{width:100*t+"%"},children:(0,n.jsx)(i.G,{icon:s.dH,size:r})})})]})}},28621:function(e,t,r){"use strict";r.r(t),r.d(t,{ShopifyWidget:function(){return X}});var n=r(53854),i=r(20981),s=r(60359),l=r(23643),o=r(77301),a=r(70537),c=r(64980),u=r(87406),d=r(22571),h=r(92508),m=r(17126),v=r(37462),p=r.n(v);let x=e=>{let{keyFeatures:t,className:r}=e,[l,o]=(0,i.useState)(!0),a=(0,s.useTranslations)("shop");return(0,n.jsxs)(d.ZP,{className:p()("border-y",r),children:[(0,n.jsxs)("div",{onClick:()=>o(!l),className:"group relative flex h-12 cursor-pointer items-center justify-between",children:[(0,n.jsx)(d.ZP,{variant:"offset",className:"absolute -inset-x-3 inset-y-xs rounded-md opacity-0 duration-150 group-hover:opacity-100"}),(0,n.jsx)(h.Z,{variant:"baseSemi",className:"relative",children:a("keyFeatures")}),(0,n.jsx)(c.G,{icon:u.pt,className:p()("relative opacity-50",{"rotate-180":!l}),size:"sm"})]}),(0,n.jsx)(m.Root,{transition:{type:"spring",bounce:.2,duration:.2},mode:"wait",children:!l&&(0,n.jsx)(m.Item,{transition:{duration:.1},children:(0,n.jsx)("div",{className:"pb-md",children:(0,n.jsx)("ul",{className:"ml-sm flex flex-col gap-sm",children:t.map((e,t)=>(0,n.jsxs)("li",{className:"flex items-start gap-md",children:[(0,n.jsx)(h.Z,{as:"span",children:(0,n.jsx)("span",{className:"relative bottom-px inline-flex size-1.5 rounded-full bg-textOff align-middle opacity-60 dark:bg-textOffDark"})}),(0,n.jsx)(h.Z,{as:"span",children:e})]},t))})})})})]})};var f=r(6948),g=r(77466),j=r(64373);let k=e=>{let{images:t,badgeText:r,onImageClick:s}=e,[l,o]=(0,i.useState)(0),[a,c]=(0,i.useState)(null),u=e=>{o(e),s(e)},m=e=>{c(e)},v=(0,f.F)(t,6);return(0,n.jsxs)(d.ZP,{className:"group relative flex h-full flex-col overflow-hidden rounded-lg border bg-offsetPlus dark:border-none",children:[(0,n.jsxs)("div",{className:p()("relative flex-1 bg-white p-sm",{"pb-0":t.length>1}),children:[(0,n.jsx)(g.W,{src:t[null!=a?a:l].src,className:"aspect-[1.2/1] rounded-md border-none bg-transparent shadow-none",onClick:s.bind(null,l)}),r&&(0,n.jsx)("div",{className:"absolute right-3 top-3 flex items-center gap-sm",children:r&&(0,n.jsx)(h.Z,{variant:"smallCaps",className:"flex h-6 items-center rounded-full border border-black/5 bg-white/80 px-2 !text-black/50 backdrop-blur-sm",children:r})})]}),t.length>1&&(0,n.jsx)("div",{className:"group bottom-sm left-0 right-0 isolate bg-white",onMouseLeave:()=>{c(null)},children:(0,n.jsx)(j.Root,{paginationStyle:"overlay",wrapperClassName:"w-full",className:"!basis-full",clipChildren:!0,prevClassName:"left-xs -translate-x-sm group-hover:translate-x-0 z-10",nextClassName:"right-xs translate-x-sm group-hover:translate-x-0 z-10",paginationButtonProps:{size:"tiny",extraCSS:"opacity-0 group-hover:opacity-100 !bg-white !text-black/50 shadow-md border"},children:v.map((e,t)=>(0,n.jsx)(j.Item,{id:"".concat(t),children:(0,n.jsx)(M,{images:e,onClick:u,onMouseEnter:m,onMouseLeave:()=>{},rowIndex:t,selectedIndex:l})},"".concat(t)))})})]})},M=e=>{let{images:t,rowIndex:r,selectedIndex:i,onClick:s,onMouseEnter:l,onMouseLeave:o}=e;return(0,n.jsx)("div",{className:p()("grid grid-cols-6 items-center justify-center gap-sm px-sm py-sm"),children:t.map((e,t)=>{let a=6*r+t;return(0,n.jsx)(g.W,{src:e.src,className:p()('rounded-md bg-transparent shadow-sm after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-black/5 after:content-[""]',{"opacity-100":a===i}),imageClassName:"!object-cover",onClick:s.bind(null,a),onMouseEnter:l.bind(null,a),onMouseLeave:o},e.src)})})};var L=r(53118),b=r(58387),y=r(48210),C=r(97852);let Z=e=>{let{merchantName:t,merchantDomain:r,itemUrl:i}=e,l=(0,s.useTranslations)("shop");return(0,n.jsxs)(y.Root,{className:"flex items-center gap-xs text-textOff",children:[(0,n.jsx)(y.Item,{id:"merchant",children:(0,n.jsxs)(h.Z,{variant:"tiny",color:"light",className:"flex items-center gap-xs",children:[(0,n.jsx)(C.D,{className:"shrink-0",domain:r}),t]})}),i&&(0,n.jsx)(y.Item,{id:"details",children:(0,n.jsx)(L.default,{href:i,target:"_blank",children:(0,n.jsxs)(h.Z,{variant:"tiny",color:"light",className:"flex items-center gap-xs duration-150 hover:opacity-50",children:[l("viewDetails"),(0,n.jsx)(c.G,{icon:b.faArrowUpRightFromSquare,size:"xs"})]})})})]})},w=()=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"70",height:"auto","aria-labelledby":"shop-pay-logo",viewBox:"0 0 424 102",fill:"none",children:[(0,n.jsx)("title",{id:"shop-pay-logo",children:"Shop Pay"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.916 30.0997C208.894 25.1796 215.067 21.1016 222.436 21.1016C238.98 21.1016 252.012 34.7983 252.001 51.6974C252.001 69.3058 238.903 82.3375 223.189 82.3375C214.834 82.3375 208.44 78.06 206.102 74.4918H205.88V100.356C205.88 100.512 205.818 100.661 205.708 100.771C205.598 100.881 205.449 100.943 205.293 100.943H190.566C190.409 100.943 190.258 100.882 190.146 100.772C190.035 100.662 189.97 100.513 189.967 100.356V21.6779C189.967 21.5192 190.03 21.3669 190.143 21.2547C190.255 21.1425 190.407 21.0795 190.566 21.0795H204.329C204.486 21.0824 204.635 21.1467 204.745 21.2586C204.855 21.3705 204.916 21.5211 204.916 21.6779V30.0997ZM221.179 67.3428C219.958 67.3814 218.73 67.2768 217.521 67.0265C214.479 66.397 211.694 64.8745 209.522 62.6536C207.35 60.4328 205.89 57.6146 205.329 54.5595C205.167 53.6817 205.082 52.7958 205.072 51.9114C205.061 50.9204 205.144 49.926 205.323 48.9415C205.879 45.8886 207.331 43.0704 209.495 40.8465C211.659 38.6226 214.436 37.094 217.473 36.4557C218.689 36.2001 219.924 36.0919 221.153 36.1288C223.15 36.1534 225.123 36.5679 226.962 37.3492C228.825 38.141 230.513 39.2939 231.929 40.7413C233.344 42.1887 234.459 43.902 235.209 45.7824C235.959 47.6628 236.329 49.6731 236.299 51.6974C236.299 51.6977 236.299 51.698 236.299 51.6983C236.331 53.7263 235.962 55.7408 235.214 57.626C234.465 59.5114 233.351 61.2304 231.937 62.6843C230.522 64.1382 228.834 65.2983 226.97 66.098C225.138 66.8837 223.171 67.3063 221.179 67.3428Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M109.306 32.8701C105.904 25.7337 99.4543 21.1238 89.7359 21.1238C86.753 21.1758 83.8218 21.9123 81.1685 23.2765C78.5151 24.6406 76.2106 26.5959 74.4325 28.9916L74.0779 29.4238V1.45428C74.0779 1.29264 74.0137 1.13763 73.8994 1.02333C73.7851 0.909028 73.6301 0.844803 73.4684 0.844803H59.7275C59.5678 0.847707 59.4156 0.913196 59.3037 1.02718C59.1917 1.14117 59.1291 1.29454 59.1291 1.45428V81.6837C59.1291 81.8424 59.1921 81.9946 59.3044 82.1068C59.4166 82.219 59.5688 82.2821 59.7275 82.2821H74.4436C74.6033 82.2821 74.7567 82.2194 74.8707 82.1075C74.9847 81.9956 75.0502 81.8434 75.0531 81.6837V47.4754C75.0531 40.8265 79.4856 36.1169 86.5777 36.1169C94.3347 36.1169 96.2961 42.4998 96.2961 49.0046V81.6837C96.2961 81.8424 96.3592 81.9946 96.4714 82.1068C96.5836 82.219 96.7358 82.2821 96.8945 82.2821H111.577C111.737 82.2821 111.891 82.2194 112.004 82.1075C112.118 81.9956 112.184 81.8434 112.187 81.6837V47.0543C112.187 45.8686 112.187 44.705 112.032 43.5747C111.78 39.8707 110.856 36.2435 109.306 32.8701V32.8701Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M35.8249 44.7604C35.8249 44.7604 28.3339 42.9985 25.5746 42.2893C22.8153 41.5801 17.9949 40.073 17.9949 36.4272C17.9949 32.7814 21.8845 31.6179 25.8295 31.6179C29.7745 31.6179 34.1627 32.5709 34.5062 36.948C34.5201 37.1058 34.5927 37.2525 34.7097 37.3593C34.8267 37.466 34.9795 37.5249 35.1379 37.5243L49.6434 37.4689C49.7288 37.4691 49.8133 37.4517 49.8916 37.4178C49.9699 37.3838 50.0404 37.3341 50.0987 37.2717C50.1569 37.2093 50.2017 37.1356 50.2301 37.0551C50.2585 36.9746 50.2701 36.8891 50.264 36.804C49.3664 22.7971 37.0771 17.7883 25.7408 17.7883C12.2991 17.7883 2.46987 26.6534 2.46987 36.4272C2.46987 43.5636 4.48669 50.2568 20.3442 54.911C23.1256 55.7199 26.9044 56.7727 30.2066 57.6924C34.1738 58.8006 36.3125 60.4739 36.3125 63.1112C36.3125 66.1697 31.8799 68.2973 27.5249 68.2973C21.2196 68.2973 16.7427 65.9592 16.377 61.7593C16.358 61.6056 16.2832 61.4642 16.1667 61.362C16.0502 61.2599 15.9003 61.2041 15.7454 61.2052L1.27307 61.2717C1.18823 61.2717 1.10425 61.2887 1.02614 61.3218C0.94802 61.355 0.877379 61.4035 0.818427 61.4645C0.759474 61.5255 0.713411 61.5978 0.683003 61.677C0.652596 61.7562 0.638464 61.8407 0.641441 61.9255C1.30633 75.1456 14.0721 82.271 25.9735 82.271C43.7038 82.271 51.7156 72.2977 51.7156 62.9561C51.7378 58.5679 50.7294 48.5724 35.8249 44.7604Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M146.384 17.6442C132.654 17.6442 125.806 22.3095 120.31 26.0439L120.143 26.1547C119.86 26.3488 119.66 26.6427 119.584 26.9775C119.508 27.3124 119.562 27.6637 119.733 27.961L125.163 37.3137C125.265 37.4887 125.404 37.6391 125.571 37.754C125.738 37.869 125.928 37.9457 126.127 37.9786C126.323 38.0139 126.523 38.0053 126.715 37.9536C126.907 37.9018 127.084 37.8082 127.235 37.6794L127.668 37.3248C130.493 34.9534 135.026 31.7841 145.996 30.9197C152.102 30.4322 157.377 32.0279 161.266 35.6626C165.544 39.6076 168.104 45.9794 168.104 52.7058C168.104 65.0837 160.812 72.8629 149.099 73.018C139.447 72.9626 132.965 67.9317 132.965 60.496C132.965 56.5511 134.749 53.9802 138.228 51.4093C138.494 51.2193 138.682 50.9395 138.757 50.6217C138.832 50.304 138.79 49.9696 138.638 49.6806L133.762 40.4608C133.672 40.2958 133.551 40.1502 133.404 40.0323C133.258 39.9144 133.089 39.8266 132.909 39.7738C132.725 39.7188 132.531 39.7033 132.34 39.7281C132.149 39.7529 131.965 39.8176 131.801 39.9179C126.327 43.1647 119.611 49.1043 119.977 60.5182C120.42 75.0459 132.499 86.1384 148.201 86.5927H148.988H150.063C168.724 85.9833 182.199 72.1315 182.199 53.3485C182.199 36.1059 169.633 17.6442 146.384 17.6442Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M282.375 1.04428H408.027C416.699 1.04428 423.73 8.07446 423.73 16.7466V85.54C423.73 94.2121 416.699 101.242 408.027 101.242H282.375C273.703 101.242 266.673 94.2121 266.673 85.54V16.7466C266.673 8.07446 273.703 1.04428 282.375 1.04428ZM310.566 55.5316C321.049 55.5316 328.551 47.8854 328.551 37.1697C328.551 26.5093 321.049 18.8188 310.566 18.8188H292.06C291.84 18.8188 291.628 18.9064 291.473 19.0623C291.317 19.2181 291.229 19.4295 291.229 19.65V70.4361C291.232 70.6556 291.32 70.8653 291.476 71.0206C291.631 71.1758 291.841 71.2643 292.06 71.2672H299.019C299.24 71.2672 299.451 71.1796 299.607 71.0237C299.763 70.8679 299.85 70.6565 299.85 70.4361V56.3627C299.85 56.1423 299.938 55.9309 300.094 55.775C300.25 55.6191 300.461 55.5316 300.682 55.5316H310.566ZM310.034 26.5315C315.73 26.5315 319.93 31.0306 319.93 37.1697C319.93 43.3198 315.73 47.8078 310.034 47.8078H300.682C300.463 47.8078 300.253 47.7218 300.098 47.5683C299.942 47.4149 299.853 47.2063 299.85 46.9878V27.3626C299.853 27.1431 299.942 26.9334 300.097 26.7781C300.252 26.6229 300.462 26.5344 300.682 26.5315H310.034ZM330.601 61.5266C330.529 59.8838 330.868 58.2489 331.588 56.7704C332.308 55.2919 333.386 54.0167 334.724 53.0604C337.428 51.0325 341.616 49.9798 347.833 49.736L354.426 49.5144V47.564C354.426 43.6745 351.811 42.0233 347.611 42.0233C343.412 42.0233 340.763 43.5082 340.143 45.9351C340.093 46.1065 339.988 46.2564 339.843 46.3609C339.698 46.4653 339.523 46.5183 339.345 46.5113H332.84C332.72 46.5143 332.601 46.491 332.492 46.4431C332.382 46.3952 332.284 46.3238 332.205 46.2341C332.126 46.1443 332.067 46.0383 332.033 45.9235C331.999 45.8086 331.991 45.6878 332.009 45.5694C332.984 39.807 337.749 35.4299 347.911 35.4299C358.704 35.4299 362.593 40.4498 362.593 50.0352V70.4028C362.595 70.5129 362.575 70.6221 362.533 70.7243C362.492 70.8264 362.431 70.9193 362.354 70.9977C362.277 71.076 362.185 71.1382 362.083 71.1807C361.981 71.2232 361.872 71.245 361.762 71.245H355.191C355.081 71.245 354.972 71.2232 354.87 71.1807C354.769 71.1382 354.677 71.076 354.599 70.9977C354.522 70.9193 354.461 70.8264 354.42 70.7243C354.379 70.6221 354.358 70.5129 354.36 70.4028V68.8846C354.371 68.7514 354.339 68.6183 354.268 68.5049C354.197 68.3915 354.092 68.3041 353.967 68.2555C353.842 68.207 353.706 68.1999 353.577 68.2354C353.448 68.2709 353.334 68.347 353.252 68.4525C351.29 70.5912 348.099 72.1426 343.013 72.1426C335.555 72.1647 330.601 68.2641 330.601 61.5266ZM354.426 57.094V55.5205L345.894 55.9637C341.395 56.1964 338.768 58.0692 338.768 61.2163C338.768 64.0643 341.173 65.6489 345.362 65.6489C351.058 65.6489 354.426 62.5682 354.426 57.1051V57.094ZM369.198 80.7196V86.6481C369.188 86.8397 369.242 87.0293 369.353 87.1861C369.463 87.3429 369.623 87.4579 369.807 87.5124C370.966 87.8283 372.164 87.9739 373.365 87.9446C379.736 87.9446 385.554 85.6175 388.879 76.553L403.506 37.5353C403.548 37.4097 403.559 37.276 403.54 37.1451C403.52 37.0142 403.47 36.8897 403.394 36.7817C403.317 36.6738 403.216 36.5854 403.099 36.5238C402.982 36.4622 402.852 36.4291 402.719 36.4272H395.904C395.727 36.4257 395.554 36.4809 395.411 36.5845C395.267 36.6882 395.161 36.8349 395.106 37.0034L387.05 61.7149C386.989 61.8769 386.879 62.0163 386.737 62.1147C386.594 62.2131 386.425 62.2658 386.252 62.2658C386.079 62.2658 385.91 62.2131 385.767 62.1147C385.625 62.0163 385.516 61.8769 385.454 61.7149L376.168 36.9369C376.106 36.7782 375.998 36.6417 375.858 36.5449C375.718 36.4481 375.552 36.3956 375.381 36.394H368.732C368.6 36.3959 368.47 36.429 368.353 36.4906C368.236 36.5522 368.135 36.6406 368.058 36.7485C367.981 36.8564 367.931 36.9809 367.912 37.1119C367.892 37.2428 367.904 37.3765 367.946 37.5021L381.62 72.6301C381.687 72.8126 381.687 73.0129 381.62 73.1953L381.188 74.5583C380.684 76.2492 379.627 77.722 378.186 78.7407C376.746 79.7593 375.005 80.265 373.243 80.1766C372.22 80.1755 371.2 80.079 370.195 79.8885C370.073 79.8656 369.948 79.87 369.828 79.9012C369.708 79.9325 369.596 79.9898 369.501 80.0692C369.406 80.1486 369.329 80.2481 369.277 80.3605C369.224 80.4729 369.197 80.5956 369.198 80.7196Z",fill:"currentColor"})]});var N=r(64334),S=r(9618);let _=e=>{let{options:t,label:r,onSelectOption:s}=e,[l,o]=(0,i.useState)(t[0]);return(0,n.jsxs)("div",{className:"flex w-full items-center justify-between gap-sm",children:[(0,n.jsx)(h.Z,{variant:"small",className:"line-clamp-2 w-[1/2]",color:"light",children:r}),(0,n.jsx)("div",{className:"relative min-w-0",children:(0,n.jsx)(V,{options:t,value:l,onValueChange:e=>{o(e),s(e)}})})]})},V=e=>{let{options:t,onValueChange:r,value:i}=e;return(0,n.jsxs)(d.ZP,{className:"group relative w-full",children:[(0,n.jsx)(S.Z,{size:"small",text:i,trailingComponent:(0,n.jsx)(c.G,{icon:N.dB,size:"xs",className:"opacity-50"}),extraCSS:"w-full rounded-md h-8 group-hover:bg-offsetPlus dark:group-hover:bg-offsetPlusDark dark:group-hover:text-textMainDark group-hover:text-textMain"}),(0,n.jsx)("select",{onChange:e=>{r(e.target.value)},value:i,className:"absolute inset-0 cursor-pointer opacity-0",children:t.map(e=>(0,n.jsx)("option",{children:e},e))})]})};var P=r(59539);let D=e=>{let{quantity:t,onIncrement:r,onDecrement:i}=e,l=(0,s.useTranslations)("shop");return(0,n.jsxs)("div",{className:"flex items-center justify-between gap-md",children:[(0,n.jsx)(h.Z,{variant:"small",className:"w-[1/2] shrink-0",color:"light",children:l("quantity")}),(0,n.jsx)(P.Stepper,{onDecrement:i,onIncrement:r,value:t})]})};var E=r(25462),T=r(66447),I=r(76055),W=r(4009),A=r(2355),O=r(69192);let z=e=>{let{open:t,onClose:r,options:i,onOptionSelect:l,onQuantityIncrement:o,onQuantityDecrement:a,quantity:u,item:m,selectedVariant:v,handleBuyClick:p,handleImageClick:x,images:f}=e,g=(0,s.useTranslations)("shop"),{isMobileStyle:j}=(0,W.d)(),M=(0,n.jsx)(A.Z,{text:g("buyWith"),trailingComponent:(0,n.jsx)("div",{className:"*:w-20",children:(0,n.jsx)(w,{})}),variant:"primary",pill:!0,size:j?"regular":"large",extraCSS:"!bg-[#5433eb] !text-white w-full",onClick:p});return(0,n.jsx)(O.Z,{isOpen:t,title:g("purchaseModalTitle"),onClose:r,variant:j?void 0:"hide-chrome",footerContent:(0,n.jsx)("div",{className:"w-full",children:M}),children:(0,n.jsxs)(d.ZP,{variant:"background",className:"relative flex h-full flex-col gap-md rounded-lg shadow-lg md:w-[min(80vw,_1200px)] md:flex-row md:p-lg md:dark:bg-offset",children:[(0,n.jsx)(S.Z,{icon:T.YI,extraCSS:"!absolute top-sm right-sm hidden md:block",pill:!0,size:"small",onClick:r}),(0,n.jsxs)("div",{className:"flex w-full flex-col gap-lg md:flex-row",children:[m&&m.image_url&&(0,n.jsx)("div",{className:"relative shrink-0 overflow-hidden !rounded-md md:w-1/2",children:(0,n.jsx)(k,{images:f,onImageClick:x})}),(0,n.jsxs)("div",{className:"flex w-full flex-col justify-between gap-md md:gap-lg",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-sm",children:[(0,n.jsxs)(h.Z,{variant:"small",color:"light",className:"flex items-center gap-sm",children:[(0,n.jsx)(C.D,{className:"shrink-0",domain:m.merchant_info.merchant_domain,size:20}),m.merchant_info.merchant_name]}),(0,n.jsx)(h.Z,{variant:"section-title",className:"!text-3xl !leading-[1.3]",children:m.name}),(0,n.jsx)(y.Root,{className:"gap-xs text-textOff",children:(0,n.jsx)(y.Item,{id:"rating",children:m.rating&&(0,n.jsx)(E.D,{reviewCount:m.num_reviews,rating:m.rating,size:"sm",textVariant:"small",className:"mb-[2px]"})})}),(0,n.jsxs)("div",{className:"flex items-center gap-sm",children:[(0,n.jsx)(h.Z,{variant:"baseSemi",children:v.price}),v&&v.compare_at_price&&(0,n.jsx)(h.Z,{variant:"small",color:"light",className:"line-through",children:v.compare_at_price})]}),(0,n.jsxs)(h.Z,{className:"flex items-center gap-xs",color:"light",variant:"small",children:[(0,n.jsx)(c.G,{icon:I.$K,size:"sm"}),g("shippingNote")]})]}),(0,n.jsxs)(d.ZP,{className:"flex flex-col gap-md",children:[(0,n.jsxs)(d.ZP,{className:"flex flex-col divide-y",children:[i&&i.length>1&&i.map((e,t)=>(0,n.jsx)("div",{className:"flex h-16 items-center",children:(0,n.jsx)(_,{options:e.values,label:e.name,onSelectOption:e=>{l(e,t)}})},e.name)),(0,n.jsx)("div",{className:"flex h-16 items-center *:w-full",children:(0,n.jsx)(D,{quantity:u,onIncrement:o,onDecrement:a})})]}),!j&&M]})]})]})]})})};var R=r(84940),U=r(94249);let F=e=>{let{pros:t,cons:r,loading:i,className:s}=e;return i||0!==t.length||0!==r.length?(0,n.jsx)("div",{className:s,children:(0,n.jsx)("ul",{className:"flex flex-wrap gap-sm",children:i?Array.from({length:3}).map((e,t)=>(0,n.jsx)(q,{asPlaceholder:!0,text:"",type:"con",label:""},t)):(0,n.jsxs)(n.Fragment,{children:[t.map(e=>(0,n.jsx)(q,{text:e.description,type:"pro",label:e.label},e.label)),r.map(e=>(0,n.jsx)(q,{text:e.description,type:"con",label:e.label},e.label))]})})}):null},q=e=>{let{text:t,label:r,type:i,asPlaceholder:s}=e;return(0,n.jsx)("li",{className:p()("group shrink-0 cursor-default gap-sm rounded-full",{"bg-offsetPlus/70 hover:bg-offsetPlus":!s},{"!border-transparent !bg-transparent":s}),children:(0,n.jsxs)("div",{className:p()("relative inline-flex items-center gap-xs px-xs py-[2px] pr-[10px]",{"h-[26px] rounded-full bg-offsetPlus":s}),children:[(0,n.jsx)("div",{className:p()("flex size-md shrink-0 items-center justify-center rounded-full",{"bg-super/10 text-super":"pro"===i},{"bg-textOff/10 text-textOff":"con"===i}),children:(0,n.jsx)(c.G,{icon:"pro"===i?U.LE:T.YI,size:"2xs",className:s?"opacity-0":""})}),s?(0,n.jsx)(h.Z,{variant:"tiny",className:"w-10 shrink-0",children:"\xa0"}):(0,n.jsx)(h.Z,{variant:"tiny",children:r}),(0,n.jsx)("div",{className:p()("pointer-events-none absolute left-0 top-[100%] z-10 min-w-[200px] translate-y-0 rounded-md border border-borderMain/50 bg-background px-md py-sm opacity-0 shadow-lg dark:bg-offset",{"duration-150 group-hover:translate-y-2 group-hover:opacity-100":!s}),children:(0,n.jsx)(h.Z,{variant:"small",children:t})})]})})};var H=r(71495);let B=e=>{var t,r,i,l;let{item:o}=e,a=!o.review_summary,c=(0,s.useTranslations)("shop");return(0,n.jsxs)(R.q,{active:a,children:[(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)(h.Z,{variant:"baseSemi",className:"mb-xs",color:a?"ultraLight":void 0,children:c("whatPeopleSay")}),a?(0,n.jsxs)("div",{className:"mt-sm flex flex-col gap-sm",children:[(0,n.jsx)("div",{className:"h-3 w-[80%] rounded-full bg-offset dark:bg-offsetDark"}),(0,n.jsx)("div",{className:"h-3 rounded-full bg-offset dark:bg-offsetDark"}),(0,n.jsx)("div",{className:"h-3 w-[50%] rounded-full bg-offset dark:bg-offsetDark"})]}):(0,n.jsx)(h.Z,{children:null===(t=o.review_summary)||void 0===t?void 0:t.summary})]}),(0,n.jsxs)(d.ZP,{variant:"offset",className:"mt-4 flex flex-col rounded-lg",children:[(0,n.jsx)(Q,{reason:null===(r=o.review_summary)||void 0===r?void 0:r.buy_if,loading:a}),(null===(i=o.review_summary)||void 0===i?void 0:i.pros_detailed)&&(null===(l=o.review_summary)||void 0===l?void 0:l.cons_detailed)&&(0,n.jsxs)("div",{className:"flex gap-[12px] pl-md",children:[(0,n.jsx)("div",{className:"hidden size-[32px] shrink-0 md:block"}),(0,n.jsx)(F,{pros:o.review_summary.pros_detailed,cons:o.review_summary.cons_detailed,loading:a,className:"p-md pl-0 pt-0"})]})]})]})},Q=e=>{let{reason:t,loading:r}=e,i=(0,s.useTranslations)("shop");return t||r?(0,n.jsxs)(d.ZP,{className:p()("flex items-start gap-[12px] rounded-md px-md py-[10px] md:items-center",{"h-[68px]":r}),children:[!r&&(0,n.jsxs)(d.ZP,{className:"relative isolate mt-xs flex aspect-square size-8 shrink-0 items-center justify-center rounded-full text-background md:mt-0",children:[(0,n.jsx)("svg",{width:"75",height:"75",viewBox:"0 0 75 75",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute h-auto w-full",children:(0,n.jsx)("path",{d:"M30.4039 2.95197C34.316 -0.98399 40.684 -0.983989 44.5961 2.95197L46.7415 5.11049C48.627 7.00748 51.1935 8.07056 53.8681 8.06241L56.9114 8.05315C62.4608 8.03625 66.9637 12.5392 66.9468 18.0886L66.9376 21.1319C66.9294 23.8065 67.9925 26.373 69.8895 28.2585L72.048 30.4039C75.984 34.316 75.984 40.684 72.048 44.5961L69.8895 46.7415C67.9925 48.627 66.9294 51.1935 66.9376 53.8681L66.9468 56.9114C66.9637 62.4608 62.4608 66.9637 56.9114 66.9469L53.8681 66.9376C51.1935 66.9294 48.627 67.9925 46.7415 69.8895L44.5961 72.048C40.684 75.984 34.316 75.984 30.4039 72.048L28.2585 69.8895C26.373 67.9925 23.8065 66.9294 21.1319 66.9376L18.0886 66.9469C12.5392 66.9637 8.03625 62.4608 8.05315 56.9114L8.06241 53.8681C8.07056 51.1935 7.00748 48.627 5.11049 46.7415L2.95197 44.5961C-0.983992 40.684 -0.983987 34.316 2.95197 30.4039L5.11049 28.2585C7.00748 26.373 8.07056 23.8065 8.06241 21.1319L8.05315 18.0886C8.03625 12.5392 12.5392 8.03625 18.0886 8.05315L21.1319 8.06241C23.8065 8.07056 26.373 7.00748 28.2585 5.11049L30.4039 2.95197Z",fill:"#D9D9D9",className:"fill-super"})}),(0,n.jsx)(c.G,{icon:H.sz,size:"sm",className:"relative"})]}),(0,n.jsx)("div",{children:r?(0,n.jsx)("div",{}):(0,n.jsxs)(h.Z,{color:"light",variant:"small",children:[(0,n.jsx)("span",{className:"rounded-sm font-semibold text-textMain",children:i("buyThisIf")})," ",t]})})]}):null};var G=r(51968),K=r(22778);let Y=e=>{let{webResults:t,className:r}=e,[l,o]=(0,i.useState)(!0),a=(0,s.useTranslations)("shared");return(0,n.jsxs)(d.ZP,{className:p()("border-y",r),children:[(0,n.jsxs)("div",{onClick:()=>o(!l),className:"group relative flex h-12 cursor-pointer items-center justify-between",children:[(0,n.jsx)(d.ZP,{variant:"offset",className:"absolute -inset-x-3 inset-y-xs rounded-md opacity-0 duration-150 group-hover:opacity-100"}),(0,n.jsx)(h.Z,{variant:"baseSemi",className:"relative",children:a("sourcesPostfix",{count:t.length})}),(0,n.jsx)(c.G,{icon:K.pt,className:p()("relative opacity-50",{"rotate-180":!l}),size:"sm"})]}),(0,n.jsx)(m.Root,{transition:{type:"spring",bounce:.2,duration:.2},mode:"wait",children:!l&&(0,n.jsx)(m.Item,{transition:{duration:.1},children:(0,n.jsx)("div",{className:"-mt-sm pb-px",children:(0,n.jsx)("div",{className:"-mb-md",children:(0,n.jsx)(G.D,{webResults:t,showHeader:!1,allowNavigational:!1})})})})})]})},X=e=>{var t,r,c,u,m;let{item:v,contextUUID:p,idx:f}=e,[g,j]=(0,i.useState)(1),[M,L]=(0,i.useState)(0),[b,y]=(0,i.useState)(!1),[C,w]=(0,i.useState)(!1),{menuItems:N}=(0,a.u)(),{isMobileStyle:S}=(0,W.d)(),{trackEvent:_}=(0,o.WS)(),V=(0,s.useTranslations)("shop");(0,i.useEffect)(()=>{p&&_("shown shopping product",{contextUUID:p,productId:v.id,productURL:v.url,client:v.client})},[p,v.client,v.id,v.url,_]);let[P,D]=(0,i.useState)(v.variants[0]),T=null;(null==P?void 0:P.id)&&(null==v?void 0:null===(t=v.merchant_info)||void 0===t?void 0:t.merchant_domain)&&(T="https://".concat(v.merchant_info.merchant_domain,"/cart/").concat(P.id,":").concat(g));let I=v.review_summary&&0===v.review_summary.review_quality_score,O=(0,i.useMemo)(()=>v.images.filter(e=>e.variants.includes(P.id)).concat(v.images.filter(e=>0===e.variants.length)),[v.images,P.id]),R=(0,i.useMemo)(()=>O.map(e=>({image:e.src||"",url:e.src||""})),[O]),U=e=>{if(p&&v.url){var t;_("shopping card button selected",{contextUUID:p,productURL:v.url,productId:v.id,productName:v.name,productPrice:null!==(t=P.price)&&void 0!==t?t:"",cta:e,client:v.client})}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.ZP,{"data-widget-id":v.id,variant:"background",className:"flex flex-col rounded-lg border p-md",children:[(0,n.jsxs)(d.ZP,{className:"relative flex flex-col gap-md rounded-lg md:flex-row",children:[(0,n.jsxs)("div",{className:"relative md:w-[calc(35%_-_8px)]",children:[(0,n.jsx)(k,{images:O,badgeText:P.compare_at_price?V("percentOff",{amount:(()=>{if(!P.compare_at_price||!P.price)return"";let e=parseFloat(P.compare_at_price.replace(/[^0-9.-]+/g,"")),t=parseFloat(P.price.replace(/[^0-9.-]+/g,""));return"".concat(Math.trunc((e-t)/e*100),"%")})()}):void 0,onImageClick:()=>{T?w(!0):window.open(v.url)}}),"number"==typeof f&&(0,n.jsx)(h.Z,{variant:"smallCaps",color:"light",className:"absolute -left-1.5 -top-1.5 flex size-5 shrink-0 items-center justify-center rounded-full bg-borderMain dark:bg-borderMain",children:f+1})]}),(0,n.jsx)("div",{className:"flex min-w-0 flex-1 flex-col gap-md",children:(0,n.jsxs)("div",{className:"flex flex-1 flex-col justify-between gap-md rounded-lg md:px-sm",children:[(0,n.jsx)("div",{className:"flex flex-col justify-between gap-xs",children:(0,n.jsxs)("div",{className:"relative mb-4 mt-2 flex flex-col gap-sm pr-[20px] md:mt-0",children:[(0,n.jsx)("div",{onClick:()=>{T?w(!0):window.open(v.url)},children:(0,n.jsx)(h.Z,{variant:S?"page-title":"entry-title",className:"line-clamp-3 cursor-pointer duration-150 hover:opacity-70 md:text-2xl",children:v.name})}),N&&N.length>0&&(0,n.jsx)("div",{className:"absolute -right-sm top-0",children:(0,n.jsx)(a.s.Menu,{menuItems:N})}),(0,n.jsxs)("div",{className:"mt-sm flex flex-col gap-xs",children:[(0,n.jsxs)("div",{className:"flex items-center gap-sm",children:[(0,n.jsx)(h.Z,{variant:"section-title",children:P.price}),P.compare_at_price&&(0,n.jsx)(h.Z,{variant:"small",color:"light",className:"line-through",children:P.compare_at_price})]}),v.rating&&(0,n.jsx)(E.D,{reviewCount:v.num_reviews,rating:v.rating,size:"xs",className:"mb-xs"}),(0,n.jsx)(Z,{merchantName:v.merchant_info.merchant_name,merchantDomain:v.merchant_info.merchant_domain,itemUrl:"shopify"===v.client?v.url:null})]})]})}),(0,n.jsx)("div",{className:"flex flex-col items-stretch md:max-w-[160px]",children:T?(0,n.jsx)(A.Z,{text:V("buyNow"),variant:"primary",onClick:()=>{w(!0),U("buy now")},pill:!0,size:"small"}):(0,n.jsx)(A.Z,{text:V("visitSite"),variant:"primary",href:v.url,target:"_blank",onClick:()=>{U("visit site")},pill:!0,size:"small"})})]})})]}),(0,n.jsxs)("div",{children:[!I&&(0,n.jsx)(B,{item:v}),(null===(r=v.review_summary)||void 0===r?void 0:r.key_features)&&v.review_summary.key_features.length>0&&(0,n.jsx)(x,{keyFeatures:null===(c=v.review_summary)||void 0===c?void 0:c.key_features,className:"mt-4"}),(null===(u=v.review_summary)||void 0===u?void 0:u.review_search_results)&&v.review_summary.review_search_results.length>0&&(0,n.jsx)(Y,{webResults:null===(m=v.review_summary)||void 0===m?void 0:m.review_search_results,className:"-mb-md border-b-0 border-t-0"})]})]}),(0,n.jsx)(l.h,{title:v.name,mainImageIndex:M,isOpen:b,images:R,onClose:()=>{y(!1)}}),(0,n.jsx)(z,{open:C,options:v.options,onOptionSelect:(e,t)=>{if(!v.variants)return;let r=v.variants.find(r=>[r.option1,r.option2,r.option3].every((r,n)=>n===t?r===e:r===P["option".concat(n+1)]));r&&D(r),p&&_("shopping product option selected",{contextUUID:p,productName:v.name})},onQuantityIncrement:()=>{let e=g+1;p&&_("shopping product quantity changed",{contextUUID:p,productName:v.name,newQuantity:e}),j(e)},onQuantityDecrement:()=>{let e=g>1?g-1:1;p&&_("shopping product quantity changed",{contextUUID:p,productName:v.name,newQuantity:e}),j(e)},onClose:()=>w(!1),quantity:g,item:v,selectedVariant:P,handleBuyClick:()=>{if(p&&T){var e;_("shopping modal button selected",{contextUUID:p,productURL:v.url,productId:v.id,productName:v.name,productPrice:null!==(e=P.price)&&void 0!==e?e:"",client:v.client}),window.open(T),w(!1)}},handleImageClick:e=>{L(e),S||requestAnimationFrame(()=>{y(!0)})},images:O})]})}},51968:function(e,t,r){"use strict";r.d(t,{D:function(){return Z}});var n=r(53854),i=r(20981),s=r(60359),l=r(53458),o=r(77301),a=r(39135),c=r(98510),u=r(51053),d=r(64980),h=r(60918),m=r(99484),v=r(22571),p=r(92508),x=r(97852),f=r(37462),g=r.n(f),j=e=>{let{results:t,handleViewAllClick:r,expandedLayout:i,moreResultsCount:l}=e,o=i?2:6,a=(0,s.useTranslations)("search.threadEntry"),c=Array.from(new Map(t.map(e=>[(0,m.C$)(e.url),e])).values());return(0,n.jsxs)(v.ZP,{variant:"offset",bgHover:"offsetPlus",className:"flex h-full max-h-[190px] w-[40vw] cursor-pointer flex-col justify-between gap-2 rounded-lg p-sm md:w-auto",onClick:r,children:[(0,n.jsx)(v.ZP,{className:g()("flex",{"flex-wrap items-center gap-xs":!i,"flex-col gap-sm":i}),children:c.slice(0,o).map(e=>(0,n.jsxs)(v.ZP,{className:g()("",{"border-b pb-sm":i}),children:[(0,n.jsxs)("div",{className:"flex items-center gap-xs pb-two",children:[(0,n.jsx)("div",{className:"flex-none",children:e.is_attachment?(0,n.jsx)(p.Z,{variant:"tiny",color:"light",children:(0,n.jsx)(d.G,{icon:h.gM})}):(0,n.jsx)(x.D,{size:i?16:18,domain:(0,m.C$)(e.url)},e.url)}),i&&(0,n.jsx)(p.Z,{variant:"tiny",color:"light",className:"truncate",children:(0,m.C$)(e.url).replace(/\.[^.]*$/,"")})]}),i&&(0,n.jsx)(p.Z,{variant:"tiny",color:"light",className:"mt-two line-clamp-2",children:e.name})]},e.url))}),(0,n.jsx)(p.Z,{variant:"tiny",color:"light",children:a("viewMore",{count:l})})]})},k=r(20904),M=r(98548),L=r(10158),b=r(56495),y=r(96910),C=r(37738);let Z=i.memo(e=>{var t,r,d,h,m,p;let{allowNavigational:x,inFlight:f,webResults:Z,entry:w,submit:N,showHeader:S=!0,className:_}=e,V=null!==(r=null==Z?void 0:Z.length)&&void 0!==r?r:0,P=x&&!!(null==Z?void 0:null===(t=Z[0])||void 0===t?void 0:t.is_navigational),D=null==Z?void 0:Z.filter(e=>{var t;return(null===(t=e.meta_data)||void 0===t?void 0:t.client)==="trending"}),E=null!==(d=null==D?void 0:D.length)&&void 0!==d?d:0,T=!P&&E>2,I=P?1:V>4?3:V,W=null!==(h=null==Z?void 0:Z.slice(0,I))&&void 0!==h?h:[],A=null!==(m=null==Z?void 0:Z.slice(I,void 0))&&void 0!==m?m:[],O=V-I,{trackEvent:z}=(0,o.WS)(),{trackEvent:R}=(0,a.h)(),U=(0,s.useTranslations)("search.threadEntry"),{openModal:F}=(0,c.useModalState)(),q=(0,l.p)(),H=(0,i.useMemo)(()=>{if(D)return D.reduce((e,t)=>{var r,n;let i=null===(r=t.meta_data)||void 0===r?void 0:r.published_date,s=null===(n=e.meta_data)||void 0===n?void 0:n.published_date;return i&&i>s?t:e},D[0])},[D]),B=H&&k.W.isRecentlyTrending(H);return V>0?(0,n.jsx)(v.ZP,{className:g()("mb-lg",_),children:(0,n.jsx)("div",{className:"mt-md",children:(0,n.jsx)(u.Z,{title:S?U("sources"):void 0,titleIcon:S&&C.r,titleAccessory:B&&(0,n.jsx)(M.N,{recentlyUpdatedLabel:U("recentlyUpdated"),timestamp:null===(p=H.meta_data)||void 0===p?void 0:p.published_date,children:U("updated")}),children:(0,n.jsx)("div",{className:"md:overflow-y-initial md:overflow-x-initial -mx-md flex w-screen overflow-x-auto overflow-y-hidden scrollbar-none md:mx-auto md:block md:w-auto",children:(0,n.jsxs)("div",{className:g()("grid grid-flow-col gap-sm px-md md:grid-cols-2 md:px-0",{"md:grid-cols-4":P||V>=4||0===V,"md:grid-cols-3":V>0&&V<4}),children:[W.map((e,t)=>{var r;return P&&0===t?(0,n.jsx)("div",{className:"w-[75vw] md:col-span-3 md:w-auto",children:(0,n.jsx)(L.r,{result:e,idx:t,trackEvent:z},e.url)},e.url):(0,n.jsx)("div",{className:"w-[40vw] md:w-auto",children:(0,n.jsx)(b.Z,{linkProps:{onClick(){z("click citation",{source:"hoverCard",citation_url:e.url})}},result:e,className:"h-full w-full",timestampComponent:k.W.isRecentlyTrending(e)?(0,n.jsx)(M.N,{recentlyUpdatedLabel:U("recentlyUpdated"),timestamp:null===(r=e.meta_data)||void 0===r?void 0:r.published_date,timestampProps:{color:"light"},children:U("updated")}):null,children:(0,n.jsx)(y.Z,{result:e,idx:t,inFlight:f,isTrendingLayout:T,trackEvent:z},e.url)})},"".concat(e.url,"-").concat(e.timestamp))}),V>I&&(0,n.jsx)(j,{expandedLayout:T,moreResultsCount:O,handleViewAllClick:()=>{(null==w?void 0:w.backend_uuid)&&R("click view sources button",{entryUUID:w.backend_uuid}),F("citationListModal",{webResults:Z,entry:w,submit:q?N:void 0})},results:A})]})})})})}):null});Z.displayName="CitationGrid"},51053:function(e,t,r){"use strict";var n=r(53854),i=r(64980),s=r(20981),l=r(77301),o=r(22571),a=r(92508),c=r(37305),u=r(37462),d=r.n(u);let h=s.memo(e=>{let{title:t,titleIcon:r,titleAccessory:u,titleUrl:h,showPplxMark:m,children:v,queryStr:p,loading:x,isSnapshotRender:f}=e,{trackEvent:g}=(0,l.WS)(),[j,k]=(0,s.useState)(!1),M=(0,s.useCallback)(()=>{if(null!=h){var e;g("click result entry header",{query:p}),null===(e=window.open(h,"_blank"))||void 0===e||e.focus()}},[g,p,h]);return(0,n.jsxs)(o.ZP,{children:[(0,n.jsx)(o.ZP,{variant:f?"transparent":"background",className:d()("flex","items-center","justify-between"),children:t&&(0,n.jsxs)("div",{className:"mb-sm flex w-full items-center justify-between",children:[(0,n.jsx)("div",{onClick:M,className:d()({"cursor-pointer":null!=h}),children:(0,n.jsxs)("div",{color:"super",className:"flex items-center space-x-sm",children:[(0,n.jsx)(a.Z,{variant:"section-title",as:"div",children:m?(0,n.jsx)("div",{className:"relative -top-[1px] flex w-[24px] transform-gpu items-center justify-center",onClick:()=>{k(!0),setTimeout(()=>{k(!1)},0)},children:(0,n.jsx)(c.Q,{size:24,shouldAnimate:x||j})}):(0,n.jsx)("div",{className:"w-[24px]",children:(0,n.jsx)(i.G,{fixedWidth:!0,icon:r})})}),(0,n.jsx)(a.Z,{variant:"section-title",as:"div",children:t})]})}),u]})}),v]})});t.Z=h},23643:function(e,t,r){"use strict";r.d(t,{h:function(){return b}});var n=r(53854),i=r(20981),s=r(53118),l=r(50366),o=r(22571),a=r(97852),c=r(92508),u=r(45659);let d=e=>{let{mediaItem:t}=e,{name:r,url:i,image:d,source:h,author_name:m,author_url:v}=t,p=(0,l.C)(h),x=i.includes("unsplash.com"),f=m&&v,g=r;return x&&(g="Unsplash"),(0,n.jsx)(s.default,{className:"cursor-pointer",target:"_blank",rel:"noopener nofollow",href:i||d,children:f?(0,n.jsxs)(o.ZP,{className:"flex max-w-[300px] items-stretch overflow-hidden rounded-full border border-borderMainDark",children:[(0,n.jsxs)("div",{className:"flex shrink-0 items-center gap-sm p-sm duration-300 hover:bg-offsetDark",children:[(0,n.jsx)("div",{className:"shrink-0 rounded-full bg-white p-[2px]",children:(0,n.jsx)(a.D,{domain:i})}),(0,n.jsx)(c.Z,{color:"white",variant:"small",children:g})]}),(0,n.jsx)(o.ZP,{variant:"darkOffset",className:"w-[1px] shrink-0"}),(0,n.jsx)(s.default,{href:v,target:"_blank",className:"group flex items-center gap-sm overflow-hidden p-sm pr-[10px] duration-300 hover:bg-offsetDark",onClick:e=>{e.stopPropagation()},children:(0,n.jsx)(c.Z,{color:"white",variant:"small",className:"truncate opacity-50 duration-300 group-hover:opacity-75",children:m})})]}):(0,n.jsx)(o.ZP,{className:"max-w-[250px] rounded-full border border-borderMainDark p-sm duration-300 hover:bg-offsetDark",variant:p?"darkOffset":"transparent",children:(0,n.jsx)(u.P,{color:"white",url:i,text:g,truncate:!1,isAttachment:!1})})})};var h=r(2279);let m=i.memo(e=>{let{image:t,name:r,url:i,thumbnail:s,onClick:l,AIProps:o,softBlockSaveImage:a}=e;return(0,n.jsx)("div",{onClick:e=>{e.stopPropagation(),l&&l()},children:(0,n.jsx)(h.Z,{fill:!0,AIProps:o,origin:{url:i,name:r},fadeIn:!1,hasShadow:!1,useNextImage:!1,includeLightBoxModal:!1,imageClassName:"max-h-[70vh] object-cover w-full",alt:r,src:t,fallback:null,fallbackSrc:s,softBlockSaveImage:a},i)})});var v=r(69650),p=r(92225);let x=e=>{let{mediaItem:t,softBlockSaveImage:r}=e,{image:i,name:s,url:o,thumbnail:a,source:c}=t;return(0,n.jsx)("div",{className:"col-span-7 flex h-full w-full select-none items-center justify-center py-md pl-lg",children:(0,n.jsx)(v.M,{initial:!1,children:(0,n.jsx)(p.E.div,{layout:!0,transition:{bounce:.2,duration:.2,type:"spring"},children:(0,n.jsx)(m,{image:i,name:s,thumbnail:a,url:o,AIProps:{isAI:(0,l.C)(c),AILabel:(0,l.D)(c)},softBlockSaveImage:r})})})})};var f=r(37462),g=r.n(f);let j=i.memo(e=>{let{mediaItem:t,isHighlighed:r,onClick:i}=e,{image:s,name:o,url:a,thumbnail:c,source:u}=t;return(0,n.jsx)("div",{className:g()("cursor-pointer rounded-lg border-2 border-transparent transition-all duration-200 ease-in-out",{"!border-black ring-2 ring-superDuper":r,"hover:opacity-70":!r}),children:(0,n.jsx)(m,{AIProps:{isAI:(0,l.C)(u),AILabel:(0,l.D)(u)},image:s,name:o,thumbnail:c,url:a,onClick:i})})});var k=r(36004);let M=e=>{let{mainIndex:t,images:r,onClick:i}=e;return(0,n.jsx)(k.R,{className:"h-content select-none pl-sm pr-xs pt-xs",columnsCount:2,gutter:"8px",children:r.map((e,r)=>(0,n.jsx)(j,{mediaItem:e,isHighlighed:r===t,onClick:()=>i(r)},"galleryImage "+r))})};var L=r(72135);let b=e=>{let{mainImageIndex:t,title:r,isOpen:s,onClose:l,onSelect:o,images:a,softBlockSaveImage:c}=e,[u,h]=(0,i.useState)(t);return(0,i.useEffect)(()=>{h(t)},[t,s]),(0,n.jsxs)(L.r,{isOpen:s,onClose:l,children:[(0,n.jsx)(L.r.Header,{headerText:r,onClose:l,children:(0,n.jsx)(d,{mediaItem:a[u]})}),(0,n.jsxs)(L.r.Content,{children:[(0,n.jsx)(x,{mediaItem:a[u],softBlockSaveImage:c}),(0,n.jsx)(L.r.Sidebar,{children:(0,n.jsx)(M,{images:a,mainIndex:u,onClick:e=>{h(e),o&&o(a[e])}})})]})]})};b.displayName="ImageGallery"},80407:function(e,t,r){"use strict";r.d(t,{GK:function(){return M},JK:function(){return k},Uy:function(){return j}});var n=r(53854),i=r(21062),s=r(20981),l=r(60359),o=r(97825),a=r(82087),c=r(77301),u=r(33465),d=r(20550),h=r(98510),m=r(15117),v=r(69192),p=r(17126),x=r(92508),f=r(96893),g=r(92225);let j=e=>{let{...t}=e,r=(0,l.useTranslations)("threads"),i=(0,l.useTranslations)("shared"),{trackEvent:o}=(0,c.WS)(),[u,d]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{o("loss aversion modal opened",{origin:t.origin})},[o,t.origin]),(0,n.jsx)(v.Z,{title:u?i("signUpLogIn"):r("entry.lossAversion.loseAnswerTitle"),actionList:u?void 0:[{text:i("signUpLogIn"),onClick:()=>{d(!0)},variant:"primary"}],...t,children:(0,n.jsx)("div",{className:"grid grid-cols-1 grid-rows-1",children:(0,n.jsx)(p.Root,{initial:!1,mode:"popLayout",transition:{type:"spring",duration:.2},children:u?(0,n.jsx)(p.Item,{transition:{ease:f.Vv,duration:.1,delay:.1},children:(0,n.jsx)(g.E.div,{className:"relative col-start-1 row-start-1",children:(0,n.jsx)(a.Z,{})})},"login"):(0,n.jsx)(p.Item,{transition:{ease:f.Vv,duration:.1},children:(0,n.jsx)(g.E.div,{className:"col-start-1 row-start-1",children:(0,n.jsx)(x.Z,{children:r("entry.lossAversion.loseAnswerSubtitle")})})},"initial")})})})},k=()=>({lossAversionStatus:(0,m.ej)(m.qt),setLossAversionStatus:e=>{(0,m.Dq)(e)},unsetLossAversion:()=>(0,m.nJ)(m.qt)}),M=()=>{var e;let{lossAversionStatus:t,setLossAversionStatus:r}=k(),n=(0,m.mm)(),{getEppoStringVariation:l}=(0,d.DQ)(),{data:a}=(0,i.useSession)(),c=(0,o.usePathname)(),v=!(0,u.lG)()&&"allowed"===t&&(null==c?void 0:c.startsWith("/search")),{openModal:p}=(0,h.useModalState)();return{checkShouldOpenLossAversion:(0,s.useCallback)(()=>{var e;if(!n)return!1;let t=l({key:n,flag:"loss-aversion-modal",subjectType:"visitor_id",subjectAttributes:{userEmail:null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.email},defaultValue:"control"});return v&&"loss-aversion"===t},[l,n,null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.email,v]),handleOpenLossAversion:(0,s.useCallback)(e=>{let{args:t,openModalOverride:n}=e;n?n("lossAversionModal",t):p("lossAversionModal",t),r("cooldown")},[p,r])}}},84940:function(e,t,r){"use strict";r.d(t,{q:function(){return l}});var n=r(53854);r(20981);var i=r(37462),s=r.n(i);let l=e=>{let{children:t,className:r,active:i=!0}=e;return(0,n.jsx)("div",{className:s()({shimmer:i},r),children:t})}},43723:function(e,t,r){"use strict";var n=r(53854),i=r(20981),s=r(37462),l=r.n(s);t.Z=i.memo(function(e){let{className:t,size:r=144,...i}=e,s=l()("text-textMain dark:text-textMainDark relative",t);return(0,n.jsxs)("div",{className:s,...i,children:[(0,n.jsxs)("svg",{className:"fill-current",height:r,version:"1.1",viewBox:"0 0 48 48",width:r,x:"0px",xmlns:"http://www.w3.org/2000/svg",y:"0px",children:[(0,n.jsx)("path",{className:"fill-current",d:"M12.878 2.341h-1.17v1.171h1.17v-1.17ZM14.049 2.341h-1.171v1.171h1.17v-1.17ZM16.39 2.341h-1.17v1.171h1.17v-1.17ZM17.561 2.341h-1.17v1.171h1.17v-1.17Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M18.732 2.341H17.56v1.171h1.17v-1.17ZM21.073 2.341h-1.17v1.171h1.17v-1.17ZM22.244 2.341h-1.17v1.171h1.17v-1.17ZM23.415 2.341h-1.171v1.171h1.17v-1.17ZM25.756 2.341h-1.17v1.171h1.17v-1.17ZM29.268 2.341h-1.17v1.171h1.17v-1.17ZM33.951 2.341h-1.17v1.171h1.17v-1.17ZM16.39 3.512h-1.17v1.17h1.17v-1.17Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M17.561 3.512h-1.17v1.17h1.17v-1.17ZM24.585 3.512h-1.17v1.17h1.17v-1.17ZM25.756 3.512h-1.17v1.17h1.17v-1.17ZM26.927 3.512h-1.17v1.17h1.17v-1.17ZM28.098 3.512h-1.171v1.17h1.17v-1.17ZM29.268 3.512h-1.17v1.17h1.17v-1.17ZM31.61 3.512h-1.171v1.17h1.17v-1.17ZM32.78 3.512h-1.17v1.17h1.17v-1.17ZM33.951 3.512h-1.17v1.17h1.17v-1.17ZM12.878 4.683h-1.17v1.17h1.17v-1.17ZM17.561 4.683h-1.17v1.17h1.17v-1.17Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M18.732 4.683H17.56v1.17h1.17v-1.17ZM19.902 4.683h-1.17v1.17h1.17v-1.17ZM21.073 4.683h-1.17v1.17h1.17v-1.17ZM23.415 4.683h-1.171v1.17h1.17v-1.17ZM24.585 4.683h-1.17v1.17h1.17v-1.17ZM28.098 4.683h-1.171v1.17h1.17v-1.17ZM29.268 4.683h-1.17v1.17h1.17v-1.17ZM35.122 4.683h-1.17v1.17h1.17v-1.17ZM14.049 5.854h-1.171v1.17h1.17v-1.17ZM18.732 5.854H17.56v1.17h1.17v-1.17ZM22.244 5.854h-1.17v1.17h1.17v-1.17ZM28.098 5.854h-1.171v1.17h1.17v-1.17ZM29.268 5.854h-1.17v1.17h1.17v-1.17ZM30.439 5.854h-1.17v1.17h1.17v-1.17ZM31.61 5.854h-1.171v1.17h1.17v-1.17ZM32.78 5.854h-1.17v1.17h1.17v-1.17ZM35.122 5.854h-1.17v1.17h1.17v-1.17ZM12.878 7.024h-1.17v1.171h1.17v-1.17ZM16.39 7.024h-1.17v1.171h1.17v-1.17ZM17.561 7.024h-1.17v1.171h1.17v-1.17Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M18.732 7.024H17.56v1.171h1.17v-1.17ZM22.244 7.024h-1.17v1.171h1.17v-1.17ZM24.585 7.024h-1.17v1.171h1.17v-1.17ZM26.927 7.024h-1.17v1.171h1.17v-1.17ZM28.098 7.024h-1.171v1.171h1.17v-1.17ZM29.268 7.024h-1.17v1.171h1.17v-1.17ZM32.78 7.024h-1.17v1.171h1.17v-1.17ZM36.293 7.024h-1.171v1.171h1.17v-1.17ZM14.049 8.195h-1.171v1.17h1.17v-1.17ZM15.22 8.195h-1.171v1.17h1.17v-1.17ZM17.561 8.195h-1.17v1.17h1.17v-1.17ZM19.902 8.195h-1.17v1.17h1.17v-1.17ZM23.415 8.195h-1.171v1.17h1.17v-1.17ZM25.756 8.195h-1.17v1.17h1.17v-1.17ZM28.098 8.195h-1.171v1.17h1.17v-1.17ZM29.268 8.195h-1.17v1.17h1.17v-1.17ZM30.439 8.195h-1.17v1.17h1.17v-1.17ZM32.78 8.195h-1.17v1.17h1.17v-1.17ZM33.951 8.195h-1.17v1.17h1.17v-1.17ZM36.293 8.195h-1.171v1.17h1.17v-1.17ZM12.878 9.366h-1.17v1.17h1.17v-1.17ZM15.22 9.366h-1.171v1.17h1.17v-1.17ZM17.561 9.366h-1.17v1.17h1.17v-1.17ZM19.902 9.366h-1.17v1.17h1.17v-1.17ZM22.244 9.366h-1.17v1.17h1.17v-1.17ZM24.585 9.366h-1.17v1.17h1.17v-1.17ZM26.927 9.366h-1.17v1.17h1.17v-1.17ZM29.268 9.366h-1.17v1.17h1.17v-1.17ZM31.61 9.366h-1.171v1.17h1.17v-1.17ZM33.951 9.366h-1.17v1.17h1.17v-1.17ZM36.293 9.366h-1.171v1.17h1.17v-1.17ZM12.878 10.537h-1.17v1.17h1.17v-1.17ZM14.049 10.537h-1.171v1.17h1.17v-1.17ZM15.22 10.537h-1.171v1.17h1.17v-1.17ZM17.561 10.537h-1.17v1.17h1.17v-1.17ZM22.244 10.537h-1.17v1.17h1.17v-1.17ZM24.585 10.537h-1.17v1.17h1.17v-1.17ZM31.61 10.537h-1.171v1.17h1.17v-1.17ZM32.78 10.537h-1.17v1.17h1.17v-1.17ZM35.122 10.537h-1.17v1.17h1.17v-1.17ZM36.293 10.537h-1.171v1.17h1.17v-1.17ZM9.366 11.707h-1.17v1.171h1.17v-1.17ZM10.537 11.707H9.366v1.171h1.17v-1.17ZM21.073 11.707h-1.17v1.171h1.17v-1.17ZM22.244 11.707h-1.17v1.171h1.17v-1.17ZM24.585 11.707h-1.17v1.171h1.17v-1.17ZM25.756 11.707h-1.17v1.171h1.17v-1.17ZM26.927 11.707h-1.17v1.171h1.17v-1.17ZM28.098 11.707h-1.171v1.171h1.17v-1.17ZM31.61 11.707h-1.171v1.171h1.17v-1.17ZM33.951 11.707h-1.17v1.171h1.17v-1.17ZM38.634 11.707h-1.17v1.171h1.17v-1.17ZM40.976 11.707h-1.171v1.171h1.17v-1.17ZM43.317 11.707h-1.17v1.171h1.17v-1.17ZM45.658 11.707h-1.17v1.171h1.17v-1.17ZM3.512 12.878h-1.17v1.17h1.17v-1.17ZM9.366 12.878h-1.17v1.17h1.17v-1.17ZM11.707 12.878h-1.17v1.17h1.17v-1.17ZM12.878 12.878h-1.17v1.17h1.17v-1.17ZM17.561 12.878h-1.17v1.17h1.17v-1.17ZM19.902 12.878h-1.17v1.17h1.17v-1.17ZM22.244 12.878h-1.17v1.17h1.17v-1.17ZM24.585 12.878h-1.17v1.17h1.17v-1.17ZM29.268 12.878h-1.17v1.17h1.17v-1.17ZM30.439 12.878h-1.17v1.17h1.17v-1.17ZM33.951 12.878h-1.17v1.17h1.17v-1.17ZM36.293 12.878h-1.171v1.17h1.17v-1.17ZM39.805 12.878h-1.17v1.17h1.17v-1.17ZM40.976 12.878h-1.171v1.17h1.17v-1.17ZM42.146 12.878h-1.17v1.17h1.17v-1.17ZM3.512 14.049h-1.17v1.17h1.17v-1.17ZM5.854 14.049H4.683v1.17h1.17v-1.17ZM8.195 14.049h-1.17v1.17h1.17v-1.17ZM9.366 14.049h-1.17v1.17h1.17v-1.17ZM10.537 14.049H9.366v1.17h1.17v-1.17ZM12.878 14.049h-1.17v1.17h1.17v-1.17ZM14.049 14.049h-1.171v1.17h1.17v-1.17ZM17.561 14.049h-1.17v1.17h1.17v-1.17ZM19.902 14.049h-1.17v1.17h1.17v-1.17ZM24.585 14.049h-1.17v1.17h1.17v-1.17ZM26.927 14.049h-1.17v1.17h1.17v-1.17ZM31.61 14.049h-1.171v1.17h1.17v-1.17ZM32.78 14.049h-1.17v1.17h1.17v-1.17ZM33.951 14.049h-1.17v1.17h1.17v-1.17ZM35.122 14.049h-1.17v1.17h1.17v-1.17ZM36.293 14.049h-1.171v1.17h1.17v-1.17ZM38.634 14.049h-1.17v1.17h1.17v-1.17ZM40.976 14.049h-1.171v1.17h1.17v-1.17ZM44.488 14.049h-1.17v1.17h1.17v-1.17ZM45.658 14.049h-1.17v1.17h1.17v-1.17ZM3.512 15.22h-1.17v1.17h1.17v-1.17ZM11.707 15.22h-1.17v1.17h1.17v-1.17ZM14.049 15.22h-1.171v1.17h1.17v-1.17ZM15.22 15.22h-1.171v1.17h1.17v-1.17ZM16.39 15.22h-1.17v1.17h1.17v-1.17ZM19.902 15.22h-1.17v1.17h1.17v-1.17ZM23.415 15.22h-1.171v1.17h1.17v-1.17ZM24.585 15.22h-1.17v1.17h1.17v-1.17ZM26.927 15.22h-1.17v1.17h1.17v-1.17ZM28.098 15.22h-1.171v1.17h1.17v-1.17ZM29.268 15.22h-1.17v1.17h1.17v-1.17ZM30.439 15.22h-1.17v1.17h1.17v-1.17ZM31.61 15.22h-1.171v1.17h1.17v-1.17ZM33.951 15.22h-1.17v1.17h1.17v-1.17ZM36.293 15.22h-1.171v1.17h1.17v-1.17ZM38.634 15.22h-1.17v1.17h1.17v-1.17ZM42.146 15.22h-1.17v1.17h1.17v-1.17ZM5.854 16.39H4.683v1.171h1.17v-1.17ZM9.366 16.39h-1.17v1.171h1.17v-1.17ZM10.537 16.39H9.366v1.171h1.17v-1.17ZM14.049 16.39h-1.171v1.171h1.17v-1.17ZM17.561 16.39h-1.17v1.171h1.17v-1.17Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M18.732 16.39H17.56v1.171h1.17v-1.17ZM30.439 16.39h-1.17v1.171h1.17v-1.17ZM31.61 16.39h-1.171v1.171h1.17v-1.17ZM35.122 16.39h-1.17v1.171h1.17v-1.17ZM36.293 16.39h-1.171v1.171h1.17v-1.17ZM37.463 16.39h-1.17v1.171h1.17v-1.17ZM38.634 16.39h-1.17v1.171h1.17v-1.17ZM39.805 16.39h-1.17v1.171h1.17v-1.17ZM42.146 16.39h-1.17v1.171h1.17v-1.17ZM3.512 17.561h-1.17v1.17h1.17v-1.17ZM5.854 17.561H4.683v1.17h1.17v-1.17ZM7.024 17.561h-1.17v1.17h1.17v-1.17ZM8.195 17.561h-1.17v1.17h1.17v-1.17ZM9.366 17.561h-1.17v1.17h1.17v-1.17ZM11.707 17.561h-1.17v1.17h1.17v-1.17ZM12.878 17.561h-1.17v1.17h1.17v-1.17ZM16.39 17.561h-1.17v1.17h1.17v-1.17ZM17.561 17.561h-1.17v1.17h1.17v-1.17ZM31.61 17.561h-1.171v1.17h1.17v-1.17ZM32.78 17.561h-1.17v1.17h1.17v-1.17ZM33.951 17.561h-1.17v1.17h1.17v-1.17ZM35.122 17.561h-1.17v1.17h1.17v-1.17ZM36.293 17.561h-1.171v1.17h1.17v-1.17ZM37.463 17.561h-1.17v1.17h1.17v-1.17ZM39.805 17.561h-1.17v1.17h1.17v-1.17ZM43.317 17.561h-1.17v1.17h1.17v-1.17ZM44.488 17.561h-1.17v1.17h1.17v-1.17ZM3.512 18.732h-1.17v1.17h1.17v-1.17ZM5.854 18.732H4.683v1.17h1.17v-1.17ZM10.537 18.732H9.366v1.17h1.17v-1.17ZM12.878 18.732h-1.17v1.17h1.17v-1.17ZM14.049 18.732h-1.171v1.17h1.17v-1.17ZM16.39 18.732h-1.17v1.17h1.17v-1.17ZM35.122 18.732h-1.17v1.17h1.17v-1.17ZM36.293 18.732h-1.171v1.17h1.17v-1.17ZM38.634 18.732h-1.17v1.17h1.17v-1.17ZM39.805 18.732h-1.17v1.17h1.17v-1.17ZM40.976 18.732h-1.171v1.17h1.17v-1.17ZM42.146 18.732h-1.17v1.17h1.17v-1.17ZM44.488 18.732h-1.17v1.17h1.17v-1.17ZM45.658 18.732h-1.17v1.17h1.17v-1.17ZM3.512 19.902h-1.17v1.171h1.17v-1.17ZM4.683 19.902h-1.17v1.171h1.17v-1.17ZM7.024 19.902h-1.17v1.171h1.17v-1.17ZM8.195 19.902h-1.17v1.171h1.17v-1.17ZM14.049 19.902h-1.171v1.171h1.17v-1.17ZM35.122 19.902h-1.17v1.171h1.17v-1.17ZM38.634 19.902h-1.17v1.171h1.17v-1.17ZM39.805 19.902h-1.17v1.171h1.17v-1.17ZM42.146 19.902h-1.17v1.171h1.17v-1.17ZM43.317 19.902h-1.17v1.171h1.17v-1.17ZM3.512 21.073h-1.17v1.17h1.17v-1.17ZM4.683 21.073h-1.17v1.17h1.17v-1.17ZM8.195 21.073h-1.17v1.17h1.17v-1.17ZM10.537 21.073H9.366v1.17h1.17v-1.17ZM11.707 21.073h-1.17v1.17h1.17v-1.17ZM31.61 21.073h-1.171v1.17h1.17v-1.17ZM32.78 21.073h-1.17v1.17h1.17v-1.17ZM33.951 21.073h-1.17v1.17h1.17v-1.17ZM35.122 21.073h-1.17v1.17h1.17v-1.17ZM36.293 21.073h-1.171v1.17h1.17v-1.17ZM37.463 21.073h-1.17v1.17h1.17v-1.17ZM38.634 21.073h-1.17v1.17h1.17v-1.17ZM39.805 21.073h-1.17v1.17h1.17v-1.17ZM40.976 21.073h-1.171v1.17h1.17v-1.17ZM43.317 21.073h-1.17v1.17h1.17v-1.17ZM44.488 21.073h-1.17v1.17h1.17v-1.17ZM3.512 22.244h-1.17v1.17h1.17v-1.17ZM7.024 22.244h-1.17v1.17h1.17v-1.17ZM15.22 22.244h-1.171v1.17h1.17v-1.17ZM16.39 22.244h-1.17v1.17h1.17v-1.17ZM32.78 22.244h-1.17v1.17h1.17v-1.17ZM33.951 22.244h-1.17v1.17h1.17v-1.17ZM35.122 22.244h-1.17v1.17h1.17v-1.17ZM36.293 22.244h-1.171v1.17h1.17v-1.17ZM39.805 22.244h-1.17v1.17h1.17v-1.17ZM3.512 23.415h-1.17v1.17h1.17v-1.17ZM7.024 23.415h-1.17v1.17h1.17v-1.17ZM8.195 23.415h-1.17v1.17h1.17v-1.17ZM10.537 23.415H9.366v1.17h1.17v-1.17ZM11.707 23.415h-1.17v1.17h1.17v-1.17ZM12.878 23.415h-1.17v1.17h1.17v-1.17ZM14.049 23.415h-1.171v1.17h1.17v-1.17ZM16.39 23.415h-1.17v1.17h1.17v-1.17ZM32.78 23.415h-1.17v1.17h1.17v-1.17ZM35.122 23.415h-1.17v1.17h1.17v-1.17ZM38.634 23.415h-1.17v1.17h1.17v-1.17ZM39.805 23.415h-1.17v1.17h1.17v-1.17ZM42.146 23.415h-1.17v1.17h1.17v-1.17ZM43.317 23.415h-1.17v1.17h1.17v-1.17ZM45.658 23.415h-1.17v1.17h1.17v-1.17ZM4.683 24.585h-1.17v1.171h1.17v-1.17ZM5.854 24.585H4.683v1.171h1.17v-1.17ZM15.22 24.585h-1.171v1.171h1.17v-1.17ZM16.39 24.585h-1.17v1.171h1.17v-1.17ZM17.561 24.585h-1.17v1.171h1.17v-1.17ZM36.293 24.585h-1.171v1.171h1.17v-1.17ZM38.634 24.585h-1.17v1.171h1.17v-1.17ZM42.146 24.585h-1.17v1.171h1.17v-1.17ZM45.658 24.585h-1.17v1.171h1.17v-1.17ZM3.512 25.756h-1.17v1.17h1.17v-1.17ZM5.854 25.756H4.683v1.17h1.17v-1.17ZM7.024 25.756h-1.17v1.17h1.17v-1.17ZM10.537 25.756H9.366v1.17h1.17v-1.17ZM12.878 25.756h-1.17v1.17h1.17v-1.17ZM15.22 25.756h-1.171v1.17h1.17v-1.17ZM17.561 25.756h-1.17v1.17h1.17v-1.17ZM32.78 25.756h-1.17v1.17h1.17v-1.17ZM33.951 25.756h-1.17v1.17h1.17v-1.17ZM35.122 25.756h-1.17v1.17h1.17v-1.17ZM37.463 25.756h-1.17v1.17h1.17v-1.17ZM38.634 25.756h-1.17v1.17h1.17v-1.17ZM39.805 25.756h-1.17v1.17h1.17v-1.17ZM40.976 25.756h-1.171v1.17h1.17v-1.17ZM42.146 25.756h-1.17v1.17h1.17v-1.17ZM43.317 25.756h-1.17v1.17h1.17v-1.17ZM7.024 26.927h-1.17v1.17h1.17v-1.17ZM8.195 26.927h-1.17v1.17h1.17v-1.17ZM12.878 26.927h-1.17v1.17h1.17v-1.17ZM15.22 26.927h-1.171v1.17h1.17v-1.17ZM31.61 26.927h-1.171v1.17h1.17v-1.17ZM33.951 26.927h-1.17v1.17h1.17v-1.17ZM35.122 26.927h-1.17v1.17h1.17v-1.17ZM36.293 26.927h-1.171v1.17h1.17v-1.17ZM39.805 26.927h-1.17v1.17h1.17v-1.17ZM40.976 26.927h-1.171v1.17h1.17v-1.17ZM43.317 26.927h-1.17v1.17h1.17v-1.17ZM3.512 28.098h-1.17v1.17h1.17v-1.17ZM5.854 28.098H4.683v1.17h1.17v-1.17ZM7.024 28.098h-1.17v1.17h1.17v-1.17ZM10.537 28.098H9.366v1.17h1.17v-1.17ZM35.122 28.098h-1.17v1.17h1.17v-1.17ZM36.293 28.098h-1.171v1.17h1.17v-1.17ZM45.658 28.098h-1.17v1.17h1.17v-1.17ZM4.683 29.268h-1.17v1.171h1.17v-1.17ZM5.854 29.268H4.683v1.171h1.17v-1.17ZM9.366 29.268h-1.17v1.171h1.17v-1.17ZM11.707 29.268h-1.17v1.171h1.17v-1.17ZM14.049 29.268h-1.171v1.171h1.17v-1.17ZM15.22 29.268h-1.171v1.171h1.17v-1.17ZM16.39 29.268h-1.17v1.171h1.17v-1.17ZM33.951 29.268h-1.17v1.171h1.17v-1.17ZM35.122 29.268h-1.17v1.171h1.17v-1.17ZM36.293 29.268h-1.171v1.171h1.17v-1.17ZM37.463 29.268h-1.17v1.171h1.17v-1.17ZM38.634 29.268h-1.17v1.171h1.17v-1.17ZM39.805 29.268h-1.17v1.171h1.17v-1.17ZM42.146 29.268h-1.17v1.171h1.17v-1.17ZM45.658 29.268h-1.17v1.171h1.17v-1.17ZM3.512 30.439h-1.17v1.17h1.17v-1.17ZM4.683 30.439h-1.17v1.17h1.17v-1.17ZM8.195 30.439h-1.17v1.17h1.17v-1.17ZM9.366 30.439h-1.17v1.17h1.17v-1.17ZM10.537 30.439H9.366v1.17h1.17v-1.17ZM12.878 30.439h-1.17v1.17h1.17v-1.17ZM15.22 30.439h-1.171v1.17h1.17v-1.17ZM19.902 30.439h-1.17v1.17h1.17v-1.17ZM21.073 30.439h-1.17v1.17h1.17v-1.17ZM22.244 30.439h-1.17v1.17h1.17v-1.17ZM28.098 30.439h-1.171v1.17h1.17v-1.17ZM32.78 30.439h-1.17v1.17h1.17v-1.17ZM33.951 30.439h-1.17v1.17h1.17v-1.17ZM36.293 30.439h-1.171v1.17h1.17v-1.17ZM38.634 30.439h-1.17v1.17h1.17v-1.17ZM39.805 30.439h-1.17v1.17h1.17v-1.17ZM42.146 30.439h-1.17v1.17h1.17v-1.17ZM45.658 30.439h-1.17v1.17h1.17v-1.17ZM3.512 31.61h-1.17v1.17h1.17v-1.17ZM4.683 31.61h-1.17v1.17h1.17v-1.17ZM5.854 31.61H4.683v1.17h1.17v-1.17ZM7.024 31.61h-1.17v1.17h1.17v-1.17ZM15.22 31.61h-1.171v1.17h1.17v-1.17ZM17.561 31.61h-1.17v1.17h1.17v-1.17Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M18.732 31.61H17.56v1.17h1.17v-1.17ZM21.073 31.61h-1.17v1.17h1.17v-1.17ZM24.585 31.61h-1.17v1.17h1.17v-1.17ZM25.756 31.61h-1.17v1.17h1.17v-1.17ZM28.098 31.61h-1.171v1.17h1.17v-1.17ZM29.268 31.61h-1.17v1.17h1.17v-1.17ZM31.61 31.61h-1.171v1.17h1.17v-1.17ZM33.951 31.61h-1.17v1.17h1.17v-1.17ZM35.122 31.61h-1.17v1.17h1.17v-1.17ZM36.293 31.61h-1.171v1.17h1.17v-1.17ZM39.805 31.61h-1.17v1.17h1.17v-1.17ZM42.146 31.61h-1.17v1.17h1.17v-1.17ZM43.317 31.61h-1.17v1.17h1.17v-1.17ZM3.512 32.78h-1.17v1.171h1.17v-1.17ZM9.366 32.78h-1.17v1.171h1.17v-1.17ZM10.537 32.78H9.366v1.171h1.17v-1.17ZM14.049 32.78h-1.171v1.171h1.17v-1.17ZM15.22 32.78h-1.171v1.171h1.17v-1.17ZM19.902 32.78h-1.17v1.171h1.17v-1.17ZM21.073 32.78h-1.17v1.171h1.17v-1.17ZM22.244 32.78h-1.17v1.171h1.17v-1.17ZM25.756 32.78h-1.17v1.171h1.17v-1.17ZM26.927 32.78h-1.17v1.171h1.17v-1.17ZM28.098 32.78h-1.171v1.171h1.17v-1.17ZM29.268 32.78h-1.17v1.171h1.17v-1.17ZM32.78 32.78h-1.17v1.171h1.17v-1.17ZM33.951 32.78h-1.17v1.171h1.17v-1.17ZM35.122 32.78h-1.17v1.171h1.17v-1.17ZM39.805 32.78h-1.17v1.171h1.17v-1.17ZM40.976 32.78h-1.171v1.171h1.17v-1.17ZM45.658 32.78h-1.17v1.171h1.17v-1.17ZM3.512 33.951h-1.17v1.17h1.17v-1.17ZM5.854 33.951H4.683v1.17h1.17v-1.17ZM11.707 33.951h-1.17v1.17h1.17v-1.17ZM12.878 33.951h-1.17v1.17h1.17v-1.17ZM14.049 33.951h-1.171v1.17h1.17v-1.17ZM15.22 33.951h-1.171v1.17h1.17v-1.17ZM16.39 33.951h-1.17v1.17h1.17v-1.17ZM17.561 33.951h-1.17v1.17h1.17v-1.17Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M18.732 33.951H17.56v1.17h1.17v-1.17ZM21.073 33.951h-1.17v1.17h1.17v-1.17ZM24.585 33.951h-1.17v1.17h1.17v-1.17ZM28.098 33.951h-1.171v1.17h1.17v-1.17ZM31.61 33.951h-1.171v1.17h1.17v-1.17ZM39.805 33.951h-1.17v1.17h1.17v-1.17ZM42.146 33.951h-1.17v1.17h1.17v-1.17ZM43.317 33.951h-1.17v1.17h1.17v-1.17ZM44.488 33.951h-1.17v1.17h1.17v-1.17ZM45.658 33.951h-1.17v1.17h1.17v-1.17ZM3.512 35.122h-1.17v1.17h1.17v-1.17ZM8.195 35.122h-1.17v1.17h1.17v-1.17ZM10.537 35.122H9.366v1.17h1.17v-1.17ZM11.707 35.122h-1.17v1.17h1.17v-1.17ZM12.878 35.122h-1.17v1.17h1.17v-1.17ZM14.049 35.122h-1.171v1.17h1.17v-1.17ZM15.22 35.122h-1.171v1.17h1.17v-1.17ZM18.732 35.122H17.56v1.17h1.17v-1.17ZM19.902 35.122h-1.17v1.17h1.17v-1.17ZM21.073 35.122h-1.17v1.17h1.17v-1.17ZM23.415 35.122h-1.171v1.17h1.17v-1.17ZM26.927 35.122h-1.17v1.17h1.17v-1.17ZM28.098 35.122h-1.171v1.17h1.17v-1.17ZM29.268 35.122h-1.17v1.17h1.17v-1.17ZM31.61 35.122h-1.171v1.17h1.17v-1.17ZM32.78 35.122h-1.17v1.17h1.17v-1.17ZM33.951 35.122h-1.17v1.17h1.17v-1.17ZM36.293 35.122h-1.171v1.17h1.17v-1.17ZM37.463 35.122h-1.17v1.17h1.17v-1.17ZM38.634 35.122h-1.17v1.17h1.17v-1.17ZM39.805 35.122h-1.17v1.17h1.17v-1.17ZM40.976 35.122h-1.171v1.17h1.17v-1.17ZM42.146 35.122h-1.17v1.17h1.17v-1.17ZM43.317 35.122h-1.17v1.17h1.17v-1.17ZM12.878 36.293h-1.17v1.17h1.17v-1.17ZM14.049 36.293h-1.171v1.17h1.17v-1.17ZM16.39 36.293h-1.17v1.17h1.17v-1.17ZM17.561 36.293h-1.17v1.17h1.17v-1.17Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M18.732 36.293H17.56v1.17h1.17v-1.17ZM24.585 36.293h-1.17v1.17h1.17v-1.17ZM26.927 36.293h-1.17v1.17h1.17v-1.17ZM28.098 36.293h-1.171v1.17h1.17v-1.17ZM30.439 36.293h-1.17v1.17h1.17v-1.17ZM33.951 36.293h-1.17v1.17h1.17v-1.17ZM35.122 36.293h-1.17v1.17h1.17v-1.17ZM36.293 36.293h-1.171v1.17h1.17v-1.17ZM40.976 36.293h-1.171v1.17h1.17v-1.17ZM42.146 36.293h-1.17v1.17h1.17v-1.17ZM16.39 37.463h-1.17v1.171h1.17v-1.17ZM18.732 37.463H17.56v1.171h1.17v-1.17ZM21.073 37.463h-1.17v1.171h1.17v-1.17ZM23.415 37.463h-1.171v1.171h1.17v-1.17ZM24.585 37.463h-1.17v1.171h1.17v-1.17ZM25.756 37.463h-1.17v1.171h1.17v-1.17ZM26.927 37.463h-1.17v1.171h1.17v-1.17ZM30.439 37.463h-1.17v1.171h1.17v-1.17ZM32.78 37.463h-1.17v1.171h1.17v-1.17ZM36.293 37.463h-1.171v1.171h1.17v-1.17ZM38.634 37.463h-1.17v1.171h1.17v-1.17ZM40.976 37.463h-1.171v1.171h1.17v-1.17ZM42.146 37.463h-1.17v1.171h1.17v-1.17ZM43.317 37.463h-1.17v1.171h1.17v-1.17ZM44.488 37.463h-1.17v1.171h1.17v-1.17ZM45.658 37.463h-1.17v1.171h1.17v-1.17ZM12.878 38.634h-1.17v1.17h1.17v-1.17ZM14.049 38.634h-1.171v1.17h1.17v-1.17ZM15.22 38.634h-1.171v1.17h1.17v-1.17ZM18.732 38.634H17.56v1.17h1.17v-1.17ZM22.244 38.634h-1.17v1.17h1.17v-1.17ZM25.756 38.634h-1.17v1.17h1.17v-1.17ZM28.098 38.634h-1.171v1.17h1.17v-1.17ZM31.61 38.634h-1.171v1.17h1.17v-1.17ZM35.122 38.634h-1.17v1.17h1.17v-1.17ZM36.293 38.634h-1.171v1.17h1.17v-1.17ZM40.976 38.634h-1.171v1.17h1.17v-1.17ZM42.146 38.634h-1.17v1.17h1.17v-1.17ZM44.488 38.634h-1.17v1.17h1.17v-1.17ZM18.732 39.805H17.56v1.17h1.17v-1.17ZM19.902 39.805h-1.17v1.17h1.17v-1.17ZM21.073 39.805h-1.17v1.17h1.17v-1.17ZM24.585 39.805h-1.17v1.17h1.17v-1.17ZM25.756 39.805h-1.17v1.17h1.17v-1.17ZM28.098 39.805h-1.171v1.17h1.17v-1.17ZM31.61 39.805h-1.171v1.17h1.17v-1.17ZM32.78 39.805h-1.17v1.17h1.17v-1.17ZM33.951 39.805h-1.17v1.17h1.17v-1.17ZM35.122 39.805h-1.17v1.17h1.17v-1.17ZM36.293 39.805h-1.171v1.17h1.17v-1.17ZM37.463 39.805h-1.17v1.17h1.17v-1.17ZM38.634 39.805h-1.17v1.17h1.17v-1.17ZM39.805 39.805h-1.17v1.17h1.17v-1.17ZM40.976 39.805h-1.171v1.17h1.17v-1.17ZM43.317 39.805h-1.17v1.17h1.17v-1.17ZM44.488 39.805h-1.17v1.17h1.17v-1.17ZM45.658 39.805h-1.17v1.17h1.17v-1.17ZM14.049 40.976h-1.171v1.17h1.17v-1.17ZM18.732 40.976H17.56v1.17h1.17v-1.17ZM19.902 40.976h-1.17v1.17h1.17v-1.17ZM22.244 40.976h-1.17v1.17h1.17v-1.17ZM24.585 40.976h-1.17v1.17h1.17v-1.17ZM25.756 40.976h-1.17v1.17h1.17v-1.17ZM28.098 40.976h-1.171v1.17h1.17v-1.17ZM29.268 40.976h-1.17v1.17h1.17v-1.17ZM32.78 40.976h-1.17v1.17h1.17v-1.17ZM35.122 40.976h-1.17v1.17h1.17v-1.17ZM38.634 40.976h-1.17v1.17h1.17v-1.17ZM42.146 40.976h-1.17v1.17h1.17v-1.17ZM43.317 40.976h-1.17v1.17h1.17v-1.17ZM14.049 42.146h-1.171v1.171h1.17v-1.17ZM16.39 42.146h-1.17v1.171h1.17v-1.17ZM18.732 42.146H17.56v1.171h1.17v-1.17ZM23.415 42.146h-1.171v1.171h1.17v-1.17ZM24.585 42.146h-1.17v1.171h1.17v-1.17ZM29.268 42.146h-1.17v1.171h1.17v-1.17ZM30.439 42.146h-1.17v1.171h1.17v-1.17ZM31.61 42.146h-1.171v1.171h1.17v-1.17ZM32.78 42.146h-1.17v1.171h1.17v-1.17ZM33.951 42.146h-1.17v1.171h1.17v-1.17ZM36.293 42.146h-1.171v1.171h1.17v-1.17ZM45.658 42.146h-1.17v1.171h1.17v-1.17ZM14.049 43.317h-1.171v1.17h1.17v-1.17ZM18.732 43.317H17.56v1.17h1.17v-1.17ZM19.902 43.317h-1.17v1.17h1.17v-1.17ZM22.244 43.317h-1.17v1.17h1.17v-1.17ZM23.415 43.317h-1.171v1.17h1.17v-1.17ZM25.756 43.317h-1.17v1.17h1.17v-1.17ZM29.268 43.317h-1.17v1.17h1.17v-1.17ZM30.439 43.317h-1.17v1.17h1.17v-1.17ZM33.951 43.317h-1.17v1.17h1.17v-1.17ZM36.293 43.317h-1.171v1.17h1.17v-1.17ZM37.463 43.317h-1.17v1.17h1.17v-1.17ZM39.805 43.317h-1.17v1.17h1.17v-1.17ZM42.146 43.317h-1.17v1.17h1.17v-1.17ZM45.658 43.317h-1.17v1.17h1.17v-1.17ZM14.049 44.488h-1.171v1.17h1.17v-1.17ZM15.22 44.488h-1.171v1.17h1.17v-1.17ZM16.39 44.488h-1.17v1.17h1.17v-1.17ZM24.585 44.488h-1.17v1.17h1.17v-1.17ZM25.756 44.488h-1.17v1.17h1.17v-1.17ZM29.268 44.488h-1.17v1.17h1.17v-1.17ZM31.61 44.488h-1.171v1.17h1.17v-1.17ZM36.293 44.488h-1.171v1.17h1.17v-1.17ZM37.463 44.488h-1.17v1.17h1.17v-1.17ZM38.634 44.488h-1.17v1.17h1.17v-1.17ZM39.805 44.488h-1.17v1.17h1.17v-1.17ZM45.658 44.488h-1.17v1.17h1.17v-1.17Z"}),(0,n.jsx)("path",{className:"fill-none",d:"M9.307 3.57H3.571v5.737h5.736V3.571Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M8.195 4.683H4.683v3.512h3.512V4.683Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M9.307 2.341H2.341v8.196h8.196V2.34h-1.23Zm0 6.966H3.571V3.571h5.736v5.736Z"}),(0,n.jsx)("path",{className:"fill-none",d:"M44.43 3.57h-5.737v5.737h5.736V3.571Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M43.317 4.683h-3.512v3.512h3.512V4.683Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M44.43 2.341H37.462v8.196h8.196V2.34h-1.23Zm0 6.966h-5.737V3.571h5.736v5.736Z"}),(0,n.jsx)("path",{className:"fill-none",d:"M9.307 38.693H3.571v5.736h5.736v-5.736Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M8.195 39.805H4.683v3.512h3.512v-3.512Z"}),(0,n.jsx)("path",{className:"fill-current",d:"M9.307 37.463H2.341v8.196h8.196v-8.196h-1.23Zm0 6.966H3.571v-5.736h5.736v5.736Z"})]}),(0,n.jsxs)("svg",{viewBox:"0 0 101 116",stroke:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg",height:"32",width:"32",className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:[(0,n.jsx)("path",{className:"stroke-current",d:"M86.4325 6.53418L50.4634 36.9696H86.4325V6.53418Z",strokeWidth:"5.53371",strokeMiterlimit:"10"}),(0,n.jsx)("path",{d:"M50.4625 36.9696L17.2603 6.53418V36.9696H50.4625Z",className:"stroke-current",strokeWidth:"5.53371",strokeMiterlimit:"10"}),(0,n.jsx)("path",{d:"M50.4634 1L50.4634 114.441",className:"stroke-current",strokeWidth:"5.53371",strokeMiterlimit:"10"}),(0,n.jsx)("path",{d:"M83.6656 70.172L50.4634 36.9697V79.3026L83.6656 108.908V70.172Z",className:"stroke-current",strokeWidth:"5.53371",strokeMiterlimit:"10"}),(0,n.jsx)("path",{d:"M17.2603 70.172L50.4625 36.9697V78.4497L17.2603 108.908V70.172Z",className:"stroke-current",strokeWidth:"5.53371",strokeMiterlimit:"10"}),(0,n.jsx)("path",{d:"M3.42627 36.9697V81.2394H17.2605V70.172L50.4628 36.9697H3.42627Z",className:"stroke-current",strokeWidth:"5.53371",strokeMiterlimit:"10"}),(0,n.jsx)("path",{d:"M50.4634 36.9697L83.6656 70.172V81.2394H97.4999V36.9697L50.4634 36.9697Z",className:"stroke-current",strokeWidth:"5.53371",strokeMiterlimit:"10"})]})]})})},77342:function(e,t,r){"use strict";r.d(t,{rZ:function(){return y}});var n=r(53854),i=r(20981),s=r(60359),l=r(97825),o=r(77301),a=r(20550),c=r(82087),u=r(40591),d=r(78113),h=r(88121),m=r(22571),v=r(9618),p=r(23005),x=r(92508),f=r(37462),g=r.n(f),j=r(92225),k=r(96893),M=r(1930);let L=()=>"true"!==sessionStorage.getItem("signUpBannerDismissed"),b=()=>sessionStorage.setItem("signUpBannerDismissed","true"),y=()=>sessionStorage.setItem("signUpBannerDismissed","reset"),C=i.memo(e=>{let{size:t="default",willAnimate:r,variant:f,showLogo:y=!0}=e,[C,Z]=(0,i.useState)(!1),w=(0,l.usePathname)(),N=(0,s.useTranslations)("signup"),{trackEvent:S}=(0,o.WS)(),{keysRequiringRerender:_,removeKeyRequiringRerender:V}=(0,a.DQ)(),[P,D]=(0,i.useState)(""),E=()=>{D((0,d.Uz)(window.location.href,"login-source",h.FM.FLOATING_SIGNUP))};(0,i.useEffect)(()=>{E()},[]);let T=(null==w?void 0:w.startsWith("/join/"))||(null==w?void 0:w.startsWith("/onboarding"));if((0,i.useEffect)(()=>{Z(L()&&!T)},[]),(0,i.useEffect)(()=>{_.includes("floating-signup")&&(Z(L()&&!T),E()),V("floating-signup")},[V,_]),(0,i.useEffect)(()=>{C&&S("floating sign up shown",{size:t,animateOnScroll:r})},[C,t,S,r]),!C)return null;let I=()=>{Z(!1),b(),S("floating sign up dismissed",{})};return(0,n.jsx)(j.E.div,{variants:{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100}},initial:r?"initial":void 0,animate:r?"animate":void 0,exit:r?"exit":void 0,transition:r?{opacity:{duration:.1,ease:k.Vv},y:{duration:.4,ease:(0,M._)(.25,1,.5,1)}}:void 0,className:"fixed bottom-md right-md z-30 hidden w-[300px] md:block",children:(0,n.jsx)(m.ZP,{variant:"background",className:g()("rounded-lg border p-md shadow-md duration-300 ease-out animate-in fade-in",{"!p-lg":"compact"===t}),children:(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"absolute right-0 top-0",children:(0,n.jsx)(v.Z,{pill:!0,size:"small",icon:u.faXmark,onClick:I})}),("compact"!==t||y)&&(0,n.jsx)("div",{className:"flex justify-center pb-md",children:(0,n.jsx)(p.Z,{variant:"mark",color:"super",size:"small"})}),(0,n.jsx)(x.Z,{variant:"compact"!==t||(null==f?void 0:f.includes("alt"))?"section-title":"baseSemi",className:"mb-xs text-center",children:N((null==f?void 0:f.includes("alt"))?"floatingSignupTitleAlt":"floatingSignupTitle")}),!(null==f?void 0:f.includes("alt"))&&(0,n.jsx)(x.Z,{variant:"compact"===t?"tiny":"base",color:"light",className:"text-center",children:N("floatingSignupSubtitle",{proSearch:"Pro Search"})}),(0,n.jsx)("div",{className:"mt-md",children:(0,n.jsx)(c.Z,{showTitle:!1,onClose:I,redirectUrl:P,size:t,variant:f})})]})})})});t.ZP=C},61575:function(e,t,r){"use strict";r.d(t,{Z:function(){return I}});var n=r(53854),i=r(20981),s=r(33940),l=r(20961),o=r(81348),a=r(35324),c=r(47861),u=r(64980),d=r(60359),h=r(47379),m=r(39549),v=r(77301),p=r(43649),x=r(33465),f=r(51577),g=r(98510),j=r(49167),k=r(95621),M=r(43595),L=r(94645),b=r(3),y=r(22846),C=r(83734),Z=r(88121),w=r(92508),N=r(22571),S=r(2355),_=r(77594);let V=i.memo(e=>{let{origin:t,showFooter:r=!0,showPriceModels:s=!0}=e,o=(0,d.useTranslations)("subscription.pricingTable"),{navigateToCheckout:a}=(0,h.i)(),c=(0,f.nO)(),V=(0,x.lG)(),P=(0,l.W)(),{subscriptionTier:D}=(0,p.v)(),{openModal:E}=(0,g.useModalState)(),{organization:T}=(0,m.a)(),I=null!=T,{trackEvent:W}=(0,v.WS)(),A=(0,d.useTranslations)("shared"),O=[{name:o("enterpriseFeatures.proForAllUsers"),sub:o("enterpriseFeatures.proForAllUsersDescription",{pplx:"Perplexity"}),icon:_.H},{name:o("enterpriseFeatures.increasedDataPrivacy"),sub:o("enterpriseFeatures.increasedDataPrivacyDescription"),icon:L.HI},{name:o("enterpriseFeatures.enhancedSecurity"),sub:o("enterpriseFeatures.enhancedSecurityDescription"),icon:k.qm},{name:o("enterpriseFeatures.userManagement"),sub:o("enterpriseFeatures.userManagementDescription"),icon:y.FK},{name:o("enterpriseFeatures.SOC2"),sub:o("enterpriseFeatures.SOC2Description"),icon:b.is},{name:o("enterpriseFeatures.SSO"),sub:o("enterpriseFeatures.SSODescription"),icon:C.v6}],z=[{cost:40,name:o("monthly"),billed:A("perMonth"),url:"",badge:"",tier:"monthly"},{cost:400,name:o("yearly"),billed:A("perYear"),url:"",badge:o("saveXDollars",{x:80}),tier:"yearly"}],R=(0,i.useCallback)(e=>{V&&c?a({source:"pricingTiersEnterpriseTable",tier:e,onErrorCallback:()=>{console.warn("Error in checking out")}}):E("loginModal",{origin:Z.FM.PRICING_TABLE,pitchMessage:{title:o("proLogin",{pro:"Pro"})}})},[V,c,a,E,o]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid gap-md md:grid-cols-2",children:[O.map(e=>(0,n.jsxs)("div",{className:"flex items-baseline gap-x-sm",children:[(0,n.jsx)(w.Z,{children:(0,n.jsx)(u.G,{size:"lg",fixedWidth:!0,icon:e.icon})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(w.Z,{variant:"baseSemi",children:e.name}),(0,n.jsx)(w.Z,{color:"light",children:e.sub})]})]},e.name)),!P&&s&&z.map((e,t)=>(0,n.jsxs)(N.ZP,{className:"mt-md flex flex-col rounded border p-md",children:[(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsxs)("div",{className:"relative mb-sm",children:[(0,n.jsx)(w.Z,{variant:"smallCaps",color:"super",children:e.name}),e.badge&&(0,n.jsx)(N.ZP,{variant:"offset",className:"absolute -top-xs right-0 rounded-full px-sm py-two",children:(0,n.jsx)(w.Z,{variant:"tiny",children:e.badge})})]}),(0,n.jsx)(w.Z,{variant:"section-title",children:"$".concat(e.cost)}),(0,n.jsxs)(w.Z,{variant:"small",color:"light",className:"mb-md",children:["billed ",e.billed]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"items-center gap-md",children:(0,n.jsx)(S.Z,{variant:"primary",text:A("getStarted"),fullWidth:!0,onClick:()=>{W("pro get started button clicked",{tier:e.tier}),R(e.tier)},disabled:P})})})]},t))]}),P&&r&&(0,n.jsxs)(N.ZP,{className:"mt-lg rounded p-md",variant:"offset",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)(w.Z,{variant:"section-title",children:[(0,n.jsx)(w.Z,{variant:"section-title",color:"super",className:"inline",children:I?A("enterprise"):"yearly"==D?A("yearly"):A("monthly")})," ",o("subActive")]}),(0,n.jsx)(w.Z,{color:"light",children:o("thanks")})]}),t!==Z.FM.ONBOARDING&&(0,n.jsxs)("div",{className:"mt-md flex flex-wrap items-center gap-sm",children:[(0,n.jsx)(S.Z,{text:"Pro Settings",href:"/settings/account",size:"small",icon:M.b7}),!I&&(0,n.jsx)("div",{className:"",children:(0,n.jsx)(j.ZP,{})})]})]})]})});var P=r(44704),D=r(96227),E=r(4009),T=r(35585),I=i.memo(e=>{let t,{origin:r,useExperimentalTierUi:u,onClickContinue:d,isEnterprise:h,isEnterpriseAdmin:m,isEnterpriseCreation:v}=e,[p,x]=(0,i.useState)(!1),f=(0,l.W)(),{isMobileStyle:g}=(0,E.d)(),{discountCode:j,message:k}=(0,s.P)(),{referralCode:M}=(0,o.d)();return j&&!f?t={icon:D.I1,message:k}:!M||j||f||(t={icon:D.I1,message:"$10 referral credit applied"}),(0,n.jsxs)(n.Fragment,{children:[t&&!j&&(0,n.jsx)("div",{className:"mb-lg",children:(0,n.jsx)(T.Z,{icon:t.icon,message:t.message,actionList:[],isMobileStyle:g})}),u?(0,n.jsx)(c.Z,{origin:r,onClickContinue:d,isEnterprise:h,isEnterpriseCreation:v}):h&&(m||v)?(0,n.jsx)(V,{origin:r,onClickContinue:d,isEnterpriseCreation:v}):(0,n.jsx)(P.Z,{origin:r,setReferralModalOpen:x}),(0,n.jsx)(a.Z,{isOpen:p,onClose:()=>x(!1)})]})})},47861:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(53854),i=r(64980),s=r(20981),l=r(60359),o=r(97825),a=r(55442),c=r(47379),u=r(33940),d=r(20961),h=r(21062),m=r(19588),v=r(81348),p=r(33465),x=r(51577),f=r(98510),g=r(93582),j=r(22571),k=r(92508),M=r(2355),L=r(37462),b=r.n(L),y=e=>{let{title:t,description:r,perksLists:s,hideButton:l,planButton:o,highlight:a,per:c,price:u,discountPrice:d,onClick:h}=e;return(0,n.jsxs)(j.ZP,{className:"rounded-lg border shadow-sm",children:[(0,n.jsxs)(j.ZP,{className:"border-b p-md",children:[t?(0,n.jsx)(k.Z,{variant:"section-title",children:t}):null,r?(0,n.jsx)(k.Z,{color:"light",className:"min-h-[3rem]",children:r}):null,(0,n.jsxs)("div",{className:"mt-md flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-start gap-x-sm",children:[(0,n.jsx)(k.Z,{variant:"entry-title","aria-hidden":d,children:(0,n.jsx)("span",{className:b()("font-medium",{"line-through":d}),children:u})}),d&&(0,n.jsx)(k.Z,{variant:"entry-title",color:"super",children:(0,n.jsx)("span",{className:"font-medium",children:d})})]}),(0,n.jsx)(k.Z,{color:"light",className:"h-6",children:c})]}),!l&&(0,n.jsx)("div",{className:"mt-md",children:(0,n.jsx)(M.Z,{text:o,variant:a?"primary":"common",fullWidth:!0,onClick:h})})]}),(0,n.jsx)(j.ZP,{className:"p-md",children:(0,n.jsx)("ul",{children:s.map((e,t)=>(0,n.jsxs)("li",{className:"mb-sm flex gap-x-sm",children:[(0,n.jsx)(k.Z,{color:a?"super":"light",children:(0,n.jsx)(i.G,{icon:g.faCircleCheck})}),(0,n.jsx)(k.Z,{children:e})]},t))})})]})},C=r(40723),Z=r(8607),w=r(9618),N=r(77594),S=s.memo(e=>{let{origin:t,onClickContinue:r,isEnterprise:g,isEnterpriseCreation:M}=e,L=(0,o.useRouter)(),{navigateToCheckout:b}=(0,c.i)(),S=(0,l.useTranslations)("subscription.pricingTable"),_=(0,l.useTranslations)("shared"),V=(0,d.W)(),{discountCode:P}=(0,u.P)(),{referralCode:D}=(0,v.d)(),E=(0,p.lG)(),T=(0,x.nO)(),{openModal:I}=(0,f.useModalState)(),{handlePricingTableAdClick:W}=(0,a.g)(),A=function(){var e;let{data:t}=(0,h.useSession)(),{isLocalhost:r,isTesting:n}=(0,m.useEnv)(),i=null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.email,l=(0,s.useMemo)(()=>!(!(null==i?void 0:i.endsWith(".edu"))||i.includes("alumn")||i.includes("alum.")),[i]);return(!!r||!!n)&&l}(),O=!g,z=(0,s.useCallback)(()=>{E&&T?T.emit("get_checkout_session",{tier:"monthly",referral_code:V?"":D,discount_code:V?"":P,origin:t},e=>{(null==e?void 0:e.url)?window.location.href=e.url:L.refresh()}):I("loginModal",{origin:t,pitchMessage:{title:S("proLogin",{pro:"Pro"})}})},[E,T,V,D,P,t,L,I,S]),R=(0,s.useCallback)(()=>{b({source:"pricingTiersCardsTable",tier:"monthly",onErrorCallback:()=>{console.warn("Error in checking out")}})},[b]),U=[{hide:g&&M,title:S("free"),planButton:S("freePlanButton"),highlight:!1,description:S("freeDescription"),icon:N.H,price:S("freePrice"),per:S("perFree"),perksLists:[S("freePerks.perk1"),S("freePerks.perk2"),S("freePerks.perk3"),S("freePerks.perk4")],onClick:r},{hide:g,title:S("pro"),planButton:S("proPlanButton"),highlight:!0,description:S(A?"proForStudentsDescription":"proDescription",{pplx:"Perplexity"}),icon:N.H,price:S("proPrice"),discountPrice:A?S("studentPrice"):void 0,per:S("perMonth"),perksLists:[S("proPerks.perk1"),S("proPerks.perk2"),S("proPerks.perk3"),S("proPerks.perk4"),S("proPerks.perk5"),S("proPerks.perk6")],onClick:z},{title:S("enterprise"),hide:O,hideButton:M,highlight:!0,planButton:S("enterprisePlanButton"),description:S("enterpriseDescription"),price:S("enterprisePrice"),per:S("perMember"),icon:N.H,perksLists:[S("enterprisePerks.perk1"),S("enterprisePerks.perk2"),S("enterprisePerks.perk3"),S("enterprisePerks.perk4"),S("enterprisePerks.perk5"),S("enterprisePerks.perk6"),S("enterprisePerks.perk7")],onClick:R}];return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex grid-cols-2 flex-col gap-sm md:grid",children:U.map(e=>!e.hide&&(0,n.jsx)(y,{...e},e.title))}),O&&(0,n.jsxs)(j.ZP,{className:"mt-md flex justify-center gap-x-sm border-t pt-md",children:[(0,n.jsxs)(k.Z,{color:"light",variant:"baseSemi",className:"flex items-center gap-x-xs",children:[(0,n.jsx)(i.G,{icon:Z.Nd}),(0,n.jsx)("p",{children:S("enterpriseQuestion")})]}),(0,n.jsx)(w.Z,{noPadding:!0,variant:"super",chevron:!0,onClick:W,chevronIcon:C._t,text:_("learnMore")})]})]})})},44704:function(e,t,r){"use strict";var n=r(53854),i=r(64980),s=r(20981),l=r(60359),o=r(97825),a=r(39549),c=r(77301),u=r(33940),d=r(20961),h=r(81348),m=r(43649),v=r(33465),p=r(51577),x=r(98510),f=r(49167),g=r(43595),j=r(38796),k=r(87631),M=r(28807),L=r(76113),b=r(35310),y=r(57626),C=r(88121),Z=r(92508),w=r(9618),N=r(22571),S=r(2355),_=r(77594);let V=s.memo(e=>{let{origin:t,setReferralModalOpen:r,showFooter:V=!0,showPriceModels:P=!0}=e,D=(0,l.useTranslations)("subscription.pricingTable"),E=(0,o.useRouter)(),T=(0,p.nO)(),I=(0,v.lG)(),W=(0,d.W)(),{subscriptionTier:A}=(0,m.v)(),O="yearly"==A,{openModal:z}=(0,x.useModalState)(),{discountCode:R}=(0,u.P)(),{referralCode:U}=(0,h.d)(),{organization:F}=(0,a.a)(),q=null!=F,H=(null==R?void 0:R.startsWith("FREE"))&&!(null==R?void 0:R.startsWith("FREEHARVARD")),{trackEvent:B}=(0,c.WS)(),Q=(0,l.useTranslations)("shared"),G=[{name:D("unlimitedCopilot",{copilot:"Pro Search"}),sub:D("unlimitedCopilotDescription",{copilot:"Pro Search"}),icon:_.H,learnLink:"https://www.perplexity.ai/hub/getting-started#copilot"},{name:D("unlimitedFileUpload"),sub:D("unlimitedFileUploadDescription",{claude:"Claude 3.5",gpt4o:"GPT-4o"}),icon:k.SC,learnLink:"https://www.perplexity.ai/hub/faq/how-does-file-upload-work"},{name:D("modelSelection"),sub:D("modelSelectionDescription",{gpt4:"GPT-4o",claude:"Claude 3.5",perplexity:"Sonar",llama:"Llama 3.1 405B"}),icon:L.N6,learnLink:"https://www.perplexity.ai/collections/AI-101-Concepts-xEo05lAwS7u.IQU.YlkjWw"},{name:D("apiCredits"),sub:D("apiCreditsDescription",{perplexity:"Perplexity"}),icon:M.NO,learnLink:"https://docs.perplexity.ai/page/frequently-asked-questions"}],K=H?[{cost:20,name:D("monthly"),billed:Q("perMonth"),url:"",tier:"monthly"}]:[{cost:20,name:D("monthly"),billed:Q("perMonth"),url:"",tier:"monthly"},{cost:200,name:D("yearly"),billed:Q("perYear"),url:"",badge:D("saveXDollars",{x:40}),tier:"yearly"}],Y=(0,s.useCallback)(e=>{I&&T?T.emit("get_checkout_session",{tier:e,referral_code:W?"":U,discount_code:W?"":R,origin:t},e=>{(null==e?void 0:e.url)?window.location.href=e.url:E.refresh()}):z("loginModal",{origin:C.FM.PRICING_TABLE,pitchMessage:{title:D("proLogin",{pro:"Pro"})}})},[I,T,W,U,R,t,E,z,D]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid gap-md md:grid-cols-2",children:[G.map(e=>(0,n.jsxs)("div",{className:"flex items-baseline gap-x-sm",children:[(0,n.jsx)(Z.Z,{children:(0,n.jsx)(i.G,{size:"lg",fixedWidth:!0,icon:e.icon})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(Z.Z,{variant:"baseSemi",children:e.name}),(0,n.jsx)(Z.Z,{color:"light",children:e.sub}),(0,n.jsx)("div",{className:"mt-sm",children:(0,n.jsx)(w.Z,{text:Q("learnMore"),icon:j.gJ,href:e.learnLink,size:"tiny",target:"_blank",noPadding:!0})})]})]},e.name)),!W&&P&&K.map((e,t)=>(0,n.jsxs)(N.ZP,{className:"mt-md flex flex-col rounded border p-md",children:[(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsxs)("div",{className:"relative mb-sm",children:[(0,n.jsx)(Z.Z,{variant:"smallCaps",color:"super",children:e.name}),e.badge&&(0,n.jsx)(N.ZP,{variant:"offset",className:"absolute -top-xs right-0 rounded-full px-sm py-two",children:(0,n.jsx)(Z.Z,{variant:"tiny",children:e.badge})})]}),(0,n.jsx)(Z.Z,{variant:"section-title",children:"$".concat(e.cost)}),(0,n.jsxs)(Z.Z,{variant:"small",color:"light",className:"mb-md",children:["billed ",e.billed]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"items-center gap-md",children:(0,n.jsx)(S.Z,{variant:"primary",text:Q("getStarted"),fullWidth:!0,onClick:()=>{B("pro get started button clicked",{tier:e.tier}),Y(e.tier)},disabled:W})})})]},t))]}),W&&V&&(0,n.jsxs)(N.ZP,{className:"mt-lg rounded p-md",variant:"offset",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)(Z.Z,{variant:"section-title",children:[(0,n.jsx)(Z.Z,{variant:"section-title",color:"super",className:"inline",children:q?Q("enterprise"):O?Q("yearly"):Q("monthly")})," ",D("subActive")]}),(0,n.jsx)(Z.Z,{color:"light",children:D("thanks")})]}),t!==C.FM.ONBOARDING&&(0,n.jsxs)("div",{className:"mt-md flex flex-wrap items-center gap-sm",children:[(0,n.jsx)(S.Z,{text:"Pro Settings",href:"/settings/account",size:"small",icon:g.b7}),!q&&(0,n.jsx)("div",{className:"",children:(0,n.jsx)(f.ZP,{})}),!q&&!O&&(0,n.jsx)(S.Z,{text:D("switchToYearly"),size:"small",icon:y.a_,onClick:()=>{B("pro upgrade button clicked",{tier:"yearly"}),Y("yearly")}}),(0,n.jsx)(S.Z,{text:D("referFriend"),size:"small",icon:b.faShare,onClick:()=>r(!0)})]})]})]})});t.Z=V},35324:function(e,t,r){"use strict";var n=r(53854),i=r(64980);r(20981);var s=r(60359),l=r(24321),o=r(93136),a=r(69192),c=r(92508);t.Z=e=>{let{isOpen:t,onClose:r}=e,u=(0,s.useTranslations)("subscription.refer");return(0,n.jsx)(a.Z,{isOpen:t,onClose:r,children:(0,n.jsxs)("div",{className:"space-y-lg p-lg",children:[(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)(c.Z,{color:"super",children:(0,n.jsx)(i.G,{icon:o.Cl,size:"3x"})})}),(0,n.jsxs)("div",{className:"space-y-sm text-center",children:[(0,n.jsxs)(c.Z,{variant:"page-title",children:[u("whoDoYouKnow"),(0,n.jsx)("span",{className:"text-super dark:text-superDark",children:" Pro"}),"?"]}),(0,n.jsx)(c.Z,{variant:"section-title",color:"light",children:u("referDetails")})]}),(0,n.jsx)(l.Z,{})]})})}},24321:function(e,t,r){"use strict";var n=r(53854),i=r(20981),s=r(60359),l=r(43649),o=r(51577),a=r(49288),c=r(17605),u=r(82199),d=r(4009),h=r(25245),m=r(67144),v=r(2355),p=r(92508);t.Z=e=>{let{mini:t=!1}=e,r=(0,o.nO)(),[x,f]=(0,i.useState)(""),[g,j]=(0,i.useState)(),[k,M]=(0,i.useState)(!1),{referralCode:L}=(0,l.v)(),{isMobileUserAgent:b}=(0,d.d)(),y=(0,s.useTranslations)("subscription.refer"),C=(0,s.useTranslations)("shared"),Z=(0,i.useMemo)(()=>"https://perplexity.ai/pro?referral_code=".concat(L),[L]),w=(0,i.useCallback)(()=>{if(!1===/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)){j("Please enter a valid email address");return}r&&r.emit("send_referral_email",{to_email:x}),f(""),M(!0),setTimeout(()=>{M(!1)},2e3)},[x,r]);return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"space-y-md",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)("div",{className:"flex items-center gap-sm",children:(0,n.jsx)("div",{className:"grow",onClick:()=>{navigator.clipboard.writeText(Z)},children:(0,n.jsx)(h.ZP,{label:y("yourReferralLink"),isMobileUserAgent:b,value:Z,disabled:!0,rightItems:[{type:"button",buttonProps:{size:"small",clickFeedback:!0,icon:c.kZ,variant:void 0,onClick:()=>{navigator.clipboard.writeText(Z)}}}]})})})}),!t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"",children:(0,n.jsxs)("div",{className:"flex items-center gap-sm",children:[(0,n.jsx)("div",{className:"grow",children:(0,n.jsx)(h.ZP,{isMobileUserAgent:b,onKeyDown:e=>{m.t.isEnterKeyWithoutShift(e)&&(w(),e.preventDefault())},value:x,onChange:e=>{f(e.target.value),j(void 0)},errorText:g,label:y("emailYourLink"),placeholder:y("emailPlaceholder")})}),(0,n.jsx)("div",{className:"mt-md pt-sm",children:(0,n.jsx)(v.Z,{text:C("send"),size:"small",icon:k?a.LE:u.mN,onClick:w})})]})}),(0,n.jsx)(p.Z,{color:"light",variant:"small",children:y("referralDetailedDescription")})]})]})})}},49167:function(e,t,r){"use strict";r.d(t,{j9:function(){return g},uF:function(){return f}});var n=r(53854),i=r(21062),s=r(20981),l=r(60359),o=r(97825),a=r(20961),c=r(43649),u=r(51577),d=r(98510),h=r(5241),m=r(32273),v=r(19588),p=r(2355),x=r(88121);let f="https://billing.stripe.com/p/login/test_7sIdSS7ioeNSdpe9AA",g="https://billing.stripe.com/p/login/6oEeXaewnb3z1facMM";t.ZP=e=>{let{text:t}=e,r=(0,o.useRouter)(),j=(0,u.nO)(),k=(0,a.W)(),{revenuecatStatus:M,stripeStatus:L,revenuecatSource:b}=(0,c.v)(),{isProduction:y,isBeta:C}=(0,v.useEnv)(),{data:Z}=(0,i.useSession)(),{openModal:w}=(0,d.useModalState)(),N=(0,l.useTranslations)("subscription"),S=(0,l.useTranslations)("shared"),_=(0,s.useCallback)(()=>{if("ios"===b){r.push("https://www.apple.com/app-store/");return}if("android"===b){r.push("https://play.google.com/store");return}j&&j.emit("get_customer_portal",e=>{"success"===e.status&&null!=e.url&&""!==e.url?r.push(e.url):r.push(y||C?g:f)})},[C,y,r,j,b]),V="past_due"===L?N("manageSubscription"):"none"!==M?N("mobileSubscription"):N("manageSubscription");return(0,n.jsx)("div",{children:k||"past_due"===L?(0,n.jsx)(p.Z,{text:V,size:"small",onClick:_,icon:m.Oz}):(0,n.jsx)(p.Z,{text:null!=t?t:S("learnMore"),size:"small",onClick:()=>{Z?w("pricingModal",{origin:x.FM.TRY_PRO}):w("loginModal",{origin:x.FM.TRY_PRO,pitchMessage:{title:N("tryProPitch",{pro:"Pro"})}})},icon:h.nU})})}},82855:function(e,t,r){"use strict";r.d(t,{o:function(){return u}});var n=r(60359),i=r(55906),s=r(72779),l=r(35310),o=r(15143),a=r(34785),c=r(88121);let u=e=>{let{currentAccessLevel:t,onClick:r,isCollection:u}=e,d=(0,n.useTranslations)("accessLevel"),{isIOS:h,isAndroid:m}=(0,a.useDevice)();return[{label:"",text:d("onlyOwner"),icon:s.by,show:!1},{label:d(u?"ownerAndContributors":"onlyAuthor"),text:d("secret"),icon:s.by,onClick:()=>r(c.uv.PRIVATE_READ),active:t===c.uv.PRIVATE_READ},{label:d("anyoneWithLink"),text:d("shareable"),icon:h?i.A$:m?o.M6:l.faShare,onClick:()=>r(c.uv.PUBLIC_READ),active:t===c.uv.PUBLIC_READ}]}},50366:function(e,t,r){"use strict";var n,i;r.d(t,{C:function(){return l},D:function(){return s}}),(i=n||(n={})).DEFAULT="default",i.SDXL="sdxl",i.DALLE3="dall-e-3",i.PLAYGROUND="playground";let s=e=>{switch(e){case"sdxl":return"SDXL";case"dall-e-3":return"DALL-E 3";case"playground":return"Playground";default:return"AI"}},l=e=>"dalle"===e||Object.values(n).includes(e)},16616:function(e,t,r){"use strict";r.d(t,{c:function(){return s}});var n=r(73358),i=r(6503);let s=e=>{let t;try{t=JSON.parse(e||"{}")}catch(t){return console.error("Error parsing ask steps",t),i.Tb("[parseAskSteps] Unknown error parsing steps: ".concat(t),{extra:{messageText:e}}),[]}return Array.isArray(t)?t.filter((e,t)=>{let r=n.n.safeParse(e);if(!r.success){let n=JSON.stringify(e),s=r.error.issues.map(e=>"Field '".concat(e.path.join("."),"' ").concat(e.message)).join(", "),l="[parseAskSteps] Invalid step at index ".concat(t,": ").concat(s);return console.error(l),i.Tb(l,{extra:{stepData:n}}),!1}return!0}):[]}},93407:function(e,t,r){"use strict";r.d(t,{X:function(){return n},m:function(){return i}});let n=["list_user_collections",{}],i="__temp__"},35694:function(e,t,r){"use strict";r.d(t,{F:function(){return m},R:function(){return h}});var n=r(86812),i=r(74135),s=r(46764),l=r(97825),o=r(93407),a=r(51577),c=r(32499),u=r(42113),d=r(13822);let h=(e,t)=>{var r;return e&&(null===(r=e[0])||void 0===r?void 0:r.has_next_page)?t.length+1:void 0},m=()=>{let{searchTerm:e}=(0,c.p)(),t=(0,i.useQueryClient)(),r=(0,a.nO)(),h=(0,d.J)(),m=(0,l.usePathname)(),v="results",p=[u.T,{search_term:null!=e?e:""}],x=[u.T,{search_term:null!=e?e:""}],f=p,g=n.ur;(null==m?void 0:m.startsWith("/page"))&&(v="articleResults",f=x,g=n.KB);let{mutate:j}=(0,s.useMutation)({mutationFn:async e=>{let{title:t,description:n,emoji:i,instructions:s,accessLevel:l,existingCollection:o,closeModal:a}=e;a(),await r.emitWithAck("edit_collection",{collection_uuid:o.uuid,title:t,description:n,emoji:i,instructions:s,access:l})},onMutate:async e=>{let r=["get_collection",{collection_slug:e.existingCollection.slug.slice(-22)}];await t.cancelQueries({queryKey:r});let n=t.getQueryData(r);return t.setQueryData(r,t=>({...t,title:e.title,description:e.description,emoji:e.emoji,instructions:e.instructions,access:e.accessLevel})),{previousCollection:n}},onSettled:(e,r,n,i)=>{if(r)t.setQueryData(o.X,null==i?void 0:i.previousCollection);else{let e=n.existingCollection.slug.slice(-22);t.refetchQueries({queryKey:["get_collection",{collection_slug:e}]})}}}),{mutate:k}=(0,s.useMutation)({mutationFn:async e=>{let{accessLevel:t,collectionUuid:n}=e;await r.emitWithAck("update_collection_access",{collection_uuid:n,updated_access:t})},onMutate:async e=>{let r=["get_collection",{collection_slug:e.collectionSlug.slice(-22)}];await t.cancelQueries({queryKey:r});let n=t.getQueryData(r);return t.setQueryData(r,t=>({...t,access:e.accessLevel})),{previousCollection:n}},onSettled:(e,r,n,i)=>{if(r)t.setQueryData(o.X,null==i?void 0:i.previousCollection);else{let e=n.collectionSlug.slice(-22);t.invalidateQueries({queryKey:["get_collection",{collection_slug:e}]})}}}),{mutate:M}=(0,s.useMutation)({mutationFn:async e=>{let{entryUUID:t,title:n,description:i,emoji:s,instructions:l,accessLevel:o,callback:a}=e;if(!r)throw Error("Socket not initialized");let c=await r.emitWithAck("create_collection",{title:n,description:i,emoji:s,instructions:l,access:o});return await r.emitWithAck("upsert_thread_collection",{new_collection_uuid:c.uuid,entry_uuid:t}),a(),{title:n,description:i,emoji:s,instructions:l,accessLevel:o,newCollection:c}},onMutate:async e=>{let{entryUUID:r,frontendContextUUID:n,...i}=e;await t.cancelQueries({queryKey:f}),await t.cancelQueries({queryKey:o.X});let s=t.getQueryData(f),l=t.getQueryData(o.X);return t.setQueryData(o.X,e=>{var t;let r=null!==(t=(e=e||{pages:[],pageParams:[]}).pages&&e.pages[0])&&void 0!==t?t:[],n={...(null==r?void 0:r.length)>0?r[0]:[],...i,uuid:o.m,thread_count:1};return{...e,pages:[[n,...r]]}}),t.setQueryData(f,e=>{let t=(e=e||{pages:[],pageParams:[]}).pages.map(e=>e.map(e=>e.uuid===r?{...e,collection:{...e.collection,description:i.description,uuid:o.m,title:i.title,emoji:i.emoji}}:e));return{...e,pages:t}}),t.setQueryData(g(r),e=>{var t;let r=null!==(t=null==e?void 0:e.collection_info)&&void 0!==t?t:{};return{...e,collection_info:{...r,uuid:o.m,description:i.description,title:i.title,emoji:i.emoji}}}),n&&t.setQueryData(["results"],e=>({...e,[n]:e[n].map(e=>e.frontend_context_uuid===n?{...e,collection_info:{...e.collection_info,uuid:o.m,title:i.title,emoji:i.emoji}}:e)})),{previousThreads:s,previousCollections:l}},onSettled:(e,r,n,i)=>{r?(t.setQueryData(f,i.previousThreads),t.setQueryData(o.X,i.previousCollections)):(t.invalidateQueries({queryKey:f}),t.invalidateQueries({queryKey:o.X}),n.frontendContextUUID&&t.setQueryData(["results"],t=>t?{...t,[n.frontendContextUUID]:t[n.frontendContextUUID].map(t=>{var r,i,s,l;return t.frontend_context_uuid!==n.frontendContextUUID?t:{...t,collection_info:{...t.collection_info,uuid:null==e?void 0:null===(r=e.newCollection)||void 0===r?void 0:r.uuid,title:null==e?void 0:null===(i=e.newCollection)||void 0===i?void 0:i.title,emoji:null==e?void 0:null===(s=e.newCollection)||void 0===s?void 0:s.emoji,slug:null==e?void 0:null===(l=e.newCollection)||void 0===l?void 0:l.slug}}})}:t))}}),{mutate:L}=(0,s.useMutation)({mutationFn:async e=>{let{title:t,description:n,emoji:i,instructions:s,accessLevel:l,callback:o}=e;o(),r&&await r.emitWithAck("create_collection",{title:t,description:n,emoji:i,instructions:s,access:l})},onMutate:async e=>{let{...r}=e;t.setQueryData(o.X,e=>{let t=(e=e||{pages:[],pageParams:[]}).pages[0]||[],n={...t.length>0?t[0]:{},...r,uuid:o.m,thread_count:0};return{...e,pages:[[n,...t]]}})},onSuccess:async()=>{t.refetchQueries({queryKey:o.X})}}),{mutate:b}=(0,s.useMutation)({mutationFn:async e=>{let{entryUUID:t}=e;if(r)return await r.emitWithAck("upsert_thread_collection",{entry_uuid:t,upsert_type:"bookmark",return_collection:!0})},onMutate:async e=>{var r;let i;let{entryUUID:s,topic:l}=e,a=t.getQueryData((0,n.sN)(l));for(let e of null!==(r=null==a?void 0:a.pages)&&void 0!==r?r:[])for(let t of e)if(t.uuid===s){i=t.collection;break}return t.setQueryData((0,n.sN)(l),e=>{if(e)return{pageParams:e.pageParams,pages:e.pages.map(e=>e.map(e=>({...e,collection:e.uuid===s?{uuid:o.m,title:"Bookmarks",emoji:"1f516",slug:o.m}:e.collection})))}}),{previousCollection:i}},onSettled:(e,r,i,s)=>{let{entryUUID:l,topic:o}=i;if(r||!e)(null==s?void 0:s.previousCollection)&&t.setQueryData((0,n.sN)(o),e=>{if(e)return{pageParams:e.pageParams,pages:e.pages.map(e=>e.map(e=>({...e,collection:e.uuid===l?s.previousCollection:e.collection})))}});else{let{updated_collection:r}=e,{uuid:i,title:s,emoji:a,slug:c}=r;t.setQueryData((0,n.sN)(o),e=>{if(e)return{pageParams:e.pageParams,pages:e.pages.map(e=>e.map(e=>({...e,collection:e.uuid===l?{uuid:i,title:s,emoji:a,slug:c}:e.collection})))}})}}}),{mutate:y}=(0,s.useMutation)({mutationFn:async e=>{let{entryUUID:t,topic:n,oldCollectionUUID:i}=e;if(r)return await r.emitWithAck("remove_collection_thread",{collection_uuid:i,entry_uuid:t}),{topic:n}},onMutate:async e=>{var r;let i;let{entryUUID:s,topic:l}=e,o=t.getQueryData((0,n.sN)(l));for(let e of null!==(r=null==o?void 0:o.pages)&&void 0!==r?r:[])for(let t of e)if(t.uuid===s){i=t.collection;break}return t.setQueryData((0,n.sN)(l),e=>{if(e)return{pageParams:e.pageParams,pages:e.pages.map(e=>e.map(e=>({...e,collection:e.uuid===s?void 0:e.collection})))}}),{previousCollection:i}},onSettled:(e,r,i,s)=>{let{entryUUID:l,topic:o}=i;r&&(null==s?void 0:s.previousCollection)&&t.setQueryData((0,n.sN)(o),e=>{if(e)return{pageParams:e.pageParams,pages:e.pages.map(e=>e.map(e=>({...e,collection:e.uuid===l?s.previousCollection:e.collection})))}})}}),{mutate:C}=(0,s.useMutation)({mutationFn:async e=>{let{entryUUID:t,frontendContextUUID:n}=e;if(r)return await r.emitWithAck("upsert_thread_collection",{entry_uuid:t,upsert_type:"bookmark"}),{entryUUID:t,frontendContextUUID:n}},onSuccess:(e,r)=>{t.refetchQueries({queryKey:o.X}),t.refetchQueries({queryKey:g(r.entryUUID)}),t.refetchQueries({queryKey:f}),t.invalidateQueries({queryKey:["results"]}),t.invalidateQueries({queryKey:[v,{frontend_context_uuid:r.frontendContextUUID}]})}}),{mutate:Z}=(0,s.useMutation)({mutationFn:async e=>{let{entryUUID:t,currentCollectionUUID:n,newCollectionTitle:i,newCollectionUUID:s,newCollectionSlug:l,newCollectionAccess:a,closeModal:c}=e;if(s!==o.m)return c(),await (null==r?void 0:r.emitWithAck("upsert_thread_collection",{new_collection_uuid:s,entry_uuid:t})),{entryUUID:t,currentCollectionUUID:n,newCollectionTitle:i,newCollectionUUID:s,newCollectionSlug:l,newCollectionAccess:a,closeModal:c}},onMutate:async e=>{let{entryUUID:r,frontendContextUUID:n,currentCollectionUUID:i,newCollectionUUID:s,newCollectionTitle:l,newCollectionEmoji:a,newCollectionSlug:c,newCollectionAccess:u}=e;await t.cancelQueries({queryKey:f}),await t.cancelQueries({queryKey:o.X});let d=t.getQueryData(f),h=t.getQueryData(o.X);return n&&(t.setQueryData(["results"],e=>e?Object.hasOwn(e,n)?{...e,[n]:e[n].map(e=>e.frontend_context_uuid===n?{...e,collection_info:{uuid:s,title:l,emoji:a,slug:c,access:u},bookmark_state:"BOOKMARKED"}:e)}:e:{}),t.setQueryData([v,{frontend_context_uuid:n}],e=>e?e.map(e=>e.frontend_context_uuid===n?{...e,collection_info:{uuid:s,title:l,emoji:a,slug:c,access:u},bookmark_state:"BOOKMARKED"}:e):[])),t.setQueryData(o.X,e=>{let t=(e=e||{pages:[],pageParams:[]}).pages.map(e=>e.map(e=>e.uuid===i?{...e,thread_count:e.thread_count-1}:e.uuid===s?{...e,thread_count:e.thread_count+1}:e));return{...e,pages:t}}),t.setQueryData(f,e=>{let t=(e=e||{pages:[],pageParams:[]}).pages.map(e=>e.map(e=>e.uuid===r?{...e,collection:{...e.collection,uuid:s,title:l,emoji:a,slug:c}}:e));return{...e,pages:t}}),{previousThread:d,previousCollections:h}},onSettled:(e,r,n,i)=>{if(r)t.setQueryData(f,i.previousThread),t.setQueryData(o.X,i.previousCollections);else{let e=n.existingCollectionSlug;t.refetchQueries({queryKey:["list_collection_threads",{collection_slug:e}]}),t.refetchQueries({queryKey:g(n.entryUUID)}),t.invalidateQueries({queryKey:o.X}),t.invalidateQueries({queryKey:f}),t.invalidateQueries({queryKey:["results"]}),t.invalidateQueries({queryKey:[v,{frontend_context_uuid:n.frontendContextUUID}]})}}}),{mutate:w}=(0,s.useMutation)({mutationFn:async e=>{let{entryUUID:t,oldCollectionUUID:n,callback:i}=e;if(!r)throw Error("No socket connection");return await r.emitWithAck("remove_collection_thread",{collection_uuid:n,entry_uuid:t}),null==i||i(),{entryUUID:t,oldCollectionUUID:n}},onMutate:async e=>{let{entryUUID:r,oldCollectionUUID:n,frontendContextUUID:i}=e;await t.cancelQueries({queryKey:f}),await t.cancelQueries({queryKey:o.X});let s=t.getQueryData(f),l=t.getQueryData(o.X);return i&&(t.setQueryData(["results"],e=>e?Object.hasOwn(e,i)?{...e,[i]:e[i].map(e=>e.frontend_context_uuid===i?{...e,collection_info:null,bookmark_state:"NOT_BOOKMARKED"}:e)}:e:{}),t.setQueryData([v,{frontend_context_uuid:i}],e=>e?e.map(e=>e.frontend_context_uuid===i?{...e,collection_info:null,bookmark_state:"NOT_BOOKMARKED"}:e):[])),t.setQueryData(f,e=>{let t=(e=e||{pages:[],pageParams:[]}).pages.map(e=>e.map(e=>{var t;return r===e.uuid&&(null===(t=e.collection)||void 0===t?void 0:t.uuid)===n?{...e,collection:null}:e}));return{...e,pages:t}}),t.setQueryData(o.X,e=>{let i=(e=e||{pages:[],pageParams:[]}).pages.map(e=>e.map(e=>e.uuid===n?{...e,thread_count:e.thread_count-1}:e));return t.setQueryData(g(r),e=>e&&Array.isArray(e.pages)?{...e,pages:e.pages.map(e=>e.map(e=>e.uuid===r?{...e,collection_info:null}:e))}:{...e,collection_info:null}),{...e,pages:i}}),{previousThreads:s,previousCollections:l}},onSettled:(e,r,n,i)=>{r?(t.setQueryData(f,i.previousThreads),t.setQueryData(o.X,i.previousCollections)):(t.invalidateQueries({queryKey:g(n.entryUUID)}),t.invalidateQueries({queryKey:f}),t.invalidateQueries({queryKey:o.X}),t.invalidateQueries({queryKey:["results"]}),t.invalidateQueries({queryKey:[v,{frontend_context_uuid:n.frontendContextUUID}]}))}});return{updateCollectionInfo:j,updateCollectionAccessLevel:k,createCollectionForThread:M,createCollection:L,bookmarkFromFeed:b,removeBookmarkFromFeed:y,firstTimeBookmark:C,swapThreadCollection:Z,removeThreadFromCollection:w,getUserCollection:e=>{let{collectionSlug:t,callback:r}=e;return h.getCollection(t,r)}}}},13822:function(e,t,r){"use strict";r.d(t,{J:function(){return l}});var n=r(20981),i=r(51577);function s(e,t){let r=(0,i.nO)(),[s,l]=(0,n.useState)(!1);return(0,n.useCallback)(function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];let a=i[i.length-1];if(!r||s)return;l(!0);let c=t(...i);r.emit(e,c,e=>{l(!1),null==a||a(e)})},[r,e,s,t])}function l(){let e=s("add_collection_thread",(e,t)=>({collection_uuid:e,entry_uuid:t})),t=s("upsert_thread_collection",(e,t)=>({new_collection_uuid:e,entry_uuid:t})),r=s("remove_collection_thread",(e,t)=>({collection_uuid:e,entry_uuid:t})),n=s("generate_additional_suggestions",e=>({collection_uuid:e})),i=s("list_user_collections",e=>e),l=s("fetch_invited_collections",()=>({})),o=s("list_collection_threads",(e,t,r)=>({collection_uuid:e,limit:t,offset:r})),a=s("get_collection",e=>({collection_slug:e})),c=s("create_collection",(e,t,r,n,i)=>({title:e,description:t,emoji:r,instructions:n,access:i})),u=s("edit_collection",(e,t,r,n,i,s)=>({collection_uuid:e,title:t,description:r,emoji:n,instructions:i,access:s})),d=s("delete_collection",e=>({collection_uuid:e})),h=s("remove_suggestion_from_collection",(e,t)=>({collection_uuid:e,query:t}));return{addCollectionThread:e,upsertThreadCollection:t,removeCollectionThread:r,listUserCollections:i,fetchInvitedCollections:l,listCollectionThreads:o,getCollection:a,createCollection:c,editCollection:u,deleteCollection:d,inviteToCollection:s("invite_to_collection",(e,t)=>({collection_uuid:e,contributor_email:t})),respondToInvitation:s("respond_to_invitation",function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{collection_uuid:e,accept:t,return_collection:r}}),removeFromCollection:s("remove_from_collection",(e,t)=>({collection_uuid:e,email:t})),removeSuggestionFromCollection:h,generateAdditionalSuggestions:n}}},42113:function(e,t,r){"use strict";r.d(t,{O:function(){return n},T:function(){return i}});let n=20,i="list_ask_threads"},53458:function(e,t,r){"use strict";r.d(t,{p:function(){return l}});var n=r(86096),i=r(3068),s=r(97455);function l(){let e=(0,s.f)(),{results:t}=(0,n.a0)();return e?(0,i.$)(t):void 0}},93406:function(e,t,r){"use strict";r.d(t,{l:function(){return i}});var n=r(20981);function i(e){let{clearInputOnSubmit:t=!1,initialValue:r="",onSubmit:i}=e,[s,l]=(0,n.useState)(r),[o,a]=(0,n.useState)(null),c=(0,n.useCallback)(e=>{let r=o?Date.now()-o:void 0;a(null),null==i||i({...e,timeFromFirstType:r}),t&&l("")},[t,o,i]);return{value:s,onChange:(0,n.useCallback)(e=>{null===o&&a(Date.now()),l(e)},[o]),onSubmit:c,setUserInput:l}}},33940:function(e,t,r){"use strict";r.d(t,{P:function(){return c}});var n=r(20981),i=r(97825),s=JSON.parse('{"RAMP":"Welcome Ramp members. Your 6 month Perplexity Pro free trial starts now!","FREEATT":"Welcome ATT Employees.  Your complimentary 1-year subscription starts now!","FREEAWS":"Welcome AWS Employees.  Your complimentary 1-year subscription starts now!","RABBIT":"Welcome r1 owners.  Your complimentary 1-year Perplexity Pro subscription starts now!","FREEUT":"Welcome UT Staff.  Your complimentary 1-year Perplexity Pro subscription starts now!","FREEDATABRICKS":"Welcome Databricks team.  Your complimentary 1-year Perplexity Pro subscription starts now!","FREESRA":"Welcome SRA team. Your complimentary 1-year Perplexity Pro subscription starts now!","HBSTECH":"Welcome HBS Tech Conference Attendees.  Your complimentary 6 month Perplexity Pro subscription starts now!","HBSSTAFF":"Welcome HBS Tech Conference Attendees.  Your complimentary 1 year Perplexity Pro subscription starts now!","FREENEWSROOM":"Welcome Friends!  Your complimentary 1-year Perplexity Pro subscription starts now!","FREEINKITT":"Welcome Inkitt Writers!  Your complimentary 1-year subscription to Perplexity Pro starts now!","FREETIME":"Welcome Time team!  Your complimentary 1-year subscription to Perplexity Pro starts now!","FREETMOBILE":"Welcome T-Mobile team!  Your complimentary 1-year subscription to Perplexity Pro starts now!","11LABS":"Welcome! Your complimentary 3-month subscription to Perplexity Pro starts now!","FREECAVS":"Welcome Cavs team! Your complimentary 1-year Perplexity Pro subscription starts now!","NOTHING6":"Welcome Nothing owners. Your complimentary 6-month Perplexity Pro subscription starts now!","FREENOTHING6":"Welcome Nothing owners. Your complimentary 6-month Perplexity Pro subscription starts now!","NOTHING1":"Welcome Nothing owners. Your complimentary 1-year Perplexity Pro subscription starts now!","FREENOTHING1":"Welcome Nothing owners. Your complimentary 1-year Perplexity Pro subscription starts now!","HOOHACKS":"Welcome HooHacks Community. Your 1-year Perplexity Pro free trial starts now!","NJED":"Welcome NJ ED Community. Your 1-year Perplexity Pro free trial starts now!","COPYAI":"Welcome Copy AI customers! Your 6-month complimentary Perplexity Pro subscription starts now!","RAYCAST6":"Welcome Raycast users! Your 6-month complimentary Perplexity Pro subscription starts now!","RAYCAST3":"Welcome Raycast users! Your 3-month complimentary Perplexity Pro subscription starts now!","FREEMAGENTALOVE":"Welcome Deutsche Telekom!  Your complimentary 1-year Perplexity Pro subscription starts now!","FREEPPLXVIP":"Welcome friend of Perplexity! Your complimentary 1-year Perplexity Pro subscription starts now.","FREEUTA1":"Welcome UTA team! Your complimentray 1-year Perplexity Pro subscription starts now.","DT":"Willkommen Deutsche Telekom Kunde! Sie erhalten dank Magenta Moments ein kostenloses 1-Jahres-Abonnement f\xfcr Perplexity Pro.","MY":"Welcome! Your complimentary 1-year Perplexity Pro subscription starts now."}'),l=r(20961);let o="pplx.discount_code",a="pplx.discount_code_expiry",c=()=>{let[e,t]=(0,n.useState)(null),[r,c]=(0,n.useState)(null),u=(0,i.useRouter)(),d=(0,i.useSearchParams)(),h=(0,i.usePathname)(),m=null==d?void 0:d.get("discount_code"),v=Array.isArray(m)?m[0]:m,[p,x]=(0,n.useState)(v||null),f=(0,l.W)(),g=(0,n.useCallback)(()=>{localStorage.removeItem(o),localStorage.removeItem(a),c(null),t(null)},[]),j=(0,n.useCallback)(()=>{if(r&&e)return;let n=localStorage.getItem(o);(null==n?void 0:n.startsWith("REPLIT"))?(t("/static/images/replit.svg"),c("/static/images/replit_dark.svg")):(null==n?void 0:n.startsWith("BREX"))?(t("/static/images/brex.svg"),c("/static/images/brex_dark.svg")):(c(null),t(null))},[r,e]),k=(0,n.useCallback)(()=>{let e=localStorage.getItem(o),t=localStorage.getItem(a);if(f){g();return}if(e||v){if(t&&new Date(t)<new Date){g();return}if(!e||v&&v!==e){let e=new Date;e.setDate(e.getDate()+2),localStorage.setItem(o,String(v)),localStorage.setItem(a,e.toString()),x(String(v)),j(),"/pro"===h&&u.push("/");return}if(e){x(e),j();return}}},[v,j,f,h,g,u]);return(0,n.useEffect)(()=>{k()},[v,k]),{discountCode:p,partnerLogoDark:r,partnerLogoLight:e,message:(e=>{for(let t in s)if(e&&e.startsWith(t))return s[t];return"Promo code ".concat(e," applied.")})(p)}}},94013:function(e,t,r){"use strict";r.d(t,{m:function(){return k}});var n=r(53854),i=r(21062),s=r(20981),l=r(60359),o=r(21185),a=r(33465),c=r(69073),u=r(92177),d=r(60630),h=r(23402),m=r(81831),v=r(17667),p=r(27618),x=r(98338),f=r(19203),g=r(19588),j=r(66795);let k=()=>{var e;let t=(0,l.useTranslations)("askInput.assistants"),{data:r}=(0,i.useSession)(),k=null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.image,M=(0,a.h2)(),{isLocalhost:L,isTesting:b}=(0,g.useEnv)();return{DEFAULT_ASSISTANTS:(0,s.useMemo)(()=>{let e=new Set(["internet","scholar","wolfram","writing","youtube","reddit"]);return M&&(L||b)&&e.add("finance"),e},[M,L,b]),DEFAULT_LIBRARIES:(0,s.useMemo)(()=>new Set(["personal","team"]),[]),FocusConfigs:(0,s.useMemo)(()=>{let e=k?(0,n.jsx)(o.Z,{user:k,size:"small"}):void 0;return{[j.w.internet]:{icon:x.g4,text:t("internetTitle"),info:t("internetDescription")},[j.w.scholar]:{icon:m.Kt,text:t("scholarTitle"),info:t("scholarDescription")},[j.w.writing]:{icon:f.Tz,text:t("writingTitle"),info:t("writingDescription")},[j.w.wolfram]:{icon:h.t3,text:t("wolframTitle"),info:t("wolframDescription")},[j.w.youtube]:{icon:p.ii,text:t("videoTitle"),info:t("videoDescription")},[j.w.reddit]:{icon:v.Uk,text:t("redditTitle"),info:t("redditDescription")},[j.w.finance]:{icon:d.im,text:t("financeTitle"),info:t("financeDescription")},[j.Z.personal]:{icon:c.IL,avatar:e,text:t("personalTitle"),info:t("personalDescription")},[j.Z.team]:{icon:u.Nd,text:t("teamTitle"),info:t("teamDescription")}}},[t,k])}}},90396:function(e,t,r){"use strict";var n=r(20981),i=r(60359),s=r(97825),l=r(605),o=r(72107),a=r(93406),c=r(78113),u=r(87442),d=r.n(u);t.Z=function(e){let{clearInputOnSubmit:t=!1,collection:r,onSubmit:u}=e,h=(0,s.useRouter)(),{focus:m,isCopilot:v}=(0,o.h)(),{submitQuery:p}=(0,l.e)(),x=(0,i.useTranslations)("askInput"),f=(0,n.useCallback)(e=>{if(""===e.query.trim())return;null==u||u(e);let t=(0,c.Mp)();p({rawQuery:e.query,focusOverride:m,copilotOverride:!!v||void 0,attachments:e.attachments,collection:r||null,newFrontendContextUUID:t,existingFrontendContextUUID:null,promptSource:e.promptSource||"user",querySource:e.querySource,timeFromFirstType:e.timeFromFirstType});let n=new URLSearchParams({q:"pending",newFrontendContextUUID:t}),i=new URL(window.location.href);i.pathname="search/new",i.search=n.toString();let s=i.toString();h.push(s)},[u,p,m,v,r,h]);return{...(0,a.l)({clearInputOnSubmit:t,onSubmit:d()(f,3e3,{leading:!0})}),placeholder:x("placeholder")}}},20961:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(21062);function i(){var e,t;let{data:r}=(0,n.useSession)(),i=null!==(t=null==r?void 0:null===(e=r.user)||void 0===e?void 0:e.subscription_status)&&void 0!==t?t:"none";return"active"===i||"trialing"===i}},81348:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});var n=r(20981),i=r(97825);let s="referral_code",l="referral_code_expiry",o=()=>{let[e,t]=(0,n.useState)(null),r=(0,i.useSearchParams)(),o=null==r?void 0:r.get("referral_code"),a=Array.isArray(o)?o[0]:o,c=(0,n.useCallback)(()=>{let e=localStorage.getItem(s),r=localStorage.getItem(l);if(e||a){if(r&&new Date(r)<new Date){localStorage.removeItem(s),localStorage.removeItem(l),t(null);return}if(!e||a&&a!==e){let e=new Date;e.setDate(e.getDate()+1),localStorage.setItem(s,String(a)),localStorage.setItem(l,e.toString()),t(String(a));return}if(e){t(e);return}}},[a]);return(0,n.useEffect)(()=>{c()},[a,c]),{referralCode:e}}},57834:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var n=r(86812),i=r(74135),s=r(46764),l=r(51577),o=r(79032);let a=()=>{let e=(0,l.nO)(),t=(0,i.useQueryClient)(),r=(0,n.rT)(),{mutate:a}=(0,s.useMutation)({mutationFn:async t=>{await (null==e?void 0:e.emitWithAck("save_user_settings",t))},onMutate:async e=>{await t.cancelQueries({queryKey:r});let n=t.getQueryData(r),i={};for(let t in e)i[o.rB[t]]=e[t];return t.setQueryData(r,e=>({...e,...i})),{previousSettings:n}},onSettled(e,n,i,s){n&&t.setQueryData(r,null==s?void 0:s.previousSettings)}});return{updateSettings:a}}},43649:function(e,t,r){"use strict";r.d(t,{v:function(){return o}});var n=r(86812),i=r(42138),s=r(93895),l=r(33465);let o=e=>{let t=async()=>(0,s.nS)(void 0),r=(0,l.lG)(),{data:o}=(0,i.useQuery)({enabled:!!r&&(void 0===e||e),queryKey:(0,n.rT)(),queryFn:t,networkMode:"always"});return o||{hasLoadedSettings:!1,gpt4Limit:0,opusLimit:0,pagesLimit:0,uploadLimit:0,articleImageUploadLimit:0,defaultModel:"turbo",defaultImageGenerationModel:"default",queryCount:void 0,queryCountCopilot:void 0,queryCountMobile:void 0,hasAiProfile:!1,referralCode:void 0,referralNumSuccess:void 0,disableTraining:!1,defaultCopilot:!1,isSidebarCollapsed:!1,subscriptionTier:void 0,stripeStatus:"none",revenuecatStatus:"none",revenuecatSource:"none",createLimit:0,notifStatus:void 0,emailStatus:void 0,hasDataRetentionWarning:!1,allowArticleCreation:!1}}},158:function(e,t,r){"use strict";r.d(t,{HO:function(){return m},U3:function(){return v},gW:function(){return d}});var n=r(53854),i=r(20981),s=r(8005),l=r(77301),o=r(34785),a=r(1755),c=r(37710);let u=(0,i.createContext)({suggestions:[],queryForSuggestions:"",handleUpdateSuggestions:()=>{}}),d=(e,t)=>!(0===e.length||e.split(" ").length>7||e.replaceAll(/[^\S\n]/g,"").endsWith("\n"))&&!!t,h=e=>{let{input:t,diff:r,suggestions:n}=e;if(!t.length||!n.length)return[];let i=t[t.length-1];return n.filter(e=>r?e.startsWith(r):e[0]===i)},m=e=>{let{children:t,locale:r}=e,{isMobile:d}=(0,o.useDevice)(),[m,v]=(0,i.useState)([]),[p,x]=(0,i.useState)(""),f=(0,i.useRef)(null),g=(0,i.useRef)([]),j=(0,i.useRef)({}),k=(0,i.useCallback)(e=>{try{let t=new WebSocket("wss://www.perplexity.ai/suggest/ws");t.onopen=()=>{null==e||e()},t.onmessage=e=>{let[t,r,n]=JSON.parse(e.data);if(v(r),x(t),j.current[n]){let e=performance.now()-j.current[n];g.current.push(e)}},f.current=t}catch(e){console.error("Error connecting to autosuggest socket",e),v([])}},[]);(0,i.useEffect)(()=>{if(s.dm.includes(r))return k(),()=>{f.current&&f.current.close()}},[k,d,r]);let M=(0,i.useCallback)(function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];v([]);let n=[WebSocket.OPEN,WebSocket.CONNECTING];if(!f.current||!n.includes(f.current.readyState)){r&&k(()=>{M(e,t,!1)});return}if(!e||0===e.length){v([]);return}let i=(0,c.Z)(),s=JSON.stringify({q:e,mode:t,uuid:i});try{f.current.send(s),j.current[i]=performance.now()}catch(e){console.error("Error sending query for autosuggest",e),v([])}},[k]),L=(0,a.debounce)(M,50,{maxWait:200});(0,i.useEffect)(()=>{let e=setInterval(()=>{0!==g.current.length&&(l.zW.reportAutosuggestLatencies({latencies:g.current,isMobile:d}),g.current=[])},2e3);return()=>clearInterval(e)},[d]);let b=(0,i.useCallback)((e,t,r)=>{let n=h({input:e,diff:r,suggestions:m});n.length>0?(x(e),v(n.map(e=>e.slice(1)))):L(e,t)},[L,m]);return(0,n.jsx)(u.Provider,{value:{suggestions:m,queryForSuggestions:p,handleUpdateSuggestions:b},children:t})},v=()=>{let e=(0,i.useContext)(u);if(!e)throw Error("useAutosuggest must be used within an AutosuggestProvider");return e}},20550:function(e,t,r){"use strict";r.d(t,{DQ:function(){return p},ib:function(){return v}});var n=r(53854),i=r(21062),s=r(20981),l=r(77301),o=r(51577),a=r(61764),c=r(11128),u=r(19588),d=r(6503);let h=(0,s.createContext)({initialized:!1,getEppoStringVariation:()=>"",getEppoBooleanVariation:()=>!1,getEppoNumberVariation:()=>0,keysRequiringRerender:[],addKeyRequiringRerender:()=>null,removeKeyRequiringRerender:()=>null}),m=(e,t,r,n)=>i=>(0,l.r2)({name:"experiment assignment",data:{subjectType:i.subjectAttributes.subjectType,pagePropsHostname:n,colorScheme:r,...i},socket:e,session:t}),v=e=>{let{children:t,hostname:r}=e,{data:l}=(0,i.useSession)(),[v,p]=(0,s.useState)(!1),[x,f]=(0,s.useState)([]),g=(0,o.nO)(),{isProduction:j,isStaging:k}=(0,u.useEnv)(),M=j||k?"Xt1y37LY9CvTrzAJsLSz8cLMtXN3IUEvJZHciWbO-OU":"GwM0spEq_mbseGAJ5OOouSj2OFUMOgsHV_mlozU75Zo",{colorScheme:L}=(0,c.t)();(0,s.useEffect)(()=>{g&&r&&(0,a.S1)({apiKey:M,assignmentLogger:{logAssignment:m(g,l,L,r)}}).then(()=>p(!0))},[M,g,l,r,L]);let b=(0,s.useCallback)((e,t)=>{let{key:r,flag:n,subjectType:i,subjectAttributes:s,defaultValue:l}=t;if(!v)return l;try{return e(n,r,{...s,subjectType:i},l)}catch(t){let e="[Eppo Experiments] [".concat(n,"] Error for key ").concat(r);return d.Tb(e),l}},[v]),y=(0,s.useCallback)(e=>b((e,t,r,n)=>(0,a.s8)().getStringAssignment(e,t,r,n),e),[b]),C=(0,s.useCallback)(e=>b((e,t,r,n)=>(0,a.s8)().getBooleanAssignment(e,t,r,n),e),[b]),Z=(0,s.useCallback)(e=>b((e,t,r,n)=>(0,a.s8)().getNumericAssignment(e,t,r,n),e),[b]);return(0,n.jsx)(h.Provider,{value:{initialized:v,getEppoStringVariation:y,getEppoBooleanVariation:C,getEppoNumberVariation:Z,keysRequiringRerender:x,addKeyRequiringRerender:e=>{f(t=>t.includes(e)?t:[...t,e])},removeKeyRequiringRerender:e=>{f(t=>t.includes(e)?t.filter(t=>t!==e):t)}},children:t})},p=()=>{let e=(0,s.useContext)(h);if(!e)throw Error("useEppoExperiments must be used within EppoExperimentsContext");return e}},54194:function(e,t,r){"use strict";r.r(t),r.d(t,{LocalUserSettingsProvider:function(){return c},useLocalUserSettings:function(){return u}});var n=r(53854),i=r(20981),s=r(77301),l=r(33465),o=r(15117);let a=i.createContext({isCollapsed:!1,setIsCollapsed:()=>void 0,isIncognito:!1,setIsIncognito:()=>void 0,isDiscoverInterestBoxDismissed:!1,setIsDiscoverInterestBoxDismissed:()=>void 0,isEnterpriseAdDismissed:!1,setIsEnterpriseAdDismissed:()=>void 0,isDefaultSearchExtensionInstallClicked:!1,setIsDefaultSearchExtensionInstallClicked:()=>void 0,colorScheme:"light"}),c=e=>{let{children:t,localUserSettings:r}=e,[c,u]=(0,i.useState)(r),{trackEvent:d}=(0,s.WS)(),h=(0,l.lG)(),m=(0,i.useCallback)(e=>{u(t=>((0,o.d8)("isCollapsed",String(e),{expires:o.Tw}),{...t,isCollapsed:e}))},[u]),v=(0,i.useCallback)(e=>{h&&(u(t=>((0,o.C8)(e),{...t,isIncognito:e})),d("toggle incognito",{isIncognito:e}))},[u,d,h]),p=(0,i.useCallback)(e=>{u(t=>((0,o.BJ)(e),{...t,isDiscoverInterestBoxDismissed:e}))},[u]),x=(0,i.useCallback)(e=>{u(t=>((0,o.O5)(e),{...t,isDefaultSearchExtensionInstallClicked:e}))},[u]),f=(0,i.useCallback)(e=>{u(t=>((0,o.NJ)(e),{...t,isEnterpriseAdDismissed:e}))},[u]),g={...c,setIsCollapsed:m,setIsIncognito:v,setIsDiscoverInterestBoxDismissed:p,setIsEnterpriseAdDismissed:f,setIsDefaultSearchExtensionInstallClicked:x};return(0,n.jsx)(a.Provider,{value:g,children:t})},u=()=>{let e=i.useContext(a);if(!e)throw Error("useLocalUserSettings must be used within LocalUserSettingsContext");return e}},98510:function(e,t,r){"use strict";r.r(t),r.d(t,{ModalStateProvider:function(){return ey},useModalState:function(){return eC}});var n=r(53854),i=r(20981),s=r(95500),l=r(64980),o=r(60359),a=r(35694),c=r(89890),u=r(82855),d=r(55752),h=r(48812),m=r(6069),v=r(11128),p=r(92508),x=r(2355),f=r(22571);let g=(0,s.default)(async()=>await Promise.all([r.e(2441),r.e(6650)]).then(r.bind(r,85253)),{loadableGenerated:{webpack:()=>[85253]}});var j=e=>{let{emoji:t,setEmoji:r}=e,{colorScheme:s}=(0,v.t)(),[a,c]=(0,i.useState)(!1),u=(0,o.useTranslations)("collection.create");return(0,n.jsx)("div",{className:"relative",children:(0,n.jsxs)("div",{className:"mb-md",children:[(0,n.jsx)(p.Z,{variant:"smallBold",children:u("emoji")}),!a&&(0,n.jsxs)("div",{className:"relative mt-sm inline-block",children:[""!==t&&(0,n.jsx)("div",{className:"absolute -right-sm -top-sm",children:(0,n.jsx)(x.Z,{pill:!0,size:"small",icon:m.g8,onClick:()=>r("")})}),(0,n.jsx)(f.ZP,{onClick:()=>c(!a),variant:"offset",bgHover:"offsetPlus",className:"flex h-14 w-14 cursor-pointer items-center justify-center rounded-full p-sm",children:""===t?(0,n.jsx)(p.Z,{children:(0,n.jsx)(l.G,{icon:h.r8})}):(0,n.jsx)(d.B,{unified:t,size:"regular"})})]}),a&&(0,n.jsx)(f.ZP,{variant:"offset",className:"mt-sm rounded p-md duration-300 animate-in fade-in",children:(0,n.jsx)(g,{emojiStyle:"native",onEmojiClick:function(e){c(!1),r(e.unified)},autoFocusSearch:!0,width:"100%",theme:"dark"===s?"dark":"light",previewConfig:{showPreview:!1}})})]})})},k=r(87406),M=r(34838),L=r(47285),b=r(4009),y=r(69192),C=r(25245),Z=r(94412),w=r(45138);let N=i.memo(e=>{var t,r,s,d;let{isOpen:h,closeModal:m,existingCollection:v,entryUUID:x,frontendContextUUID:g}=e,N=(0,o.useTranslations)("shared"),S=!!v&&(0,M.Nl)(v.user_permission),_=v?(0,c.Y)(v,N):"",[V,P]=(0,i.useState)({title:_,description:null!==(t=null==v?void 0:v.description)&&void 0!==t?t:"",instructions:null!==(r=null==v?void 0:v.instructions)&&void 0!==r?r:"",emoji:null!==(s=null==v?void 0:v.emoji)&&void 0!==s?s:"",accessLevel:null!==(d=null==v?void 0:v.access)&&void 0!==d?d:L.Pv}),D=(0,o.useTranslations)("collection.create"),{title:E,description:T,instructions:I,emoji:W,accessLevel:A}=V,{createCollection:O,updateCollectionInfo:z,createCollectionForThread:R}=(0,a.F)(),{isMobileStyle:U,isMobileUserAgent:F}=(0,b.d)(),q=e=>{P(t=>({...t,...e}))},H=(0,u.o)({currentAccessLevel:A,onClick:e=>q({accessLevel:e}),isCollection:!0}),B=H[A],Q=(null==E?void 0:E.length)===0||(null==E?void 0:E.length)>L.Mc||(null==T?void 0:T.length)>L.uE||(null==I?void 0:I.length)>L.rs,G=null==v?void 0:v.uuid,K=()=>{q({title:"",description:"",instructions:"",emoji:"",accessLevel:L.Pv}),m()},Y=()=>{x?R({...V,entryUUID:x,frontendContextUUID:g,callback:K}):O({...V,callback:K})},X=G?[{text:D("modalButtonUpdate"),variant:"primary",disabled:Q,onClick:()=>z({...V,existingCollection:v,closeModal:m})}]:[{text:D("modalButtonCreate"),variant:"primary",disabled:Q,onClick:()=>Y()}];return(0,n.jsx)(y.Z,{title:D(v?"modalTitleEdit":"modalTitleCreate"),subtitle:D("modalSubtitle"),isOpen:h,onClose:m,actionList:X,children:(0,n.jsxs)("div",{className:"space-y-md",children:[(0,n.jsx)(C.ZP,{disabled:S,isMobileUserAgent:F,label:D("modalTitleLabel"),value:E,autoFocus:!0,onChange:e=>q({title:e.target.value}),placeholder:D("titlePlaceholder"),maxLength:L.Mc}),(0,n.jsx)(j,{emoji:W,setEmoji:e=>q({emoji:e})}),(0,n.jsx)(Z.Z,{isMobileStyle:U,isMobileUserAgent:F,placeholder:D("descriptionPlaceholder"),label:D("modalDescriptionLabel"),isOptional:!0,defaultTall:!0,minRows:2,value:T,onChange:e=>q({description:e.target.value}),maxLength:L.uE}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex gap-x-xs",children:[(0,n.jsx)(p.Z,{variant:"smallBold",children:D("modalLabelAiPrompt")}),(0,n.jsx)(p.Z,{variant:"small",color:"light",children:D("modalInputOptionalLabel")})]}),(0,n.jsx)(p.Z,{variant:"small",color:"light",className:"mb-sm",children:D("modalLabelAiPromptSubtitle")}),(0,n.jsx)(Z.Z,{isMobileStyle:U,isMobileUserAgent:F,placeholder:D("promptPlaceholder"),value:I,defaultTall:!0,minRows:2,onChange:e=>q({instructions:e.target.value}),maxLength:L.rs}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("div",{className:"flex gap-x-xs",children:(0,n.jsx)(p.Z,{variant:"smallBold",children:"Privacy"})}),(0,n.jsx)(w.DropDownMenu,{isMobileStyle:U,items:H,children:(0,n.jsxs)(f.ZP,{bgHover:"offset",className:"mt-sm flex cursor-pointer items-center justify-between rounded border px-md py-sm",children:[(0,n.jsxs)(p.Z,{variant:"smallBold",className:"flex items-center gap-x-sm",children:[B.icon&&(0,n.jsx)(l.G,{icon:B.icon}),(0,n.jsx)("span",{children:B.text})]}),(0,n.jsx)(p.Z,{variant:"small",color:"light",children:(0,n.jsx)(l.G,{icon:k.pt})})]})})]})]})]})})});var S=r(30947),_=r(21119);let V=e=>{var t;let{collection:r,selectCollection:i,selected:s,testId:a}=e,u=(0,o.useTranslations)("shared"),h=(0,c.Y)(r,u);return(0,n.jsx)(f.ZP,{testId:a,onClick:()=>{s||i(r.uuid)},variant:s?"offset":"transparent",bgHover:"offset",className:"cursor-pointer rounded border p-sm",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-x-sm",children:[(0,M.Nl)(r.user_permission)?(0,n.jsx)("div",{className:"flex size-[18px] items-center justify-center",children:(0,n.jsx)(l.G,{icon:S.xV,size:"sm"})}):(0,n.jsx)(d.B,{unified:null!==(t=r.emoji)&&void 0!==t?t:L.$Y,size:"small"}),(0,n.jsx)(p.Z,{testId:"collection-preview-title",variant:"small",className:"line-clamp-2 leading-[1.2]",children:h})]}),s&&(0,n.jsx)(p.Z,{color:"super",className:"inline-flex",children:(0,n.jsx)(l.G,{icon:_.f8})})]})})};var P=r(70154);let D=e=>{let{isOpen:t,entryUUID:r,frontendContextUUID:i,userCollections:s,currentCollection:u,searchTerm:d,closeModal:h}=e,{openModal:m}=eC(),{swapThreadCollection:v}=(0,a.F)(),p=(0,o.useTranslations)("collection.main"),f=(0,o.useTranslations)("shared");return(0,n.jsx)(y.Z,{title:p("chooseCollection"),isOpen:t,onClose:h,children:(0,n.jsxs)("div",{className:"my-md space-y-sm",children:[(0,n.jsx)(x.Z,{text:p("newCollection"),fullWidth:!0,size:"small",layout:"left",onClick:()=>{h(),r?m("collectionCreateForThread",{frontendContextUUID:i,searchTerm:d,entryUUID:r}):m("collectionCreateOrEdit",{frontendContextUUID:i,existingCollection:u,searchTerm:d})},leadingComponent:(0,n.jsx)("div",{className:"mr-xs flex size-[18px] items-center justify-center",children:(0,n.jsx)(l.G,{icon:P.faPlus})}),extraCSS:"py-sm h-auto"}),s.map(e=>(0,n.jsx)(V,{testId:"modal-collection-preview",collection:e,selected:(null==u?void 0:u.uuid)===e.uuid,selectCollection:()=>{var t,n,s;v({entryUUID:r,frontendContextUUID:null!=i?i:null,newCollectionUUID:e.uuid,newCollectionTitle:(0,c.Y)(e,f),currentCollectionUUID:null!==(t=null==u?void 0:u.uuid)&&void 0!==t?t:null,existingCollectionSlug:null!==(n=null==u?void 0:u.slug)&&void 0!==n?n:null,newCollectionEmoji:null!==(s=e.emoji)&&void 0!==s?s:null,newCollectionSlug:e.slug,newCollectionAccess:e.access,closeModal:h})}},e.uuid))]})})};var E=r(39549),T=r(90396),I=r(41038),W=r(94240),A=r(37354),O=r(69650);let z=i.memo(e=>{let{isOpen:t,closeModal:r}=e,s=(0,o.useTranslations)("main.askInput"),l=(0,o.useTranslations)("shared"),{...a}=(0,T.Z)({clearInputOnSubmit:!0,onSubmit:()=>{r()}}),[c,u]=(0,i.useState)(!1),d=(0,i.useRef)(null),h=(0,i.useCallback)(()=>{var e;(null==d?void 0:null===(e=d.current)||void 0===e?void 0:e.value)&&!c?u(!0):r()},[c,u,r]),{organization:m}=(0,E.a)();(0,i.useEffect)(()=>{if(!t){var e;null===(e=a.onClear)||void 0===e||e.call(a)}},[a,t]);let v=(0,i.useCallback)(e=>{e.stopPropagation()},[]);return(0,n.jsx)(W.a,{childVariant:"hide-chrome",isOpen:t,canOutsideClickClose:!0,onClose:h,delayClose:c,children:(0,n.jsx)(O.M,{children:t&&(0,n.jsxs)("div",{"data-testid":"quick-search-modal",onClick:v,children:[(0,n.jsx)(f.ZP,{variant:"offset",className:"relative w-[90vw] max-w-screen-md rounded-xl p-md",children:(0,n.jsx)(I.Z,{defaultTall:!0,...a,querySource:"modal",showFocuses:!0,showFileUpload:!0,showCopilotToggle:!0,showIncognitoHint:!0,fileUploadTooltip:null!=m?s("dataRetentionTooltip"):"",disablePrivacyWarning:!0,ref:d})}),(0,n.jsxs)(A.Jz,{isOpen:c,children:[(0,n.jsx)(A.zA,{children:s("discardQuestion")}),(0,n.jsxs)(A.Gc,{children:[(0,n.jsx)(x.Z,{extraCSS:"focus-visible:ring-2 focus-visible:ring-super dark:focus-visible:ring-superDark",onClick:()=>{u(!1),requestAnimationFrame(()=>{var e;null===(e=d.current)||void 0===e||e.focusAtEnd()})},variant:"common",size:"small",text:l("cancel")}),(0,n.jsx)(x.Z,{extraCSS:"focus-visible:ring-2 focus-visible:ring-super dark:focus-visible:ring-superDark",onClick:()=>{h()},size:"small",variant:"rejected",text:l("discard")})]})]})]})})})});var R=r(34785);let U=e=>{let{label:t,keys:r}=e;return(0,n.jsxs)(p.Z,{color:"light",className:"flex place-content-between items-center py-md",children:[(0,n.jsx)(p.Z,{as:"dd",variant:"small",color:"light",className:"line-clamp-1 overflow-hidden text-clip",children:t}),(0,n.jsx)(f.ZP,{as:"dl",className:"flex items-center space-x-two",children:r.map(e=>(0,n.jsx)(f.ZP,{className:"flex h-5 min-w-5 items-center justify-center rounded border px-xs font-mono",children:e},e))})]})},F=i.memo(e=>{let{closeModal:t,isOpen:r}=e,{isMacOS:s}=(0,R.useDevice)(),l=(0,o.useTranslations)("keyboardShortcuts"),a=(0,o.useTranslations)("helper"),c=s?"macos":"windows",u=(0,i.useMemo)(()=>[{label:l("newThread"),macos:["âŒ˜","K"],windows:["Ctrl","I"]},{label:l("toggleCopilot",{copilot:"Pro Search"}),macos:["âŒ˜","."],windows:["Ctrl","."]},{label:l("stopGenerating"),macos:["Esc"],windows:["Esc"]},{label:l("toggleIncognito"),macos:["âŒ˜",";"],windows:["Ctrl",";"]},{label:l("showShortcuts"),macos:["âŒ˜","/"],windows:["Ctrl","/"]}],[l]);return(0,n.jsx)(W.a,{childVariant:"hide-chrome",isOpen:r,canOutsideClickClose:!0,onClose:t,children:(0,n.jsxs)(f.ZP,{variant:"offset",className:"relative w-[90vw] max-w-screen-sm rounded-xl p-md",children:[(0,n.jsx)(p.Z,{className:"mb-2",variant:"section-title",as:"h2",children:a("shortcuts")}),(0,n.jsx)(f.ZP,{as:"dl",className:"divide-y",children:u.map(e=>(0,n.jsx)(U,{label:e.label,keys:e[c]},e.label))})]})})});var q=r(77301),H=r(33465),B=r(82087),Q=r(78113);let G=i.memo(e=>{let{pitchMessage:t,origin:r,isOpen:s,closeModal:l}=e,a=(0,H.lG)(),[c,u]=(0,i.useState)(""),{trackEvent:d}=(0,q.WS)(),h=(0,o.useTranslations)("shared"),m=(0,i.useCallback)(()=>{l()},[l]);return(0,i.useEffect)(()=>{s&&d("login modal opened",{origin:r})},[s,r,d]),(0,i.useEffect)(()=>{!a&&r&&u((0,Q.Uz)(window.location.href,"login-source",r))},[a,r]),(0,n.jsxs)(y.Z,{isOpen:s,onClose:m,centerTitle:!!t,actionList:[],title:null==t?void 0:t.title,subtitle:null==t?void 0:t.description,children:[(null==t?void 0:t.title)===void 0&&(0,n.jsx)(p.Z,{variant:"display",color:"super",className:"text-center",children:h("welcome")}),(0,n.jsx)(B.Z,{showInternal:!0,showTitle:(null==t?void 0:t.title)==null,onClose:m,redirectUrl:c})]})});var K=r(51612);let Y=e=>{let{isOpen:t,closeModal:r}=e,i=(0,o.useTranslations)("onboarding");return(0,n.jsx)(y.Z,{isOpen:t,onClose:r,title:i("mobileTitle"),subtitle:i("mobileSubtitle"),children:(0,n.jsx)(K.Z,{})})};var X=r(86252),$=r(21238),J=r(39797),ee=r(31631);let et={"onboarding-pro":"skipButtonText","onboarding-starter-query":"finishButtonText"},er=e=>{var t;let{isOpen:r,closeModal:i}=e,{handleNext:s,currentStep:l}=(0,$.p)(),a=(0,o.useTranslations)("onboarding");return(0,n.jsx)(y.Z,{isOpen:r,onClose:i,actionList:[{text:a(null!==(t=et[l])&&void 0!==t?t:"continueButtonText"),variant:"skipButtonText"===et[l]?void 0:"primary",onClick:s,icon:ee.eF}],variant:"large",children:(0,n.jsx)(J.Z,{inModal:!0})})},en=e=>{let{isOpen:t,closeModal:r}=e;return(0,n.jsx)($.R,{steps:X.M8,experimentVariationsMeta:{"onboarding-type":"modal"},handleFinish:r,children:(0,n.jsx)(er,{isOpen:t,closeModal:r})})};var ei=r(28621);let es=e=>{let{isOpen:t,onClose:r,item:i}=e,{isMobileStyle:s}=(0,b.d)();return(0,n.jsx)(y.Z,{variant:s?"bottom-sheet":"side-sheet",isOpen:t,onClose:r,children:(0,n.jsx)(ei.ShopifyWidget,{item:i,contextUUID:null})})};var el=r(68953),eo=r(39135),ea=r(96910),ec=r(33867);let eu=e=>{let{onSelect:t,isSelected:r,result:i,idx:s}=e,{trackEvent:l}=(0,q.WS)();return(0,n.jsxs)("div",{className:"flex w-full flex-row-reverse gap-sm",children:[(0,n.jsx)("div",{className:"w-full min-w-[0]",children:(0,n.jsx)(ea.Z,{result:i,idx:s,isSelected:r,isExpanded:!0,trackEvent:l})}),t&&(0,n.jsx)("div",{className:"mt-[6px] shrink-0",children:(0,n.jsx)(ec.Z,{checked:r,toggleChecked:(e=>{null==t||t(e)}).bind(null,i.url)})})]})},ed=e=>{var t,r,s;let{webResults:l,isOpen:a,submit:c,onClose:u,entry:d}=e,{isMobileStyle:h}=(0,b.d)(),[m,v]=(0,i.useState)([]),{trackEvent:p}=(0,eo.h)(),x=(0,o.useTranslations)("search.thread"),f=e=>{v(t=>t.includes(e)?t.filter(t=>t!==e):t.concat(e))},g=(0,i.useCallback)(()=>{v([]),u()},[v,u]),j=(0,i.useCallback)(e=>{p("click apply curation",{toDelete:e,entryUUID:d.backend_uuid}),null==c||c(e)},[p,d,c]),k=(0,i.useCallback)(()=>{m.length>0&&j([...m]),g()},[m,g,j]),M=(0,i.useMemo)(()=>m.length>0?[{text:x("removeSources",{sources:m.length}),disabled:0===m.length,onClick:k}]:[],[m.length,x,k]),L=null!==(r=null==d?void 0:d.query_str)&&void 0!==r?r:"";return d&&(0,el.rZ)(d)&&(null===(t=d.article_info)||void 0===t?void 0:t.title)&&(L=d.article_info.title),(0,n.jsx)(y.Z,{actionList:M,title:x("sources",{sources:null!==(s=null==l?void 0:l.length)&&void 0!==s?s:0}),subtitle:L,isOpen:a,variant:h?"bottom-sheet":"side-sheet",onClose:g,children:(0,n.jsx)("div",{className:"flex flex-col gap-md",children:l.map((e,t)=>(0,n.jsx)(eu,{onSelect:d&&c?f:void 0,isSelected:m.includes(e.url),idx:t,result:e},e.url))})})};var eh=r(80407),em=e=>{let{organizationName:t,isOpen:r,closeModal:i,onContinue:s}=e,l=(0,o.useTranslations)("settings.orgPanel"),a=(0,o.useTranslations)("shared");return(0,n.jsx)(y.Z,{title:l("companyDataPrivacyTitle"),isOpen:r,onClose:i,children:(0,n.jsxs)("div",{className:"prose mt-sm flex h-full max-w-screen-md flex-col justify-between px-md font-sans dark:prose-invert",children:[(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsx)(p.Z,{variant:"baseSemi",children:l("dataRetentionWarning")})}),(0,n.jsx)("li",{children:(0,n.jsx)(p.Z,{variant:"baseSemi",children:l("dataRetentionLimit",{provider:t})})})]}),s&&(0,n.jsx)("div",{className:"self-end",children:(0,n.jsx)(x.Z,{onClick:s,text:a("continue"),pill:!0})})]})})},ev=r(47861),ep=r(23005);let ex=i.memo(e=>{let{isOpen:t,pitchMessage:r,closeModal:s,origin:l}=e,{trackEvent:o}=(0,q.WS)(),{organization:a}=(0,E.a)(),c=(0,i.useCallback)(()=>{s()},[s]);return(0,i.useEffect)(()=>{o("pricing modal viewed",{origin:l})},[o,l]),(0,n.jsxs)(y.Z,{title:null==r?void 0:r.title,subtitle:null==r?void 0:r.description,variant:"large",isOpen:t,onClose:c,children:[(null==r?void 0:r.title)===void 0&&(0,n.jsx)("div",{className:"mb-lg flex items-center justify-center p-lg",children:(0,n.jsx)(ep.Z,{variant:"text",isPro:!0})}),(0,n.jsx)("div",{className:"md:px-md",children:(0,n.jsx)(ev.Z,{origin:l,isEnterprise:null!=a,onClickContinue:c})})]})});var ef=r(60881);let eg=(0,s.default)(()=>Promise.all([r.e(6276),r.e(1245)]).then(r.bind(r,81245)).then(e=>e.MapModal),{loadableGenerated:{webpack:()=>[81245]},ssr:!1}),ej=(0,s.default)(()=>r.e(3931).then(r.bind(r,63931)),{loadableGenerated:{webpack:()=>[63931]},ssr:!1}),ek=()=>{let{closeModal:e,pricingModal:t,loginModal:r,currentOpenedModal:i,collectionSelectModal:s,collectionCreateOrEdit:l,collectionCreateForThread:o,companyDataPrivacyModal:a,citationListModal:c,mapModal:u,inputPaymentModal:d,lossAversionModal:h,shoppingWidgetModal:m}=eC();return(0,n.jsxs)(n.Fragment,{children:["loginModal"===i&&r.origin&&(0,n.jsx)(G,{pitchMessage:null==r?void 0:r.pitchMessage,origin:r.origin,isOpen:"loginModal"===i,closeModal:e}),"mobileAppModal"===i&&(0,n.jsx)(Y,{isOpen:"mobileAppModal"===i,closeModal:e}),"quickSearchModal"===i&&(0,n.jsx)(z,{isOpen:"quickSearchModal"===i,closeModal:e}),"pricingModal"===i&&(0,n.jsx)(ex,{isOpen:"pricingModal"===i,pitchMessage:null==t?void 0:t.pitchMessage,closeModal:e,origin:t.origin}),"collectionSelectModal"===i&&(null==s?void 0:s.entryUUID)&&(null==s?void 0:s.userCollections)&&(0,n.jsx)(D,{isOpen:"collectionSelectModal"===i,currentCollection:s.currentCollection,entryUUID:s.entryUUID,userCollections:s.userCollections,searchTerm:s.searchTerm,frontendContextUUID:s.frontendContextUUID,closeModal:e}),"collectionCreateOrEdit"===i&&(0,n.jsx)(N,{isOpen:"collectionCreateOrEdit"===i,existingCollection:null==l?void 0:l.existingCollection,frontendContextUUID:null==l?void 0:l.frontendContextUUID,closeModal:e}),"mapModal"===i&&(0,n.jsx)(ef.SV,{fallback:(0,n.jsx)("p",{children:"An error has occurred"}),children:(0,n.jsx)(eg,{isOpen:"mapModal"===i,closeModal:e,locations:u&&u.locations,header:u.header,entryUUID:u.entryUUID})}),"collectionCreateForThread"===i&&(null==o?void 0:o.entryUUID)&&(0,n.jsx)(N,{isOpen:"collectionCreateForThread"===i,existingCollection:null==l?void 0:l.existingCollection,frontendContextUUID:null==o?void 0:o.frontendContextUUID,closeModal:e,entryUUID:null==o?void 0:o.entryUUID}),"inputPaymentModal"===i&&(0,n.jsx)(ej,{isOpen:"inputPaymentModal"===i,closeModal:e,isUpdating:d.isUpdating}),"companyDataPrivacyModal"===i&&(0,n.jsx)(em,{organizationName:a.organizationName,isOpen:"companyDataPrivacyModal"===i,closeModal:e,onContinue:a.onContinue}),"citationListModal"===i&&c.webResults&&(0,n.jsx)(ed,{isOpen:"citationListModal"===i,onClose:e,entry:c.entry,webResults:c.webResults,submit:c.submit}),"keyboardShortcutHelperModal"===i&&(0,n.jsx)(F,{isOpen:"keyboardShortcutHelperModal"===i,closeModal:e}),"onboardingModal"===i&&(0,n.jsx)(en,{isOpen:"onboardingModal"===i,closeModal:e}),"lossAversionModal"===i&&(0,n.jsx)(eh.Uy,{isOpen:"lossAversionModal"===i,onClose:()=>{var t;e(),null===(t=h.callback)||void 0===t||t.call(h)},origin:h.origin}),"shoppingWidgetModal"===i&&m&&(0,n.jsx)(es,{isOpen:"shoppingWidgetModal"===i,onClose:()=>{e()},item:m.item})]})};var eM=r(88121);let eL={currentOpenedModal:null,prefetchingModal:null,collectionCreateOrEdit:null,collectionCreateForThread:null,loginModal:null,mapModal:null,pricingModal:null,collectionSelectModal:null,quickSearchModal:null,inputPaymentModal:null,companyDataPrivacyModal:null,citationListModal:null,keyboardShortcutHelperModal:null,lossAversionModal:null,shoppingWidgetModal:null,onboardingModal:{userAgent:""},openModal:()=>void 0,closeModal:()=>void 0},eb=(0,i.createContext)(eL),ey=e=>{let{children:t}=e,[r,s]=(0,i.useState)(eL),{trackEvent:l}=(0,q.WS)(),{isMacOS:o}=(0,R.useDevice)(),{checkShouldOpenLossAversion:a,handleOpenLossAversion:c}=(0,eh.GK)(),u=(0,i.useCallback)((e,t)=>{s(r=>({...r,currentOpenedModal:e,[e]:t}))},[]),d={...r,openModal:u,closeModal:()=>{s(e=>({...e,currentOpenedModal:null}))}},h=(0,i.useCallback)(e=>{(o?e.metaKey&&"k"===e.key:e.ctrlKey&&"i"===e.key)?(e.preventDefault(),a()?c({args:{origin:eM.FM.NEW_THREAD_SHORTCUT,callback:()=>{l("quick ask keyboard shortcut",{}),u("quickSearchModal",null)}},openModalOverride:u}):u("quickSearchModal",null)):(o?e.metaKey&&"/"===e.key:e.ctrlKey&&"/"===e.key)&&(e.preventDefault(),u("keyboardShortcutHelperModal",null))},[o,a,c,l,u]);return(0,i.useEffect)(()=>(document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}),[h]),(0,n.jsxs)(eb.Provider,{value:d,children:[t,(0,n.jsx)(ek,{})]})},eC=()=>{let e=(0,i.useContext)(eb);if(!e)throw Error("useModalState must be used within ModalContext");return e}},21238:function(e,t,r){"use strict";r.d(t,{R:function(){return o},p:function(){return a}});var n=r(53854),i=r(20981),s=r(77301);let l=(0,i.createContext)({currentStep:null,currentIndex:0,steps:[],handleNext:()=>null,insertStep:()=>null,insertStepAndNavigate:()=>null,experimentVariationsMeta:{}}),o=e=>{let{steps:t,experimentVariationsMeta:r,handleFinish:o,children:a}=e,[c,u]=(0,i.useState)(0),[d,h]=(0,i.useState)(t),[m,v]=(0,i.useState)(null),[p,x]=(0,i.useState)(r),{trackEventTyped:f}=(0,s.WS)();(0,i.useEffect)(()=>{h(t)},[t]),(0,i.useEffect)(()=>{x(r)},[r]),(0,i.useEffect)(()=>{f("step visited",{step:d[c],experimentVariationsMeta:p})},[c,p,d,f]),(0,i.useEffect)(()=>{null!==m&&(u(m),v(null),f("step transition",{sourceStep:d[c],destinationStep:d[m],isFinish:!1,experimentVariationsMeta:p}))},[c,p,m,d,f]);let g=(e,t)=>{let r=[...d];r.splice(t,0,e),h(r)},j=(0,i.useMemo)(()=>d[c],[c,d]);return(0,n.jsx)(l.Provider,{value:{currentStep:j,insertStep:g,insertStepAndNavigate:(e,t)=>{g(e,t),v(t)},handleNext:()=>{d.length&&(c===d.length-1?(null==o||o(),f("step transition",{sourceStep:d[c],isFinish:!0,experimentVariationsMeta:p})):(u(c+1),f("step transition",{sourceStep:d[c],destinationStep:d[c+1],isFinish:!1,experimentVariationsMeta:p})))},currentIndex:c,steps:d,experimentVariationsMeta:p},children:a})},a=()=>{let e=(0,i.useContext)(l);if(!e)throw Error("useMultiStep must be used within MultiStepContext");return e}},605:function(e,t,r){"use strict";r.d(t,{e:function(){return S},n:function(){return N}});var n=r(53854),i=r(74135),s=r(21062),l=r(20981),o=r(97825),a=r(77342),c=r(16616),u=r(77301),d=r(57834),h=r(43649),m=r(33465),v=r(93895),p=r(51577),x=r(86096),f=r(72107),g=r(15117),j=r(37771),k=r(20550),M=r(54194),L=r(11128),b=r(78113),y=r(6503),C=r(53085);let Z=(0,l.createContext)({submitQuery:()=>void 0,handleBotStep:()=>void 0,deleteLastResult:()=>void 0,shouldShowProductFeedback:!1}),w=(e,t,r,n)=>e&&!t?void 0:r?r.backend_uuid:null==n?void 0:n.backend_uuid,N=e=>{var t,r;let{children:N,shouldFetchSettings:S}=e,_=(0,i.useQueryClient)(),V=(0,p.nO)(),P=(0,o.useRouter)(),D=(0,o.useSearchParams)(),{trackEvent:E}=(0,u.WS)(),{data:T}=(0,s.useSession)(),[I,W]=(0,C.Xs)("pplx-active-query",{frontendContextUUID:null,rawQuery:null,collectionId:null}),{focus:A,isCopilot:O,setIsCopilot:z,setFocus:R,setGPT4Limit:U,setOpusLimit:F}=(0,f.h)(),{firstResult:q,lastResult:H,threadMetadata:B}=(0,x.a0)(),{hasAiProfile:Q,defaultModel:G,queryCountMobile:K}=(0,h.v)(S),[Y,X]=(0,l.useState)(!1),{updateSettings:$}=(0,d.B)(),J=null==H?void 0:H.backend_uuid,ee=(0,m.lG)(),{addKeyRequiringRerender:et}=(0,k.DQ)(),{isIncognito:er}=(0,M.useLocalUserSettings)(),[en,ei]=(0,l.useState)(0),{colorScheme:es}=(0,L.t)(),el=(0,l.useCallback)(e=>{if(!e||(null==e?void 0:e.status)!=="pending")return;let t=null==e?void 0:e.text;if(null!=V&&null!=t){let e=-1===t.indexOf('"answer": "",'),r=-1===t.indexOf('"web_results": [],');u.zW.handleStreamProgress(V,T,e,r)}let r=null==e?void 0:e.uuid,n=null==e?void 0:e.frontend_context_uuid;r||n||y.Tb("[handleProgressResponse]: no uuid and no frontend_context_uuid in response=".concat(e)),_.setQueryData(["results"],t=>t[n]?{...t,[n]:t[n].map(t=>(null==t?void 0:t.uuid)===(null==e?void 0:e.uuid)?{...t,...e}:t)}:{})},[_,V,T]),eo=(0,l.useCallback)(e=>{if(!e||(null==e?void 0:e.status)!=="pending")return;let t=null==e?void 0:e.uuid,r=null==e?void 0:e.frontend_context_uuid;t||r||y.Tb("[handleMediaProgress]: no uuid and no frontend_context_uuid in response=".concat(e)),_.setQueryData(["results"],t=>t?{...t,[r]:t[r].map(t=>(null==t?void 0:t.uuid)===(null==e?void 0:e.uuid)?{...t,widget_data:null==e?void 0:e.widget_data}:t)}:{})},[_]);(0,l.useEffect)(()=>(null==V||V.on("query_progress",el),()=>{null==V||V.off("query_progress",el)}),[V]),(0,l.useEffect)(()=>(null==V||V.on("query_widget_progress",eo),()=>{null==V||V.off("query_widget_progress",eo)}),[V]);let ea=null!==(r=B.focus)&&void 0!==r?r:A,ec=(0,l.useCallback)(e=>{var t;V&&u.zW.endStreamResponse();let r=e.frontend_context_uuid;if(null==e?void 0:e.backend_uuid){let t=e.backend_uuid;(0,v.yx)(void 0,e.backend_uuid,e.query_str||"").then(e=>{X(e),e&&E("query feedback shown",{entry_uuid:t})})}if(!r)throw Error("No frontend_context_uuid found in response");_.setQueryData(["results"],t=>{if(!t){y.Tb("[handleFinalResponse]: no oldResults found for frontend_context_uuid=".concat(r));return}let n=t[r].map(e=>null==e?void 0:e.backend_uuid).includes(null==e?void 0:e.backend_uuid),i=t[r].map(e=>null==e?void 0:e.uuid).includes(null==e?void 0:e.uuid),s=t[r].map(t=>{if((null==t?void 0:t.uuid)!==(null==e?void 0:e.uuid)&&(null==t?void 0:t.backend_uuid)!==(null==e?void 0:e.backend_uuid))return t;{let r=(null==t?void 0:t.author_image)||(null==e?void 0:e.author_image),n=(null==t?void 0:t.author_username)||(null==e?void 0:e.author_username);return{...t,...e,author_username:n,author_image:r}}});if(n||i)return{...t,[r]:s}}),ee||1!==en||((0,a.rZ)(),et("floating-signup")),ee||(en+1)%3!=0||et("visitor-gate"),ee&&(null==T?void 0:null===(t=T.user)||void 0===t?void 0:t.id)&&0===K&&9===en&&et("floating-mobile-download"),ei(en+1),e&&(null==e?void 0:e.status)!=="failed"?V&&u.zW.successfulResponse(e,V,T):V&&u.zW.failedResponse(e,V,T)},[V,_,ee,en,T,K,E,et]),eu=(0,l.useCallback)(async e=>{var t,r,n,i,s,l,o;let{rawQuery:a,fork:c,inPageOverride:d,focusOverride:h,copilotOverride:m,existingEntryUUID:v,existingUuid:p,deletedUrls:x,redoSearch:f,attachments:k,collection:M,modelPreference:L,isRelatedQuery:C,inDomain:Z,inPage:N,submitCallback:S,newFrontendContextUUID:P,existingFrontendContextUUID:I,promptSource:A,querySource:K,submitFromArticleOverride:Y,timeFromFirstType:X}=e,J=a.trim();if(0===J.length){console.error("Submit failed: empty query");return}W({frontendContextUUID:P,rawQuery:J,collectionId:null!==(s=null==M?void 0:M.uuid)&&void 0!==s?s:null});let ee=!!P,en=(0,b.Mp)(),ei=null!==(l=ee&&!c?void 0:null==H?void 0:H.attachments)&&void 0!==l?l:[],el=[...new Set([...null!=k?k:[],...ei].slice(0,4))].filter(e=>!(null==x?void 0:x.includes(e))),eo=null!=m?m:O,eu=eo?"copilot":"concise",ed=eo?JSON.stringify([{step_type:"INITIAL_QUERY",content:{query:""},uuid:""}]):el.length>0?JSON.stringify({web_results:el.map(e=>({url:e,is_attachment:!0}))}):null,eh=Y||q,em={...b.QI,parent_info:c?eh:void 0,query_str:J,backend_uuid:ee?void 0:v,uuid:null!=p?p:en,author_username:er?null:null==T?void 0:T.user.username,author_image:er?null:null==T?void 0:T.user.image,search_focus:null!=h?h:ea,display_model:null!=L?L:G,personalized:Q,attachments:el,social_info:{like_count:0,view_count:0,fork_count:0,user_likes:!1},mode:eu,text:ed,collection_info:M,is_related_query_result:null!=C&&C,frontend_context_uuid:P};P?_.setQueryData(["results"],e=>({...e,[P]:[em]})):_.setQueryData(["results"],e=>{if(!e||!I){let t="[submitQuery] Attempt to add new result to existing thread failed. Thread could not be found frontend_context_uuid=".concat(P,"}]");return y.Tb(t),e}let t=e[I];return v?{...e,[I]:t.map(e=>(null==e?void 0:e.backend_uuid)===v?em:e)}:{...e,[I]:t.concat({...em,frontend_context_uuid:I})}});let ev=w(ee,c,Y,H),ep=(0,g.mm)(),ex={last_backend_uuid:ev,read_write_token:ee?void 0:B.rwToken,existing_entry_uuid:ee?void 0:v,deleted_urls:x,attachments:el,language:(0,j.qm)(),timezone:null===(n=Intl)||void 0===n?void 0:null===(r=n.DateTimeFormat())||void 0===r?void 0:null===(t=r.resolvedOptions())||void 0===t?void 0:t.timeZone,in_page:null!=d?d:N,in_domain:Z,search_focus:null!=h?h:ea,frontend_uuid:null!=p?p:en,redo_search:f,mode:eu,target_collection_uuid:null==M?void 0:M.uuid,model_preference:L,is_related_query:null!=C&&C,visitor_id:ep,user_nextauth_id:null==T?void 0:null===(i=T.user)||void 0===i?void 0:i.id,frontend_context_uuid:P,prompt_source:A,query_source:K,is_incognito:er,time_from_first_type:X},ef=!!(null==ex?void 0:ex.last_backend_uuid);V&&u.zW.submitQuery({name:"perplexity_ask",queryStr:a,queryParams:ex,isFollowup:ef,frontendUUID:null==ex?void 0:ex.frontend_uuid,socket:V,session:T});let eg=await (null==V?void 0:V.emitWithAck("perplexity_ask",a,ex));if(eg){if(R(null!==(o=eg.search_focus)&&void 0!==o?o:ea),ec(eg),null==S||S(eg),(null==eg?void 0:eg.thread_url_slug)&&!ef){let e=null==eg?void 0:eg.thread_url_slug,t=null==D?void 0:D.get("utm_campaign"),r=null==D?void 0:D.get("utm_source"),n=new URLSearchParams({...t?{utm_campaign:t}:{},...r?{utm_source:r}:{}}),i=new URL(window.location.href);i.pathname="/search/".concat(e),i.search=n.toString();let s=i.toString();E("pageview",{internalReferrer:"/",colorScheme:es}),et("floating-signup"),_.setQueryData(["slug-to-frontendContextUUID"],t=>({...t,[e]:P})),window.history.pushState(null,"",s),W({frontendContextUUID:null,rawQuery:null,collectionId:null})}if(V&&T){V.emit("get_rate_limit",{},e=>{var t;let r=null!==(t=e.remaining)&&void 0!==t?t:0;U(r),r<=0&&(z(!1),$({default_copilot:!1}))}),V.emit("get_opus_rate_limit",{},e=>{var t;F(null!==(t=e.remaining)&&void 0!==t?t:0)});return}}},[W,H,O,q,er,T,ea,G,Q,B.rwToken,V,_,R,ec,D,E,es,et,U,z,$,F]),ed=(0,l.useCallback)((e,t)=>{var r,n;let i=null==H?void 0:H.backend_uuid,s={...e,text:JSON.stringify([...(0,c.c)(null!==(n=null==e?void 0:e.text)&&void 0!==n?n:""),t])};_.setQueryData(["results"],t=>{if(!t)return{};let r=e.frontend_context_uuid;return r?{...t,[r]:t[r].map(t=>(null==t?void 0:t.uuid)===(null==e?void 0:e.uuid)?{...t,...s}:t)}:{}});let l=(0,g.mm)();V.on("query_progress",el),V.emit("perplexity_step",e.query_str,{existing_entry_uuid:e.backend_uuid,last_backend_uuid:i,read_write_token:e.read_write_token,frontend_uuid:e.uuid,search_focus:e.search_focus,attachments:null==e?void 0:e.attachments,step_payload:t,frontend_context_uuid:e.frontend_context_uuid,visitor_id:l,user_nextauth_id:null==T?void 0:null===(r=T.user)||void 0===r?void 0:r.id},e=>{ec(e)})},[ec,el,null==H?void 0:H.backend_uuid,_,null==T?void 0:null===(t=T.user)||void 0===t?void 0:t.id,V]),eh=(0,l.useCallback)(e=>{let{frontendContextUUID:t}=e;E("delete last result",{entryUUID:J}),V.emit("delete_ask_entry",null==H?void 0:H.backend_uuid,{read_write_token:B.rwToken},()=>{_.setQueryData(["results"],e=>{var r;if(!e)return;let n={...e},i=null!==(r=n[t])&&void 0!==r?r:[];if(i.length<1){P.push("/");return}return{...n,[t]:i.slice(0,-1)}})})},[E,J,_,V,null==H?void 0:H.backend_uuid,B.rwToken,P]);return(0,n.jsx)(Z.Provider,{value:{submitQuery:eu,handleBotStep:ed,deleteLastResult:eh,shouldShowProductFeedback:Y},children:N})},S=()=>{let e=(0,l.useContext)(Z);if(!e)throw Error("usePerplexityQueryState must be used within PerplexityQueryStateContext");return e}},72107:function(e,t,r){"use strict";r.d(t,{h:function(){return u},z:function(){return c}});var n=r(53854),i=r(20981),s=r(43649),l=r(33465);let o={isCopilot:!1,focus:"internet",gpt4Limit:0,opusLimit:0,uploadRateLimit:0,createLimit:0,setFocus:()=>{},setIsCopilot:()=>{},decrementCreateLimit:()=>{},setGPT4Limit:()=>{},setOpusLimit:()=>{}},a=(0,i.createContext)(o),c=e=>{var t,r,c;let{children:u,shouldFetchSettings:d}=e,h=(0,s.v)(d),[m,v]=(0,i.useState)({...o,gpt4Limit:null!==(t=h.gpt4Limit)&&void 0!==t?t:0,opusLimit:null!==(r=h.opusLimit)&&void 0!==r?r:0,isCopilot:null!==(c=h.defaultCopilot)&&void 0!==c&&c}),p=(0,l.lG)(),x=(0,i.useCallback)(e=>{v(t=>({...t,focus:e}))},[]),f=(0,i.useCallback)(e=>{v(t=>({...t,isCopilot:e}))},[]);(0,i.useEffect)(()=>{null!==h.createLimit&&v(e=>({...e,createLimit:h.createLimit}))},[h.createLimit]),(0,i.useEffect)(()=>{h.defaultCopilot&&f(h.defaultCopilot)},[h.defaultCopilot]),(0,i.useEffect)(()=>{null!==h.uploadLimit&&v(e=>({...e,uploadRateLimit:h.uploadLimit}))},[h.uploadLimit]),(0,i.useEffect)(()=>{null!==h.gpt4Limit&&v(e=>({...e,gpt4Limit:h.gpt4Limit}))},[h.gpt4Limit]),(0,i.useEffect)(()=>{null!==h.opusLimit&&v(e=>({...e,opusLimit:h.opusLimit}))},[h.opusLimit]);let g=(0,i.useMemo)(()=>p&&m.isCopilot&&null!=h.gpt4Limit&&h.gpt4Limit>0,[m.isCopilot,p,h.gpt4Limit]),j=(0,i.useCallback)(e=>{p&&null!=h.gpt4Limit&&h.gpt4Limit>0&&f(e)},[p,h.gpt4Limit,f]),k=(0,i.useCallback)(()=>{v(e=>({...e,createLimit:Math.max(e.createLimit-1,0)}))},[]),M=(0,i.useCallback)(()=>{v(e=>({...e,uploadRateLimit:Math.max(e.uploadRateLimit-1,0)}))},[]),L=(0,i.useCallback)(e=>{v(t=>({...t,gpt4Limit:e}))},[]),b=(0,i.useCallback)(e=>{v(t=>({...t,opusLimit:e}))},[]),y={...m,isCopilot:g,setFocus:x,setIsCopilot:j,decrementCreateLimit:k,setUploadRateLimit:M,setGPT4Limit:L,setOpusLimit:b};return(0,n.jsx)(a.Provider,{value:y,children:u})},u=()=>{let e=(0,i.useContext)(a);if(!e)throw Error("useThreadSettings must be used within ThreadSettingsContext");return e}},32499:function(e,t,r){"use strict";r.d(t,{O:function(){return o},p:function(){return a}});var n=r(53854),i=r(20981);let s={searchTerm:"",updateUserInput:e=>void 0},l=(0,i.createContext)(s),o=e=>{let{children:t}=e,[r,o]=(0,i.useState)(s),a=e=>{o(t=>({...t,...e}))},c=(0,i.useMemo)(()=>({...r,updateUserInput:a}),[r.searchTerm]);return(0,n.jsx)(l.Provider,{value:c,children:t})},a=()=>{let e=(0,i.useContext)(l);if(!e)throw Error("useUserInput must be used within UserInputProvider");return e}},6948:function(e,t,r){"use strict";r.d(t,{F:function(){return n}});let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.reduce((e,r,n)=>{let i=Math.floor(n/t);return e[i]||(e[i]=[]),e[i].push(r),e},[])}},42439:function(e,t,r){"use strict";r.d(t,{Du:function(){return l},Qs:function(){return s}});var n=r(6503);let i=(e,t)=>{try{let t=new URL("https://www.perplexity.ai");return t=new URL(window.location.href),new URL(e,t).hostname===t.hostname}catch(e){return console.log(e),n.Tb(e),!1}},s=e=>{let{redirect:t,hostname:r}=e,n="string"==typeof t?t:null==t?void 0:t[0];return n&&"string"==typeof n&&i(n,r)?n:"/"},l=e=>{let{redirect:t,hostname:r}=e,n=s({redirect:t,hostname:r});return o(n)?encodeURIComponent(n):n},o=e=>!!e&&/[^A-Za-z0-9\-._~]/.test(e)},89890:function(e,t,r){"use strict";r.d(t,{Y:function(){return i}});var n=r(34838);function i(e,t){return(0,n.Nl)(e.user_permission)&&"Bookmarks"===e.title?t("bookmarks"):e.title}},1755:function(e,t,r){"use strict";var n=r(27530);r.o(n,"debounce")&&r.d(t,{debounce:function(){return n.debounce}})},48210:function(e,t,r){"use strict";r.r(t),r.d(t,{Item:function(){return a},Root:function(){return o}});var n=r(53854),i=r(20981),s=r(92508);let l=e=>{let{children:t}=e;return(0,n.jsx)(n.Fragment,{children:t})},o=e=>{let{children:t,className:r,delimiter:o="\xb7",...a}=e,c=i.Children.toArray(t),u=c.map((e,t)=>{if(i.isValidElement(e)&&e.type===l){let r=e.props.id;return(0,n.jsxs)(i.Fragment,{children:[e,t!==c.length-1&&(0,n.jsxs)(s.Z,{className:"inline-flex !text-inherit",children:[" ",o," "]})]},r)}});return(0,n.jsx)("div",{className:"gap-sm flex items-center ".concat(r),...a,children:u})},a=l},59539:function(e,t,r){"use strict";r.r(t),r.d(t,{Stepper:function(){return p}});var n=r(53854),i=r(20981),s=r(22571),l=r(9618),o=r(4507),a=r(92508),c=r(70154),u=r(69650),d=r(92225),h=r(96893),m=r(37462),v=r.n(m);let p=e=>{let{value:t,onIncrement:r,onDecrement:m}=e,[p,x]=(0,i.useState)(0);return(0,n.jsxs)(s.ZP,{className:"grid h-8 grid-cols-3 items-center overflow-hidden rounded-md border p-[2px]",children:[(0,n.jsx)(l.Z,{icon:o.Kl,size:"tiny",extraCSS:v()("aspect-square h-full rounded-[4px]",{"opacity-30 pointer-events-none":1===t}),onClick:()=>{x(-1),m(Math.max(0,t-1))}}),(0,n.jsx)(u.M,{mode:"popLayout",custom:p,initial:!1,children:(0,n.jsx)(d.E.div,{custom:p,variants:{enter:e=>({y:e>0?14:-14,opacity:0}),animate:{y:0,opacity:1},exit:e=>({y:e<0?14:-14,opacity:0})},initial:"enter",animate:"animate",exit:"exit",transition:{y:{type:"spring",bounce:.2,duration:.28},opacity:{ease:h.Vv,duration:.1}},children:(0,n.jsx)(a.Z,{className:"pointer-events-none text-center",variant:"smallBold",color:"light",children:t})},t)}),(0,n.jsx)(l.Z,{icon:c.faPlus,size:"tiny",extraCSS:"rounded-[4px] aspect-square h-full",onClick:()=>{x(1),r(t+1)}})]})}},17126:function(e,t,r){"use strict";r.r(t),r.d(t,{Item:function(){return d},Root:function(){return u}});var n=r(53854),i=r(92225),s=r(69650),l=r(20981),o=r(42946),a=r(97455);let c=(0,l.forwardRef)((e,t)=>{let{children:r,initial:s={opacity:0},animate:l={opacity:1},exit:o,transition:a,className:c}=e;return(0,n.jsx)(i.E.div,{initial:s,animate:l,exit:null!=o?o:s,transition:a,ref:t,className:c,children:r})}),u=e=>{let{children:t,initial:r=!1,mode:l="wait",className:c,transition:u}=e,[d,{height:h}]=(0,o.Z)(),m=(0,a.f)();return(0,n.jsx)(i.E.div,{animate:{height:m?h:"auto"},className:c,transition:u,children:(0,n.jsx)("div",{ref:d,children:(0,n.jsx)(s.M,{mode:l,initial:r,children:t})})})},d=c},2279:function(e,t,r){"use strict";var n=r(53854),i=r(5729),s=r(28466),l=r(64980),o=r(37462),a=r.n(o),c=r(90063),u=r(53118),d=r(20981),h=r(69192),m=r(45659),v=r(22571),p=r(92508),x=r(48210),f=r(99484);let g=d.memo(e=>{let{src:t,alt:r,fadeIn:o,fallbackSrc:g,fallback:j,useNextImage:k=!0,hasShadow:M=!1,includeLightBoxModal:L=!0,origin:b,imageClassName:y,maskClassName:C,containerClassName:Z,rounded:w="md",onClick:N,AIProps:S,authorName:_,authorUrl:V,onLoad:P,softBlockSaveImage:D=!1,...E}=e,[T,I]=(0,d.useState)(!1),[W,A]=(0,d.useState)(!1),[O,z]=(0,d.useState)(!1),R=(0,d.useRef)(),{isAI:U,AILabel:F}=S||{isAI:!1,AILabel:""},q=(0,d.useCallback)(()=>{I(!0)},[]),H=(0,d.useCallback)(()=>{A(!0),null==P||P()},[A,P]);if((0,d.useEffect)(()=>{if(!k&&R.current){if(R.current.complete){H();return}R.current.src||(R.current.src=t)}},[t,k,H,R]),T){if(g&&R.current)R.current.src=g;else if(void 0!==j)return j}let B={className:a()(y,"transition-all ease-in-out",{"opacity-100 duration-200 scale-100":W&&o,"opacity-0 scale-[0.98]":!W&&o,"hidden opacity-0":T&&!g,"max-h-[90vh]":L,"cursor-zoom-in hover:shadow-lg duration-200 ":L&&!O}),src:t,alt:r,onError:q,onClick:()=>z(!0)},Q={src:t,onLoadingComplete:H,...B,...E},G={ref:R,onLoad:H,...B},K={src:t,...B},Y=V?u.default:"div";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:N,className:Z,children:(0,n.jsxs)("div",{className:a()("bg-offset dark:bg-offsetDark group relative h-full w-full overflow-hidden",C,{"shadow-md":M&&W,"transition-all duration-200 ease-in-out hover:scale-[1.02] hover:shadow-lg":M,"rounded-sm":"sm"===w,"rounded-md":"md"===w}),children:[U&&(0,n.jsxs)("div",{className:"bottom-xs right-xs absolute z-10 flex items-center justify-center",children:[(0,n.jsx)("div",{children:(0,n.jsx)(p.Z,{variant:"tiny",color:"white",className:"gap-x-two py-two px-xs flex h-5 items-center rounded-md bg-black/60 opacity-0 transition-all group-hover:opacity-100",children:(0,n.jsx)("span",{className:"",children:F})})}),(0,n.jsx)("div",{className:"w-xs h-xs bg-black/60 opacity-0 transition-all group-hover:opacity-100"}),(0,n.jsx)("div",{children:(0,n.jsx)(p.Z,{variant:"tiny",color:"white",className:"gap-x-two p-two flex h-5 items-center rounded-md bg-black/60",children:(0,n.jsx)(l.G,{fixedWidth:!0,icon:s.N6})})})]}),_&&(0,n.jsxs)(Y,{href:null!=V?V:"",target:"_blank",onClick:e=>{e.stopPropagation()},className:"bottom-xs right-xs absolute z-10 flex items-center justify-center",children:[(0,n.jsx)(p.Z,{variant:"tiny",color:"white",className:"py-two px-xs h-5 rounded-md bg-black/60 opacity-0 transition-all group-hover:opacity-100",children:(0,n.jsxs)(x.Root,{className:"gap-xs",children:[(0,n.jsx)(x.Item,{id:"authorName",children:_}),V&&(0,f.k5)(V)&&(0,n.jsx)(x.Item,{id:"unsplash",children:"Unsplash"})]})}),(0,n.jsx)("div",{className:"w-xs h-xs bg-black/60 opacity-0 transition-all group-hover:opacity-100"})]}),D&&!U&&(0,n.jsx)("div",{className:"absolute inset-0"}),k?(0,n.jsx)(c.default,{...Q}):(0,n.jsx)("img",{width:E.width,height:E.height,alt:r,...G})]})}),L&&(0,n.jsx)(h.Z,{onClose:()=>z(!1),isOpen:O,variant:"hide-chrome",disableAnimation:!1,children:(0,n.jsxs)("div",{className:"p-md md:p-xl gap-xs flex h-full flex-col items-center justify-between",onClick:()=>z(!1),children:[(0,n.jsx)("div",{className:"grow",children:k?(0,n.jsx)(c.default,{...Q}):(0,n.jsx)("img",{className:"w-full object-contain",width:E.width,height:E.height,alt:r,...K})}),(null==b?void 0:b.url)&&(0,n.jsx)(u.default,{href:b.url,target:"_blank",children:(0,n.jsxs)(v.ZP,{variant:"offsetPlus",className:"p-sm gap-x-sm bg-offset/50 dark:bg-offsetDark/80 flex items-center rounded-full",children:[(0,n.jsx)(m.P,{url:t,text:b.name,isAttachment:!1}),(0,n.jsx)(p.Z,{variant:"small",className:"pr-xs",children:(0,n.jsx)(l.G,{icon:i.nU})})]})})]})})]})});t.Z=g},64373:function(e,t,r){"use strict";r.r(t),r.d(t,{Item:function(){return k},Root:function(){return j}});var n=r(53854),i=r(37462),s=r.n(i),l=r(20981),o=r(36792),a=r(3412),c=r(59655),u=r(2355);let d=l.createContext(null);function h(){let e=l.useContext(d);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let m=l.forwardRef((e,t)=>{let{orientation:r="horizontal",opts:i,setApi:o,plugins:a,className:u,children:h,...m}=e,[v,p]=(0,c.Z)({...i,axis:"horizontal"===r?"x":"y"},a),[x,f]=l.useState(!1),[g,j]=l.useState(!1),k=l.useCallback(e=>{e&&(f(e.canScrollPrev()),j(e.canScrollNext()))},[]),M=l.useCallback(()=>{null==p||p.scrollPrev()},[p]),L=l.useCallback(()=>{null==p||p.scrollNext()},[p]),b=l.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),M()):"ArrowRight"===e.key&&(e.preventDefault(),L())},[M,L]);return l.useEffect(()=>{p&&o&&o(p)},[p,o]),l.useEffect(()=>{if(p)return k(p),p.on("reInit",k),p.on("select",k),()=>{null==p||p.off("select",k)}},[p,k]),(0,n.jsx)(d.Provider,{value:{carouselRef:v,api:p,opts:i,orientation:r||((null==i?void 0:i.axis)==="y"?"vertical":"horizontal"),scrollPrev:M,scrollNext:L,canScrollPrev:x,canScrollNext:g},children:(0,n.jsx)("div",{ref:t,onKeyDownCapture:b,className:s()("relative",u),role:"region","aria-roledescription":"carousel",...m,children:h})})});m.displayName="Carousel";let v=l.forwardRef((e,t)=>{let{className:r,...i}=e,{carouselRef:l,orientation:o}=h();return(0,n.jsx)("div",{ref:l,children:(0,n.jsx)("div",{ref:t,className:s()("flex","horizontal"===o?"-ml-4":"-mt-4 flex-col",r),...i})})});v.displayName="CarouselContent";let p=e=>{let{selectedIndex:t,total:r}=e;return(0,n.jsx)("div",{className:"gap-xs flex",children:Array.from({length:r}).map((e,r)=>(0,n.jsx)("div",{className:s()("bg-textOff duration-250 dark:bg-textOffDark h-[4px] w-[4px] rounded-full opacity-20",{"!opacity-100":t===r})},r))})},x=l.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:s()("min-w-0 shrink-0 grow-0 basis-full",r),...i})});x.displayName="CarouselItem";let f=e=>{let{...t}=e,{scrollPrev:r,canScrollPrev:i}=h();return(0,n.jsx)(u.Z,{disabled:!i,onClick:r,pill:!0,icon:o.ac,...t})};f.displayName="CarouselPrevious";let g=e=>{let{...t}=e,{scrollNext:r,canScrollNext:i}=h();return(0,n.jsx)(u.Z,{pill:!0,disabled:!i,onClick:r,icon:a.eF,...t})};g.displayName="CarouselNext";let j=e=>{let{children:t,fadeOut:r,clipChildren:i,paginationStyle:o="below",className:a,contentClassName:c,wrapperClassName:u,fadeOutClassName:d,prevClassName:h,nextClassName:j,paginationButtonProps:k}=e,[M,L]=(0,l.useState)(),[b,y]=(0,l.useState)(0),[C,Z]=(0,l.useState)(0),w=l.Children.toArray(t),N=(0,l.useMemo)(()=>l.Children.map(w,e=>{if(l.isValidElement(e))return(0,n.jsx)(x,{className:s()("pl-md shrink-0 grow-0 !basis-[90%]",a),children:e},e.props.id)}),[w,a]);return l.useEffect(()=>{M&&(Z(M.scrollSnapList().length),M.on("select",()=>{y(M.selectedScrollSnap())}))},[M,y,Z]),(0,n.jsxs)(m,{opts:{duration:20},setApi:L,className:u,children:[(0,n.jsxs)("div",{className:s()("relative"),children:[(0,n.jsx)("div",{className:i||r?"overflow-hidden":"",children:(0,n.jsx)(v,{className:c,children:N})}),r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:s()("w-lg bg-background pointer-events-none absolute bottom-0 right-0 top-0 opacity-0 duration-300",{"!opacity-100":b<w.length-1},d),style:{maskImage:"linear-gradient(to left, black, transparent)"}}),(0,n.jsx)("div",{className:s()("w-lg bg-background pointer-events-none absolute bottom-0 left-0 top-0 opacity-0 duration-300",{"!opacity-100":b>0},d),style:{maskImage:"linear-gradient(to right, black, transparent)"}})]}),"overlay"===o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:s()("-left-sm pointer-events-none absolute top-[50%] -translate-y-[50%] opacity-0 duration-150",{"!pointer-events-auto !opacity-100":b>0},h),children:(0,n.jsx)(f,{extraCSS:"shadow-sm",...k})}),(0,n.jsx)("div",{className:s()("-right-sm pointer-events-none absolute top-[50%] -translate-y-[50%] opacity-0 duration-150",{"!pointer-events-auto !opacity-100":b<w.length-1},j),children:(0,n.jsx)(g,{extraCSS:"shadow-sm",...k})})]})]}),"below"===o&&(0,n.jsxs)("div",{className:"mt-md flex items-center justify-between",children:[(0,n.jsx)(f,{}),(0,n.jsx)(p,{selectedIndex:b,total:C}),(0,n.jsx)(g,{})]})]})},k=e=>{let{children:t}=e;return(0,n.jsx)(n.Fragment,{children:t})}},33867:function(e,t,r){"use strict";var n=r(53854),i=r(49288),s=r(64980),l=r(90905),o=r(37462),a=r.n(o),c=r(69650),u=r(92225),d=r(20981),h=r(22571);let m=d.memo(e=>{let{checked:t,toggleChecked:r,className:o="",...d}=e;return(0,n.jsx)(l.fC,{className:"justity-center inline-flex h-[24px] w-[24px] cursor-pointer items-center duration-150 md:hover:opacity-50 ".concat(o),checked:t,onCheckedChange:r,...d,children:(0,n.jsx)(h.ZP,{variant:t?"super":"background",className:a()("border-textOff/50 dark:border-textOffDark/50 inline-flex h-full w-full items-center justify-center rounded border md:h-[18px] md:w-[18px]",{"bg-super !border-super dark:!border-superDark":t}),children:(0,n.jsx)(l.z$,{children:(0,n.jsx)(c.M,{children:t&&(0,n.jsx)(u.E.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{type:"spring",bounce:.2,duration:.2},children:(0,n.jsx)(s.G,{icon:i.LE,className:"text-background text-[12px]"})})})})})})});t.Z=m},9150:function(e,t,r){"use strict";r.d(t,{r:function(){return h}});var n=r(53854),i=r(27206),s=r(64980),l=r(37462),o=r.n(l),a=r(20981),c=r(22571),u=r(92508);let d=0,h=a.memo(e=>{let{onDrop:t,children:r,...l}=e,{isDraggingFile:h,isFileOver:m,rootProps:v}=function(e){let[t,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),s=(0,a.useCallback)(e=>{e.preventDefault()},[]),l=(0,a.useCallback)(e=>{var t;(null==e?void 0:null===(t=e.dataTransfer)||void 0===t?void 0:t.types.includes("Files"))&&(e.preventDefault(),r(!0),d++)},[]),o=(0,a.useCallback)(e=>{e.preventDefault(),0===(d=Math.max(0,d-1))&&r(!1)},[]),c=(0,a.useCallback)(e=>{e.preventDefault(),r(!1),i(!1),d=0},[]),u=(0,a.useCallback)(e=>{var t;(null==e?void 0:null===(t=e.dataTransfer)||void 0===t?void 0:t.types.includes("Files"))&&(e.preventDefault(),i(!0))},[]),h=(0,a.useCallback)(e=>{e.preventDefault(),i(!1)},[]),m=(0,a.useCallback)(t=>{var r;t.preventDefault(),i(!1),(null==t?void 0:null===(r=t.dataTransfer)||void 0===r?void 0:r.files)&&e(t.dataTransfer.files)},[e]);return(0,a.useEffect)(()=>(document.addEventListener("dragover",s),document.addEventListener("dragenter",l),document.addEventListener("dragleave",o),document.addEventListener("drop",c),()=>{document.removeEventListener("dragover",s),document.removeEventListener("dragenter",l),document.removeEventListener("dragleave",o),document.removeEventListener("drop",c)}),[]),{isDraggingFile:t,isFileOver:n,rootProps:{onDragOver:u,onDragLeave:h,onDrop:m}}}(t);return(0,n.jsxs)("div",{className:"relative",...v,...l,children:[h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.ZP,{variant:"background",className:"absolute inset-0 z-20 rounded opacity-80"}),(0,n.jsxs)(c.ZP,{className:o()("animate-in fade-in gap-x-sm absolute inset-0 z-20 flex items-center justify-center rounded border-2 border-dashed transition-all duration-200",{"!border-superDuper":m}),children:[(0,n.jsx)(u.Z,{color:"super",children:(0,n.jsx)(s.G,{icon:i.IA})}),(0,n.jsx)(u.Z,{color:"super",children:"Drop your file here"})]})]}),r]})})},94412:function(e,t,r){"use strict";var n=r(53854),i=r(34730),s=r(94961),l=r(64980),o=r(37462),a=r.n(o),c=r(20981),u=r(94410),d=r(25620),h=r(22571),m=r(92508),v=r(2355),p=r(9618),x=r(97455),f=r(69646),g=r(88121),j=r(58556),k=r(23228),M=r(25245);let L=c.forwardRef((e,t)=>{let{wrapperClassName:r,size:o="default",errorText:L,className:b,value:y,maxLength:C,errorMessage:Z,disabled:w=!1,hasShadow:N=!1,autoFocus:S=!1,placeholder:_="",leftItems:V,rightItems:P=[],onChange:D,onClear:E,onClick:T,onBlur:I,onFocus:W,onKeyDown:A,onPaste:O,isLoading:z,inlineEditBlock:R,label:U,defaultTall:F=!1,isOptional:q,minRows:H,isMobileStyle:B,isMobileUserAgent:Q,testId:G}=e,K=(0,x.f)(),[Y,X]=(0,c.useState)(F),$=(0,f.D)(w),J=(0,c.useRef)(null),[ee,et]=(0,c.useState)(!1),[er,en]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(!Q&&S){var e;null===(e=J.current)||void 0===e||e.focus()}},[Q,J,S]),(0,c.useEffect)(()=>{$===w||w||Q||!S||setTimeout(()=>{var e;null===(e=J.current)||void 0===e||e.focus()},200)});let ei=(0,c.useMemo)(()=>a()({"border-r mr-sm pr-xs border-borderMain dark:border-borderMainDark":0!=P.length}),[P.length]),es="selection:bg-superDuper selection:text-textMain",el=a()("overflow-auto max-h-[50vh] outline-none w-full flex items-center","font-sans caret-superDuper resize-none",es,"dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOffDark","bg-background text-textMain placeholder-textOff"),eo=(0,c.useMemo)(()=>{let e=a()("w-full outline-none focus:outline-none focus:ring-borderMain font-sans flex items-center","dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOffDark dark:border-borderMainDark dark:focus:ring-borderMainDark",es,"duration-200 transition-all",b,{"ring-borderMain ring-1 dark:ring-borderMainDark":ee,"bg-background border text-textMain border-borderMain focus:ring-1 placeholder-textOff":!0,"shadow-sm":N,"rounded-t-[32px] rounded-b-[32px]":!Y,"rounded-t-md rounded-b-md":Y}),t=a()({"py-sm text-sm px-md":"default"===o,"pl-[40px]":"default"===o&&null!=V&&V.length>0&&!Y,"pl-xl":"large"===o&&null!=V&&V.length>0&&!Y,"py-md px-lg":"large"===o&&!Y,"text-base p-md pb-xl":"large"===o&&Y}),r=a()({"pr-md":0===P.length,"pr-[49px] md:pr-[59px]":1===P.length&&!Y,"pr-[128px] md:pr-[138px]":2===P.length&&!Y}),n=a()({"transition-none":!K&&(0,j.r)(),"max-h-[200px]":(0,j.r)()});return a()(e,t,r,n)},[N,V,b,o,P.length,K,Y,ee]),ea=(0,c.useMemo)(()=>null!=V&&V.length>0?(0,n.jsx)("div",{className:a()("bg-background dark:bg-offsetDark absolute flex items-center rounded-l-lg",{"pb-xs mb-xs bottom-0 left-[6px]":Y,"left-sm":"large"===o,"left-md":"default"===o}),children:V}):null,[V,Y,o]),ec=void 0!==Z,eu=!ec&&!!C&&!!y&&y.length>C,ed=(0,c.useMemo)(()=>(0,n.jsxs)("div",{className:a()("gap-sm bg-background dark:bg-offsetDark right-sm absolute flex items-center rounded-full",{"pb-xs mb-xs bottom-0":Y}),children:[z?(0,n.jsx)(m.Z,{color:"light",children:(0,n.jsx)(l.G,{className:"aspect-square animate-spin",fixedWidth:!0,icon:i.Dh})}):null,ec&&(0,n.jsx)(h.ZP,{className:"mr-sm",children:(0,n.jsx)(m.Z,{color:"red",variant:"tiny",children:Z})}),eu&&(0,n.jsx)(h.ZP,{className:"mr-sm",children:C&&y&&(0,n.jsx)(m.Z,{color:"red",variant:"tiny",children:C-y.length})}),void(p.Z,s.FG,g.$u.small)!==E,P.map((e,t)=>"toggleButton"==e.type?(0,n.jsx)(d.r,{...e.buttonProps,disabled:!e.buttonProps.disableOverride&&(e.buttonProps.disabled||ec||eu)},t):(0,n.jsx)(v.Z,{...e.buttonProps,size:Y?g.$u.small:e.buttonProps.size,disabled:e.buttonProps.disabled||ec||eu,pill:!0},t))]}),[Y,Z,z,C,E,P,y,ei,ec,eu]),eh=(0,c.useCallback)(()=>{if(J.current){let e=J.current.value.length;J.current.focus(),J.current.setSelectionRange(e,e)}},[]),em=(0,c.useCallback)(e=>{null==W||W(e),et(!0)},[W]),ev=(0,c.useCallback)(e=>{null==I||I(e),et(!1)},[I]);return(0,c.useImperativeHandle)(t,()=>({focus:()=>{J.current&&J.current.focus()},focusAtEnd:eh,blur:()=>{J.current&&J.current.blur()},isFocused:()=>ee,get value(){var e,t;return null!==(t=null===(e=J.current)||void 0===e?void 0:e.value)&&void 0!==t?t:""},get selectionStart(){var r,n;return null!==(n=null===(r=J.current)||void 0===r?void 0:r.selectionStart)&&void 0!==n?n:null},get selectionEnd(){var i,s;return null!==(s=null===(i=J.current)||void 0===i?void 0:i.selectionEnd)&&void 0!==s?s:null}})),(0,c.useEffect)(()=>{S&&!Q&&eh()},[S,eh,Q]),(0,c.useEffect)(()=>{let e=B?20:50;y&&y.length>e||(null==y?void 0:y.includes("\n"))?X(!0):X(F)},[y,F,B]),(0,n.jsxs)("div",{"data-test-id":G,children:[(0,n.jsx)(k.o,{label:U,isOptional:q,errorText:L}),(0,n.jsx)("div",{className:a()({"rounded-md":Y,"rounded-full":!Y},r),children:(0,n.jsxs)("div",{className:"relative flex items-center",children:[(0,n.jsx)("div",{className:eo,children:(0,n.jsx)(u.Z,{ref:J,autoFocus:S,placeholder:_,disabled:w,minRows:H,value:y,onClick:T,onChange:e=>{D&&D(e)},name:U,onKeyDown:e=>(0,M.UV)(e,{isMobileUserAgent:Q,isComposing:er,onKeyDown:A}),onBlur:ev,onCompositionStart:()=>(0,M.ZS)(en),onCompositionEnd:()=>(0,M.Cf)(en),onFocus:em,onPaste:O,className:el,autoComplete:"off"})}),Y?(0,n.jsxs)("div",{className:a()("bg-background focus:bg-background dark:bg-offsetDark dark:focus:bg-offsetDark absolute bottom-0 m-[1px] flex justify-between px-[6px]",{"rounded-b-[32px]":!Y,"rounded-b-md":Y}),style:{width:"calc(100% - 2px)"},children:[ea,ed]}):(0,n.jsxs)(n.Fragment,{children:[ea,ed]})]})}),R&&(0,n.jsx)("div",{className:"mt-sm flex justify-end",children:R})]})});t.Z=c.memo(L)},2395:function(e,t,r){"use strict";r.d(t,{G:function(){return p}});var n=r(53854),i=r(34730),s=r(64980),l=r(37462),o=r.n(l),a=r(20981),c=r(94410),u=r(92508),d=r(69646),h=r(25245);function m(e,t){switch(t.type){case"SET_TALL":return{...e,isTall:t.payload};case"SET_ACTIVE":return{...e,isActive:t.payload};case"SET_COMPOSING":return{...e,isComposing:t.payload};default:return e}}let v=(0,a.createContext)({state:{isTall:!1,isActive:!1,isComposing:!1},dispatch:()=>{}}),p=e=>{let{defaultTall:t,borderClass:r,wrapperClass:i,size:s,hasShadow:l,children:c}=e,[u,d]=(0,a.useReducer)(m,{isTall:null!=t&&t,isActive:!1,isComposing:!1}),{isTall:h,isActive:p}=u,x=(0,a.useMemo)(()=>{let e=o()("w-full outline-none focus:outline-none focus:ring-borderMain font-sans flex items-center","dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOffDark dark:border-borderMainDark dark:focus:ring-borderMainDark","selection:bg-superDuper selection:text-textMain","duration-200 transition-all",i,{"ring-borderMain ring-1 dark:ring-borderMainDark":p,"bg-background border text-textMain border-borderMain focus:ring-1 placeholder-textOff":!0,"shadow-sm":l,"rounded-t-[32px] rounded-b-[32px]":!h,"rounded-t-md rounded-b-md":h}),t=o()({"py-sm px-sm":"large"===s&&!h,"px-md pt-md pb-sm":"large"===s&&h});return o()(e,t)},[l,h,p,i,s]);return(0,n.jsx)(v.Provider,{value:{state:u,dispatch:d},children:(0,n.jsx)("div",{className:o()({"rounded-md":h,"rounded-full":!h},r),children:(0,n.jsx)("div",{className:o()("items-center",{"grid-rows-1fr-auto grid grid-cols-3":h,flex:!h},x),children:c})})})},x=a.forwardRef((e,t)=>{let{autoFocus:r=!1,placeholder:i="",disabled:s=!1,value:l,defaultTall:u=!1,minRows:m,onChange:p,onClick:x,onBlur:f,onFocus:g,onKeyDown:j,onPaste:k,suggestText:M,tapAcceptSuggestText:L,isMobileStyle:b,isMobileUserAgent:y,testId:C}=e,{state:Z,dispatch:w}=(0,a.useContext)(v),{isTall:N,isActive:S,isComposing:_}=Z,V=(0,a.useCallback)(e=>{w({type:"SET_TALL",payload:e})},[w]),P=(0,a.useCallback)(e=>{w({type:"SET_ACTIVE",payload:e})},[w]),D=(0,a.useCallback)(e=>{w({type:"SET_COMPOSING",payload:e})},[w]),E=(0,d.D)(s),T=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(!y&&r){var e;null===(e=T.current)||void 0===e||e.focus()}},[y,T,r]),(0,a.useEffect)(()=>{E===s||s||y||!r||setTimeout(()=>{var e;null===(e=T.current)||void 0===e||e.focus()},200)});let I=o()({"col-start-1 col-end-4 pb-sm":N},{"flex-grow flex-shrink p-sm rounded-full order-1":!N},"overflow-hidden relative flex h-full w-full"),W=o()("overflow-auto max-h-[45vh] outline-none w-full","font-sans caret-superDuper resize-none","selection:bg-superDuper selection:text-textMain","dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOffDark","bg-background text-textMain placeholder-textOff"),A=(0,a.useCallback)(e=>{null==g||g(e),P(!0)},[g,P]),O=(0,a.useCallback)(e=>{null==f||f(e),P(!1)},[f,P]),z=(0,a.useCallback)(()=>{if(T.current){let e=T.current.value.length;T.current.focus(),T.current.setSelectionRange(e,e)}},[]);return(0,a.useImperativeHandle)(t,()=>({focus:()=>{T.current&&T.current.focus()},focusAtEnd:z,blur:()=>{T.current&&T.current.blur()},isFocused:()=>S,get value(){var e,t;return null!==(t=null===(e=T.current)||void 0===e?void 0:e.value)&&void 0!==t?t:""},get selectionStart(){var r,n;return null!==(n=null===(r=T.current)||void 0===r?void 0:r.selectionStart)&&void 0!==n?n:null},get selectionEnd(){var i,s;return null!==(s=null===(i=T.current)||void 0===i?void 0:i.selectionEnd)&&void 0!==s?s:null}})),(0,a.useEffect)(()=>{let e=b?15:50;l&&l.length>e||(null==l?void 0:l.includes("\n"))?V(!0):N!==u&&V(u)},[l,u,b,N,V]),(0,n.jsxs)("div",{className:I,children:[(0,n.jsx)(c.Z,{ref:T,autoFocus:r,placeholder:i,minRows:m,value:l,onClick:x,onChange:e=>{p&&p(e)},onKeyDown:e=>(0,h.UV)(e,{isMobileUserAgent:y,isComposing:_,onKeyDown:j}),onBlur:O,onCompositionStart:()=>(0,h.ZS)(D),onCompositionEnd:()=>(0,h.Cf)(D),onFocus:A,onPaste:k,className:W,autoComplete:"off","data-test-id":C,"data-1p-ignore":!0}),M&&(0,n.jsxs)("div",{className:"pointer-events-none absolute left-0 top-0",children:[(0,n.jsx)("span",{className:"pointer-events-none invisible whitespace-pre-wrap break-words",children:l}),(0,n.jsx)("span",{onClick:()=>y&&(null==L?void 0:L()),className:o()("text-textMain dark:text-textMainDark inline-flex whitespace-pre-wrap opacity-60",{"pointer-events-none":!M||!y,"pointer-events-auto":M&&y}),children:M})]})]})});p.Input=x,p.LeftAttribution=e=>{let{children:t}=e,{state:r}=(0,a.useContext)(v),{isTall:i}=r;return null!=t?(0,n.jsx)("div",{className:o()("bg-background dark:bg-offsetDark flex rounded-l-lg",{"col-start-1 row-start-2 -ml-2":i,"order-0":!i}),children:t}):null},p.RightAttribution=e=>{let{isLoading:t,children:r}=e,{state:l}=(0,a.useContext)(v),{isTall:c}=l;return(0,n.jsxs)("div",{className:o()("bg-background dark:bg-offsetDark flex items-center space-x-2 justify-self-end rounded-full",{"col-start-3 row-start-2 -mr-2":c,"order-2":!c}),children:[t?(0,n.jsx)(u.Z,{color:"light",children:(0,n.jsx)(s.G,{className:"aspect-square animate-spin",fixedWidth:!0,icon:i.Dh})}):null,r]})}},11128:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var n=r(20981),i=r(70701);function s(e){let t=(0,n.useContext)(i.B);if(!t)throw Error("Attempted to access ColorSchemeContext from useColorScheme() without adding <ColorSchemeProvider> to the tree.");let[r,s]=(0,n.useState)(!t.isSystemColorScheme);(0,n.useEffect)(()=>{(null==e?void 0:e.addSecondPass)&&t.isSystemColorScheme&&!r&&s(!0)},[t.isSystemColorScheme,r,null==e?void 0:e.addSecondPass]);let l={...t};return(null==e?void 0:e.addSecondPass)&&(l.isColorSchemeReady=r),l}},39088:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(20981),i=r(95056);function s(e){(0,n.useEffect)(()=>{let t=window.matchMedia("(prefers-color-scheme: dark)");function r(){e(i.j.colorScheme)}return t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[e])}},17516:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(20981),i=r(95056);function s(){return(0,n.useCallback)(()=>{let e="dark"===document.documentElement.dataset.colorScheme,t=i.j.colorScheme;e&&"light"===t?document.documentElement.dataset.colorScheme="light":e||"dark"!==t||(document.documentElement.dataset.colorScheme="dark")},[])}},43687:function(e,t,r){"use strict";var n=r(53854),i=r(45928),s=r(64980),l=r(20981),o=r(25620),a=r(17844),c=r(22571),u=r(92508),d=r(2355),h=r(2716);let m=l.memo(e=>{let{isLoading:t=!1,hideSwitch:r,isSignedIn:m,isPlus:v,gpt4Limit:p,isCopilot:x,onChange:f,isMacOS:g,modalDescription:j,learnMoreText:k="Learn more",searchesLeftText:M="searches left",reloadsEvery:L="Reloads every 4 hours",boxProps:b}=e,y=!v&&!x,[C,Z]=(0,l.useState)(!!x);(0,l.useEffect)(()=>{Z(!!x)},[x]);let w=(0,n.jsx)(o.r,{text:"Pro",active:C,disabled:r||t,testId:"copilot-toggle",onChange:f,id:"copilot-toggle"}),N=r&&!t?(0,n.jsx)("div",{onClick:()=>{null==f||f(!0)},children:(0,n.jsxs)(u.Z,{className:"hover:text-textMain hover:dark:text-textMainDark gap-sm mr-sm flex cursor-pointer items-center whitespace-nowrap duration-150",variant:"smallBold",as:"label",color:"light",children:[(0,n.jsx)(s.G,{icon:i.SZ}),"Pro"]})}):y?w:(0,n.jsx)(a.Z,{asChild:!0,tooltipText:p&&p<100?"".concat(p," ").concat(M):"",keyboardShortcut:y?void 0:g?["âŒ˜","."]:["Ctrl","."],children:w});return y?(0,n.jsx)(h.J,{hoverOpen:!0,childrenClassName:"inline-flex",content:(0,n.jsxs)(c.ZP,{className:"px-md py-sm max-w-[330px]",...b,children:[(0,n.jsxs)("div",{className:"gap-x-xs flex",children:[(0,n.jsx)(u.Z,{variant:"section-title",color:"super",children:"Pro"}),(0,n.jsx)(u.Z,{variant:"section-title",children:"Search"})]}),(0,n.jsx)(u.Z,{className:"mb-sm",children:j}),(0,n.jsx)(d.Z,{size:"small",text:k,href:"https://www.perplexity.ai/hub/getting-started#copilot",target:"_blank"}),m&&(0,n.jsx)(c.ZP,{className:"mt-sm pt-sm border-t",children:(0,n.jsxs)(u.Z,{variant:"tiny",color:"light",className:"inline",children:[(0,n.jsxs)(u.Z,{variant:"tiny",color:"default",className:"inline",children:[p," "]}),"".concat(M,". ").concat(L,".")]})})]}),children:N}):N});t.Z=m},79900:function(e,t,r){"use strict";var n=r(53854);r(20981);var i=r(2355),s=r(88121);t.Z=e=>{let{toolTip:t,icon:r,isDisabled:l,disabledErrorMessage:o,value:a,querySource:c,size:u=s.$u.small,handleSubmit:d,...h}=e;return(0,n.jsx)(i.Z,{...h,ariaLabel:"Submit",toolTip:t,icon:r,variant:"primary",size:u,pill:!0,onClick:l?void 0:()=>d({query:a,querySource:c}),disabled:l||o})}},37305:function(e,t,r){"use strict";r.d(t,{Q:function(){return c}});var n=r(53854),i=r(20981);let s=e=>{let{lineThickness:t,...r}=e;return(0,n.jsxs)("svg",{width:"2820",height:"74",viewBox:"0 0 2820 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[(0,n.jsx)("path",{d:"M29.6848 25.4603L48.3092 41.1547V64.3955L29.6848 49.0293M29.6848 25.4603L10.9465 41.2436V64.7306L29.6316 49.0293M29.6848 25.4603H3.35229V49.1113H10.3379M29.6848 25.4603H56.0553V49.1113H48.6552M29.6848 25.4603L10.9465 9.77618V24.7752M29.6848 25.4603L48.3092 9.77618V24.7591M29.6848 25.4603L29.6848 2.77313V24.382M29.6848 25.4603V49.1113M29.6848 25.4603V71.6755V49.0839",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M209.685 49.029L226.532 65.889V42.256L209.685 25.46L189.647 39.835L189.532 64.785L207.207 50.797",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M209.685 25.46L207.549 47.423V71.566L209.685 49.084M209.685 25.46L183.516 24.701V47.433L189.594 47.823M209.685 25.46L235.855 26.937V50.943L226.655 50.299M209.685 25.46L192.558 8.218V24.1M209.685 25.46L229.708 10.542V26.546M209.685 25.46L211.798 2.855V24.76M209.685 25.46V49.111M269.685 49.029L285.993 66.318V42.675L269.685 25.46L249.061 39.22V63.11L266.369 51.263",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M269.685 25.46L266.606 47.86V71.511L269.685 49.084M269.685 25.46L243.571 22.835V46.558L248.794 47.068M269.685 25.46L295.788 27.702V51.6L286.585 50.723M269.685 25.46L253.227 7.67V24.726M269.685 25.46L290.377 11.28V27.133M269.685 25.46L272.71 2.923V23.098M269.685 25.46V49.111M329.685 49.03L345.299 67.137V43.3L329.685 25.46L308.331 38.51V62.29L325.293 51.73",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M329.685 25.46L325.565 47.635V71.334L329.685 49.084M329.685 25.46L304.726 21.906V45.738L307.934 46.296M329.685 25.46L355.721 28.687V52.584L345.937 51.279M329.685 25.46L314.048 7.233V23.17M329.685 25.46L351.015 11.882V27.907M329.685 25.46L333.714 2.992V22.74M329.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M389.685 49.029L404.201 67.538L404.352 43.92L389.685 25.46L367.86 37.607V61.387L384.2 52.113",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M389.685 25.46L384.523 47.3V71.156L389.685 49.084M389.685 25.46L363.9 20.922V44.754L367.262 45.322M389.685 25.46L415.508 29.78V54.723L404.436 51.688M389.685 25.46L375.021 6.57701V22.724",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M389.685 25.46L411.715 12.838V29.235M389.685 25.46L394.754 3.19701V22.344M389.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M449.685 49.029L463.072 68.404L463.215 44.53L449.685 25.46L427.054 36.842V60.595L442.826 52.515",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M449.685 25.46L443.117 47.129V70.924L449.685 49.084M449.685 25.46L424.143 19.8V44.76L426.599 44.184M449.685 25.46L475.28 30.683V54.58L463.735 52.113M449.685 25.46L436.176 5.976V22.356",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M449.685 25.46L472.414 13.727V30.403M449.685 25.46L456.192 3.539L456.33 21.994M449.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M509.685 49.029L521.673 68.656L521.879 45.127L509.685 25.46L486.385 35.611V59.501L501.389 52.742",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M509.685 25.46L501.711 46.575V70.418L509.685 49.084M509.685 25.46L484.477 18.515V42.481L485.621 42.781M509.685 25.46L534.754 32.077V55.906L522.17 52.482",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M509.685 25.46L497.606 5.374L497.3 22.124M509.685 25.46L533.189 14.79V31.499M509.685 25.46L517.651 3.84V21.876M509.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M569.685 49.03L580.306 69.736V45.91L569.685 25.46L545.564 34.271V58.134L559.659 52.802",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M569.685 25.46L560 46.322V69.98L569.685 49.084M569.685 25.46L545.086 17.121V40.813L545.119 40.824M569.685 25.46L594.185 33.444L594.238 57.334L580.581 52.76M569.685 25.46L559.096 4.69V21.458M569.685 25.46L593.98 16.31L594.119 33.415M569.685 25.46L579.4 4.36V21.53M569.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M629.685 49.03L638.275 70.78V46.58L629.685 25.46L604.774 32.603V56.576L617.836 52.61",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M629.685 25.46L618.29 45.14V69.27L629.685 49.084M629.685 25.46L605.937 15.508V32.273M629.685 25.46L653.478 35.112V58.838L638.453 52.696M629.685 25.46L621.102 3.98V21.387",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M629.685 25.46L654.664 17.842V41.941L653.7 42.217M629.685 25.46L641.361 5.084V21.818M629.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M689.685 49.029L696.089 71.244V47.065L689.685 25.46L664.074 30.744V54.552L675.799 52.019",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M689.685 25.46L676.002 44.34V68.094L689.685 49.084M689.685 25.46L667.092 14.721V29.977M689.685 25.46L712.323 36.944V60.698L696.503 52.601M689.685 25.46L683.353 3.433V21.908",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M689.685 25.46L715.303 19.948V43.855L712.658 44.398M689.685 25.46L703.459 6.06799V22.442M689.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M749.685 49.029L753.271 71.747V47.493L749.685 25.46L723.558 28.365V52.201L733.357 51.009",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M749.685 25.46L733.714 43.157V66.918L749.685 49.084M749.685 25.46L728.673 11.707V27.76M749.685 25.46L770.772 38.83V62.694L753.503 51.57M749.685 25.46L746.12 3.05V22.72",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M749.685 25.46L775.789 22.19V46.083L771.103 46.627",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M765.679 23.49V7.408L749.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M809.685 49.029L809.977 72.045L809.685 47.568V25.46H783.345V49.467L790.992 49.34",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M809.685 25.46L791.205 41.503V64.753L809.685 49.083M809.685 25.46L790.832 9.656V25.143M809.685 25.46L828.674 41.127V64.754L809.685 49.11M809.685 25.46L809.343 2.735",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M809.685 25.46L836.063 25.033V48.753L829.072 48.848M809.685 25.46L828.172 9.24001V25.106M809.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M869.685 49.03L866.405 71.53L866.065 47.01L869.685 25.46L843.558 22.37V46.186L848.429 46.717",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M869.685 25.46L848.696 38.865V62.789L866.042 51.462M869.685 25.46L854.76 7.497V23.406M869.685 25.46L885.633 43.096V66.959L869.685 49.111M869.685 25.46L873.235 3.132V22.9",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M869.685 25.46L895.82 28.304V52.088L885.776 50.944M869.685 25.46L890.726 11.618V27.652M869.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M929.685 49.028L922.004 70.99V46.713L929.685 25.46L904.439 18.734V42.44L906.137 42.884",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M929.685 25.46L906.294 35.826V59.59L921.769 52.64M929.685 25.46L917.34 5.48701L917.202 21.692M929.685 25.46L942.076 45.065V68.9L929.685 49.111M929.685 25.46L937.401 3.78801V21.63",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M929.685 25.46L954.747 31.858V55.698L942.558 52.481M929.685 25.46L953.068 14.763V31.197M929.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M989.685 49.03L977.622 69.38V45.26L989.685 25.46L966.203 15.125V31.444",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M989.685 25.46L964.683 32.077V56.008L977.63 52.423M989.685 25.46L981.627 4.01001V21.74M989.685 25.46L997.788 46.787V70.513L989.685 49.111M989.685 25.46L1001.81 5.23701V21.8",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M989.685 25.46L1013.17 35.468V59.279L998 52.711",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1013.48 42.742L1014.79 42.37V18.372L989.685 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1049.68 49.029L1034.75 66.743V43.12L1049.68 25.46L1028.76 11.652V27.197",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1049.68 25.46L1023.45 28.18V52.112L1033.53 50.949M1049.68 25.46L1046.22 3.026V22.739M1049.68 25.46L1053.2 47.361V71.388L1049.68 49.111M1049.68 25.46L1065.79 7.507V23.295",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1049.68 25.46L1070.59 38.786V62.78L1053.32 51.489",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1070.94 46.661L1075.96 46.101V22.391L1049.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1108.51 49.947L1090.23 64.228V40.474L1109.68 25.46L1091.89 8.78101V24.188",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1109.68 25.46L1084.75 24.27V48.175L1090.22 48.405M1109.68 25.46L1110.87 2.862L1110.71 24.747M1109.68 25.46L1108.57 47.033V71.716L1109.68 49.111M1109.68 25.46L1129.08 10.132V25.747",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1109.68 25.46L1127.46 41.848V65.568L1109.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1127.63 49.715L1135.96 50.034V26.328L1109.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1163.88 52.298L1147.7 61.414V37.531L1169.68 25.46L1155.29 6.59399V22.504",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1169.68 25.46L1143.85 20.662V44.552L1147.51 45.194M1169.68 25.46L1175.13 3.327L1174.79 22.093M1169.68 25.46L1164.62 47.033L1164.2 71.17L1169.68 49.111L1184.23 67.947V44.145L1169.68 25.46ZM1169.68 25.46L1191.87 12.948V28.924",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1184.43 51.662L1195.53 54.743V29.828L1169.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1220.25 52.825L1206.12 58.508V34.662L1229.68 25.46L1218.52 5.036V21.422",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1229.68 25.46L1204.75 17.627V41.49L1205.54 41.7M1229.68 25.46L1238.81 4.256L1238.64 21.334M1229.68 25.46L1220.73 46.404V70.24L1229.68 49.111L1240.89 69.588V45.758L1229.68 25.46ZM1229.68 25.46L1253.58 15.873V32.521",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1241.03 52.54L1254.41 56.678V32.863L1229.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1289.68 25.46L1264.5 32.081V55.974L1277.2 52.472M1289.68 25.46L1281.65 3.97V21.309M1289.68 25.46L1266.25 14.747V31.563M1289.68 25.46L1301.82 5.35V21.67",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1289.68 49.111L1277.57 69.174V45.365L1289.68 25.46L1314.76 18.389V42.272L1314.08 42.458",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1289.68 25.46L1297.73 46.798V70.544L1289.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1297.9 52.673L1313.16 59.44V35.488L1289.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1349.68 25.46L1323.79 29.631V53.515L1334.71 51.624M1349.68 25.46L1344.45 3.259V22.232M1349.68 25.46L1327.68 12.87V28.975M1349.68 25.46L1364.34 6.717V22.43",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1349.68 49.111L1335.01 67.943V44.053L1349.68 25.46L1375.61 20.877V44.761L1372.31 45.315",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1349.68 25.46L1354.73 47.317V71.173L1349.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1354.79 52.049L1371.71 61.573V37.785L1349.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1409.68 25.46L1383.5 27.452V51.428L1392.53 50.601M1409.68 25.46L1407.03 2.95801V23.477M1409.68 25.46L1389.23 11.092V26.894M1409.68 25.46L1426.44 7.97501V23.577",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1409.68 49.112L1393.01 66.522V42.522L1409.68 25.46L1435.92 23.037V46.975L1430.43 47.422",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1409.68 25.46L1412.44 47.563V71.501L1409.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1412.62 51.087L1430.15 63.391V39.466L1409.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1469.68 25.46L1443.5 25.626V49.323L1450.99 49.239M1469.68 25.46L1469.63 2.79401V2.86401M1469.68 25.46L1450.9 9.64301V25.562M1469.68 25.46L1488.17 9.37001V24.736",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1469.68 49.112L1451.33 65.182V41.237L1469.68 25.46L1496.16 25.142V48.807L1488.91 48.89",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1469.68 25.46L1470 47.754V71.638L1469.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1469.68 49.029L1488.52 64.754V40.916L1469.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1529.68 25.46L1503.5 23.874V47.758L1509.37 48.043M1529.68 25.46L1531.55 2.84801V23.465M1529.68 25.46L1512.36 8.33001V24.23M1529.68 25.46L1549.57 10.545V26.025",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1529.68 49.111L1509.84 63.869V40.061L1529.68 25.46L1556.02 26.756V50.694L1547.51 50.182",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1529.68 25.46L1527.94 47.918V71.474L1529.68 49.111V25.46ZM1529.68 25.46L1547.05 42.091V66.098L1529.68 49.029",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1589.68 25.46L1563.5 22.18V46.007L1568.24 46.554M1589.68 25.46L1593.34 3.09401V22.586M1589.68 25.46L1573.79 7.40001V23.212M1589.68 25.46L1610.79 11.584V27.55",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1585.87 51.573L1568.66 62.693V38.803L1589.68 25.46L1615.89 28.242V52.307L1606.05 51.107",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1589.68 25.46L1586.05 47.645V71.31L1589.68 49.111V25.46ZM1589.68 25.46L1605.57 43.075V67.082L1589.68 49.029",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1649.68 25.46L1623.96 20.819V44.572L1627.42 45.172M1649.68 25.46L1654.72 3.17599V21.958M1649.68 25.46L1635.13 6.55299V22.64M1649.68 25.46L1671.73 12.842V28.897",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1644.41 52.059L1627.59 61.463V37.628L1649.68 25.46L1675.55 29.8V54.747L1664.45 51.7",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1649.68 25.46L1644.38 47.317V71.255L1649.68 49.111V25.46ZM1649.68 25.46L1664.25 44.019V67.929L1649.68 49.029",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1709.68 25.46L1684.35 19.59V43.25L1686.64 43.77M1709.68 25.46L1716.47 3.58701V21.618M1709.68 25.46L1696.43 5.87001V22.235M1709.68 25.46L1732.55 14.018V30.154",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1702.93 52.469L1686.93 60.424V36.452L1709.68 25.46L1735.25 31.14V54.76L1722.16 51.964",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1709.68 25.46L1702.88 47.085V70.9L1709.68 49.111V25.46ZM1709.68 25.46L1722.9 44.757V68.558L1709.68 49.029",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1769.68 25.46L1744.79 18.471V42.224L1746.02 42.562M1769.68 25.46L1777.81 3.99701V21.415M1769.68 25.46L1757.68 5.32301V21.924M1769.68 25.46L1793.25 15.056V31.36",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1761.32 52.76L1746.01 59.44V35.467L1769.68 25.46L1794.76 32.084V55.97L1781.58 52.363",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1769.68 25.46L1761.49 46.729V70.489L1769.68 49.111V25.46ZM1769.68 25.46L1781.63 45.222V69.146L1769.68 49.029",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1829.68 25.46L1805.1 17.39V41.163L1805.4 41.259M1829.68 25.46L1839 4.35201V21.335M1829.68 25.46L1818.87 4.703V21.707M1829.68 25.46L1853.83 15.986V32.568",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1820.07 52.787L1805.53 58.347V34.647L1829.68 25.46L1854.34 33.21V57.037L1841 52.75",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1829.68 25.46L1820.32 46.305V70.148L1829.68 49.111V25.46ZM1829.68 25.46L1840.49 45.66V69.638L1829.68 49.029",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1889.68 25.46L1865.62 16.478L1865.29 33.368M1889.68 25.46L1900.06 4.68V21.433M1889.68 25.46L1879.96 4.42V21.716M1889.68 25.46L1914.28 16.834V40.88L1914.24 40.895M1889.68 25.46L1865.16 33.554V57.444L1879.17 52.685",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1899.9 52.822L1913.91 57.912V34.058L1889.68 25.46L1879.29 45.868V69.806L1889.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1889.68 49.029L1899.43 69.806V46.015L1889.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1949.68 25.46L1925.99 15.695V31.95M1949.68 25.46L1961.1 5.063V21.494M1949.68 25.46L1940.84 4.092V21.5M1949.68 25.46L1974.68 17.79L1974.47 41.702L1973.9 41.872M1949.68 25.46L1924.76 32.706V56.596L1938.1 52.605",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1958.83 52.837L1973.52 58.814V34.733L1949.68 25.46L1938.23 45.615V69.41L1949.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M1949.68 49.029L1958.5 70.298V46.37L1949.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2009.68 25.46L1986.3 14.757V31.231M2009.68 25.46L2021.92 5.44601V21.716M2009.68 25.46L2001.76 3.87401V21.862M2009.68 25.46L2034.73 18.584V42.522L2033.42 42.892M2009.68 25.46L1984.49 31.943V55.858L1997.18 52.461",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2017.96 52.797L2033.06 59.525V35.698L2009.68 25.46L1997.49 45.136V69.026L2009.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2009.68 49.029L2017.51 70.544V46.63L2009.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2069.68 25.46L2046.84 14.317V30.256M2069.68 25.46L2082.74 5.82901V21.933M2069.68 25.46L2062.64 3.71001V21.922M2069.68 25.46L2095.2 19.377V43.287L2092.94 43.803M2069.68 25.46L2044.28 31.26V55.065L2056.51 52.199",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2076.98 52.648L2092.73 60.29V36.218L2069.68 25.46L2056.73 44.713V68.576L2069.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2069.68 49.03L2076.74 70.79V47.018L2069.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2129.68 25.46L2107.19 13.74V29.597M2129.68 25.46L2143.31 6.211V22.141M2129.68 25.46L2123.43 3.464V21.942M2129.68 25.46L2155.41 20.033L2155.2 43.916L2152.65 44.436M2129.68 25.46L2103.94 30.658V54.463L2115.78 52.002",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2136.31 52.545L2152.21 60.783V36.874L2129.68 25.46L2115.95 44.384V68.274L2129.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2129.68 49.029L2135.9 70.968V47.032L2129.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2189.68 25.46L2167.64 13.069V28.892M2189.68 25.46L2204.01 6.43V22.382M2189.68 25.46L2184.31 3.3V22.194M2189.68 25.46L2215.62 20.58V44.518L2212.13 45.137M2189.68 25.46L2163.85 29.865L2163.94 53.862L2174.73 51.834",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2195.71 52.442L2211.87 61.385V37.448L2189.68 25.46L2175.33 44.111V67.974L2189.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2189.68 49.029L2195.25 71.118V47.114L2189.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2249.68 25.46L2227.97 12.556V28.31M2249.68 25.46L2264.62 6.676V22.45M2249.68 25.46L2244.76 3.08V22.463M2249.68 25.46L2275.62 21.072V45.229L2271.85 45.793M2249.68 25.46L2223.76 29.346L2223.94 53.233L2234.52 51.539",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2254.75 52.153L2271.51 61.713V37.913L2249.68 25.46L2234.72 43.728V67.618L2249.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2249.68 49.029L2254.55 71.146V47.14L2249.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2309.68 25.46L2288.37 12.072V27.909M2309.68 25.46L2325.14 7.196V22.866M2309.68 25.46L2305.5 3.026V22.507M2309.68 25.46L2335.72 21.7L2335.62 45.502L2331.57 46.066M2309.68 25.46L2284.77 28.853V52.66L2294.05 51.244",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2314.36 51.989L2331.05 62.26V38.46L2309.68 25.46L2294.2 43.51V67.29L2309.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2309.68 49.029L2313.94 71.378V47.36L2309.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2348.71 27.302V11.671L2369.68 25.46L2385.56 7.414V23.034",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2369.68 25.46L2366.04 2.944V23.073M2369.68 25.46L2395.82 22.11L2395.62 46.158L2391.12 46.671M2369.68 25.46L2343.55 28.222V52.167L2353.56 50.996",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2374.76 51.665L2390.75 62.643V38.813L2369.68 25.46L2353.78 43.14V67.003L2369.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2369.68 49.029L2373.21 71.378V47.332L2369.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2429.68 25.46L2409.04 11.326V26.962M2429.68 25.46L2446.08 7.66V23.246M2429.68 25.46L2426.62 2.944V23.177M2429.68 25.46L2455.93 22.548V46.568L2450.64 47.08M2429.68 25.46L2403.43 27.948V51.62L2413.16 50.69",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2433.12 51.449L2450.35 63.189V39.251L2429.68 25.46L2413.32 42.771V66.69L2429.68 49.112",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2429.68 49.03L2432.71 71.46V47.332L2429.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2489.68 25.46L2469.4 11.01V26.644M2489.68 25.46L2506.48 7.88001V23.456M2489.68 25.46L2487.23 2.91701V24.713M2489.68 25.46L2516 23.095V46.98L2510.45 47.43M2489.68 25.46L2463.4 27.429L2463.43 51.292L2472.71 50.521",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2492.62 51.175L2510.11 63.49V39.415L2489.68 25.46L2472.91 42.553V66.457L2489.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2489.68 49.029L2492.24 71.474V47.4L2489.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2549.68 25.46L2529.67 10.693V26.371M2549.68 25.46L2566.81 8.098V24.768M2549.68 25.46L2547.67 2.821V24.777M2549.68 25.46L2576.07 23.45V47.39L2570.31 47.765M2549.68 25.46L2523.37 27.019L2523.43 50.964L2532.28 50.339",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2551.97 50.759L2569.78 64.726V39.606L2549.68 25.46L2532.56 42.252V66.142L2549.68 49.112",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2549.68 49.029L2551.77 71.515V47.333L2549.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2609.68 25.46L2589.92 10.392V25.937M2609.68 25.46L2627.12 8.31701V23.877M2609.68 25.46L2608.05 2.80701V23.983M2609.68 25.46L2636.14 23.888V47.744L2629.74 48.075M2609.68 25.46L2583.34 26.663L2583.38 50.526L2591.88 50.069",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2611.76 50.677L2629.29 63.873V40.071L2609.68 25.46L2592.23 42.074V65.971L2609.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2609.68 49.029L2611.33 71.542V47.305L2609.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2669.68 25.46L2650.26 10.242V25.778M2669.68 25.46L2687.45 8.56301V24.107M2669.68 25.46L2668.45 2.79401V24.457M2669.68 25.46L2696.14 24.161V48.127L2689.77 48.364M2669.68 25.46L2643.32 26.335L2643.33 50.253L2651.65 49.893",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2671.01 50.121L2689.05 63.9V40.235L2669.68 25.46L2651.95 41.828V65.698L2669.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2669.68 49.029L2670.93 71.556V47.387L2669.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2729.68 25.46L2710.5 9.982V25.512M2729.68 25.46L2747.69 8.782V24.307M2729.68 25.46L2728.87 2.78V24.433M2729.68 25.46L2756.14 24.49V48.236L2749.71 48.449M2729.68 25.46L2703.29 25.782V49.597L2711.26 49.45",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2730.41 49.695L2748.94 64.53V40.59L2729.68 25.46L2711.6 41.705V65.493L2729.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2729.68 49.029L2730.61 71.638V47.606L2729.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2789.68 25.46L2770.67 9.72201V25.286M2789.68 25.46L2807.94 9.00001V24.505M2789.68 25.46L2789.16 2.76601V24.416M2789.68 25.46L2816.14 24.763V48.673L2809.16 48.789M2789.68 25.46H2763.29V49.337L2771.24 49.269",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2790.41 49.7L2808.83 64.72V40.727L2789.68 25.46L2771.41 41.493V65.383L2789.68 49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M2789.68 49.029L2790.25 71.611V47.742L2789.68 25.46V49.111",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M89.6848 25.4603L108.309 41.4828V65.1065L89.6848 49.0293M89.6848 25.4603L70.5359 40.7925L70.5892 64.669L89.6316 49.0293M89.6848 25.4603L89.0273 47.9151V71.6481L89.6848 49.0839M89.6848 25.4603L63.4071 24.7588V48.5542L70.0911 48.6959M89.6848 25.4603L115.988 25.7611V49.5761L108.665 49.4467M89.6848 25.4603L71.3722 9.03792L71.2884 24.5988M89.6848 25.4603L108.796 9.74877V25.4474M89.6848 25.4603L90.293 2.75943V24.3785M89.6848 25.4603V49.1113",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M149.676 25.4488L167.472 41.872L167.285 65.449L149.676 49.0179M149.676 25.4488L130.087 40.3914V64.2269L148.148 50.1661M149.676 25.4488L148.969 47.3567V71.6093L149.676 49.0725M149.676 25.4488L123.453 24.2184V47.9959L129.828 48.2643M149.676 25.4488L175.913 26.3511V50.1388L167.428 49.8028M149.676 25.4488L131.911 8.67098V24.5132M149.676 25.4488L169.243 10.0381V26.0706M149.676 25.4488L150.984 2.73438V24.3846M149.676 25.4488V49.0999",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"})]})},l=e=>{let{lineThickness:t,...r}=e;return(0,n.jsx)("svg",{width:"60",height:"74",viewBox:"0 0 60 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:(0,n.jsx)("path",{d:"M29.6848 25.4603L48.3092 41.4828V65.1065L29.6848 49.0293M29.6848 25.4603L10.5359 40.7925L10.5892 64.669L29.6316 49.0293M29.6848 25.4603L3.4071 24.8588V48.5542L10.0911 48.6959M29.6848 25.4603L55.9884 25.7611V49.5761L48.6649 49.4467M29.6848 25.4603L11.3722 9.03792L11.2884 24.5988M29.6848 25.4603L48.7956 9.74877V25.4474M29.6848 25.4603L29.63 2.75943M29.6848 25.4603V49.1113M29.63 71.6481L29.6848 49.0839",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"})})};var o=r(37462),a=r.n(o);let c=e=>{let{size:t=32,shouldAnimate:r=!0,lineThickness:o="asIcon",className:c,...u}=e,d=(0,i.useRef)(0),[h,m]=(0,i.useState)(!1),v=e=>{switch(e){case"asIcon":return 4.7;case"normal":return 3.3}};return(0,i.useEffect)(()=>{d.current>0?setTimeout(()=>{m(!1),d.current=0},(1-(performance.now()-d.current)/1e3%1)*1e3):r?(m(!0),d.current=performance.now()):(m(!1),d.current=0)},[r]),(0,n.jsx)("div",{className:a()("text-textMain dark:text-textMainDark flex aspect-[60/74] items-center justify-start overflow-hidden",{["".concat(c)]:!!c}),style:{height:t},...u,children:h?(0,n.jsx)(s,{lineThickness:v(o),className:"animate-pplxIndicator fill-mode-both h-full w-auto shrink-0 transform-gpu"}):(0,n.jsx)(l,{className:"h-full w-auto shrink-0 transform-gpu",lineThickness:v(o)})})}},36004:function(e,t,r){"use strict";r.d(t,{R:function(){return s}});var n=r(53854),i=r(20981);class s extends i.Component{getColumns(){let{children:e,columnsCount:t=3}=this.props,r=Array.from({length:t},()=>[]),n=0;return i.Children.forEach(e,e=>{e&&i.isValidElement(e)&&(r[n%t].push(e),n++)}),r}renderColumns(){let{gutter:e="0"}=this.props;return this.getColumns().map((t,r)=>(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e},children:t.map(e=>e)},r))}render(){let{columnsCount:e,gutter:t="0",style:r,...i}=this.props;return(0,n.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t,...r},...i,children:this.renderColumns()})}}s.defaultProps={columnsCount:3,gutter:"0"}},45139:function(e,t,r){"use strict";r.d(t,{p:function(){return d}});var n=r(53854),i=r(37462),s=r.n(i),l=r(20981),o=r(22571),a=r(69192),c=r(2716),u=r(58556);let d=l.memo((0,l.forwardRef)((e,t)=>{let{isOpen:r,children:i,placement:d,hoverOpen:h=!1,disabled:m=!1,onOpen:v,onClose:p,content:x,isMobileStyle:f,boxProps:g,canOutsideClickClose:j,...k}=e,[M,L]=(0,l.useState)(!1),b=void 0!==r,y=b?r:M,C=(0,l.useCallback)(()=>{y||m||(null==v||v(),b||L(!0))},[m,b,v,y]),Z=(0,l.useCallback)(()=>{!y||m||(null==p||p(),b||L(!1))},[m,b,p,y]);return((0,l.useImperativeHandle)(t,()=>({dismiss:Z})),f||(0,u.r)())?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{variant:"bottom-sheet",actionList:[],isOpen:y,onClose:Z,children:x}),(0,n.jsx)("span",{onClick:C,children:i})]}):(0,n.jsx)(c.J,{isOpen:y,hoverOpen:h,placement:d,onClose:Z,onOpen:C,overlayProps:{canOutsideClickClose:null==j||j},content:(0,n.jsx)(o.ZP,{className:s()("w-[360px]",{}),onClick:e=>{e.stopPropagation()},...g,children:x}),...k,children:i})}))},6200:function(e,t,r){"use strict";r.d(t,{P:function(){return c}});var n=r(53854),i=r(37462),s=r.n(i),l=r(20981),o=r(88121),a=r(70996);let c=l.memo(e=>{let{items:t,itemsSize:r=o.$u.small,grid:i,cols:l=1,rows:c=1,gridFlow:u="row"}=e;return(0,n.jsx)("div",{className:s()("gap-xs grid","col"===u?"grid-flow-col":"grid-flow-row"),style:{gridTemplateColumns:"repeat(".concat(l,", minmax(0, 1fr))"),gridTemplateRows:"repeat(".concat(c,", minmax(0, 1fr))")},children:t.map(e=>(0,n.jsx)(a.s,{gridItem:i,size:r,textColor:"light",className:"w-full",...e},e.text))})})},72135:function(e,t,r){"use strict";r.d(t,{r:function(){return c}});var n=r(53854),i=r(40591);r(20981);var s=r(92508),l=r(2355),o=r(23005),a=r(94240);let c=e=>{let{children:t,isOpen:r,onClose:i,...s}=e;return(0,n.jsx)(a.a,{isOpen:r,onClose:i,center:!1,shouldCloseOnClick:!0,variant:"lightbox",...s,children:(0,n.jsx)("div",{className:"flex h-screen flex-col",children:t})})};c.Header=e=>{let{className:t="",headerText:r,children:a,onClose:c,...u}=e;return(0,n.jsxs)("div",{className:"gap-md mx-md py-md border-borderMainDark flex h-[74px] items-center justify-between border-b-2 ".concat(t),...u,children:[(0,n.jsxs)("div",{className:"gap-x-md flex",children:[(0,n.jsx)(o.Z,{variant:"mark",color:"white",size:"small"}),r&&(0,n.jsx)(s.Z,{color:"white",variant:"page-title",className:"line-clamp-1 grow text-center",children:r})]}),(0,n.jsxs)("div",{className:"gap-x-md flex items-center",children:[a,(0,n.jsx)(l.Z,{pill:!0,icon:i.faXmark,onClick:c})]})]})},c.Main=e=>{let{className:t,style:r,...i}=e;return(0,n.jsx)("div",{className:"p-md col-span-6 lg:col-span-7 ".concat(t),style:{colorScheme:"dark",...r},...i})},c.Sidebar=e=>{let{children:t,className:r,style:i,...s}=e;return(0,n.jsx)("div",{className:"pt-md pr-md col-span-4 lg:col-span-3 ".concat(r),style:{colorScheme:"dark",...i},...s,children:(0,n.jsx)("div",{className:"h-[calc(100vh-100px)] overflow-y-auto rounded-xl",children:t})})},c.Content=e=>{let{className:t,...r}=e;return(0,n.jsx)("div",{className:"grid grow grid-cols-10 ".concat(t),...r})}},37354:function(e,t,r){"use strict";r.d(t,{Gc:function(){return d},Jz:function(){return h},zA:function(){return u}});var n=r(53854),i=r(69650),s=r(92225);r(20981);var l=r(33796),o=r(4009),a=r(91043),c=r.n(a);function u(e){let{className:t="",...r}=e;return(0,n.jsx)("div",{className:"text-md text-textMain dark:text-textOffDark sm:mr-md whitespace-nowrap font-sans text-sm font-medium ".concat(t),...r})}function d(e){let{className:t="",...r}=e;return(0,n.jsx)("div",{className:"mt-sm float-right flex items-center gap-3 shadow-sm sm:float-none sm:mt-0 ".concat(t),...r})}function h(e){let{animate:t,className:r="",isOpen:a,...u}=e,{isMobileStyle:d}=(0,o.d)();return(0,n.jsx)(l.fC,{open:a,children:(0,n.jsx)(i.M,{children:a&&(0,n.jsx)(l.VY,{asChild:!0,forceMount:!0,children:(0,n.jsx)(s.E.div,{className:"".concat(c().confirmDialog," ").concat(r),initial:{opacity:0,scale:.9,translateX:d?void 0:"-50%"},animate:{opacity:1,scale:1,translateX:d?void 0:"-50%"},exit:{opacity:0,scale:.9,translateX:d?void 0:"-50%"},transition:{duration:.4,type:"spring"},...u},"modal-confirm-step")})})})}},96351:function(e,t,r){"use strict";var n=r(53854),i=r(21119),s=r(74686),l=r(35017),o=r(64980),a=r(37462),c=r.n(a),u=r(69650),d=r(92225),h=r(20981),m=r(92508);t.Z=e=>{let{message:t,variant:r,isVisible:a=!1,timeout:v,handleClick:p=()=>{},onTimeout:x=()=>{},...f}=e,[g,j]=(0,h.useState)(a);return(0,h.useEffect)(()=>{j(a)},[a]),(0,h.useEffect)(()=>{let e;return a&&v&&(e=setTimeout(()=>{j(!1),x()},1e3*v)),()=>{clearTimeout(e)}},[g,v,a,x]),(0,n.jsx)(u.M,{children:g&&(0,n.jsx)(d.E.div,{className:"right-lg fixed top-[69px] z-30 flex items-center justify-center",initial:{opacity:0,x:20},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeOut"},...f,children:(0,n.jsxs)("div",{className:c()("p-md gap-x-sm flex items-center rounded shadow-lg",{"bg-super dark:bg-superDark":"success"===r||"refresh"===r,"cursor-pointer":"refresh"===r,"bg-superAlt":"error"===r}),onClick:p,children:[(0,n.jsx)(m.Z,{variant:"smallBold",color:"white",children:(0,n.jsx)(o.G,{icon:"success"===r?i.f8:"refresh"===r?l.UO:s.z5})}),(0,n.jsx)(m.Z,{variant:"smallBold",color:"white",children:t})]})},"toast")})}},70701:function(e,t,r){"use strict";r.d(t,{A:function(){return c},B:function(){return a}});var n=r(53854),i=r(20981),s=r(39088),l=r(95056),o=r(17516);let a=i.createContext(null);function c(e){let{children:t,userPreferredColorScheme:r}=e,[c,u]=(0,i.useState)(!r&&l.j.isSystemScheme),[d,h]=(0,i.useState)(null!=r?r:l.j.colorScheme),m=(0,i.useCallback)(e=>{l.j.userPreferredColorScheme=e,u(!1),h(e)},[]),v=(0,i.useCallback)(()=>{l.j.removeUserPreferredColorScheme(),u(!0),h(l.j.colorScheme)},[]),p=(0,o.P)(),x=(0,i.useCallback)(e=>{c&&(h(e),p())},[c,p]);return(0,s.P)(x),(0,i.useEffect)(()=>{l.j.isSystemScheme&&(document.documentElement.dataset.colorScheme=l.j.colorScheme)},[p]),(0,n.jsx)(a.Provider,{value:{colorScheme:d,isSystemColorScheme:c,setSystemColorScheme:v,setUserPreferredColorScheme:m},children:t})}},19588:function(e,t,r){"use strict";r.r(t),r.d(t,{EnvProvider:function(){return j},isAskDev:function(){return h},isBeta:function(){return u},isDevBox:function(){return m},isLocalhost:function(){return l},isPplxDev:function(){return o},isPreview:function(){return a},isPublicDNS:function(){return s},isStaging:function(){return c},isTesting:function(){return d},useEnv:function(){return k}});var n=r(53854),i=r(20981);let s=e=>null==e?void 0:e.includes("perplexity.ai"),l=e=>null==e?void 0:e.includes("localhost"),o=e=>null==e?void 0:e.includes("pplx.dev"),a=e=>s(e)&&(null==e?void 0:e.includes("preview")),c=e=>s(e)&&(null==e?void 0:e.includes("staging")),u=e=>s(e)&&((null==e?void 0:e.includes("alpha"))||(null==e?void 0:e.includes("beta"))),d=e=>s(e)&&(null==e?void 0:e.includes("testing")),h=e=>s(e)&&(null==e?void 0:e.includes("askdev")),m=e=>s(e)&&(null==e?void 0:e.startsWith("dev")),v=e=>s(e)&&((null==e?void 0:e.includes("klarna"))||(null==e?void 0:e.includes("inhouse"))||(null==e?void 0:e.includes("wolfram"))||(null==e?void 0:e.includes("ftrouter"))||(null==e?void 0:e.includes("ft"))||(null==e?void 0:e.includes("brave"))||(null==e?void 0:e.includes("claude2"))||(null==e?void 0:e.includes("claude1-instant"))||(null==e?void 0:e.includes("claude2-instant"))||(null==e?void 0:e.includes("shopping"))||(null==e?void 0:e.includes("turbo16k"))||(null==e?void 0:e.includes("yelp"))||(null==e?void 0:e.includes("mobile-flag-dev"))),p=e=>s(e)&&!a(e)&&!d(e)&&!u(e)&&!h(e)&&!m(e)&&!v(e),x=e=>s(e)&&(null==e?void 0:e.includes("sandbox")),f=e=>null==e?void 0:e.includes("quokka-gamma.ts.net"),g=i.createContext({isPublicDNS:!1,isLocalhost:!1,isPplxDev:!1,isPreview:!1,isStaging:!1,isBeta:!1,isTesting:!1,isAskDev:!1,isDevBox:!1,isNamedDevDomain:!1,isProduction:!1,isSandbox:!1,isDevDeployment:!1}),j=e=>{let{children:t,hostname:r}=e;return(0,n.jsx)(g.Provider,{value:{isPublicDNS:s(r),isLocalhost:l(r),isPplxDev:o(r),isPreview:a(r),isStaging:c(r),isBeta:u(r),isTesting:d(r),isAskDev:h(r),isDevBox:m(r),isNamedDevDomain:v(r),isProduction:p(r),isSandbox:x(r),isDevDeployment:f(r)},children:t})},k=()=>{let e=i.useContext(g);if(!e)throw Error("useEnv must be used within EnvContext");return e}},71789:function(e,t,r){"use strict";r.r(t),r.d(t,{ExperimentPropsProvider:function(){return c},useExperimentalProps:function(){return u}});var n=r(53854),i=r(20981);let s={showFloatingSignup:!0,floatingSignupSize:"compact",floatingSignupShowLogo:!0,floatingSignupVariant:"boldGoogle"},l={showFloatingSignup:!1};var o=r(97825);let a=i.createContext({autosuggestType:null,isFileSearchEnabled:null,helperQueriesLoggedOutVariation:null,focusedExperienceVariant:null,getAppVariant:null,getDefaultSearchVariant:null,floatingSignupProps:s}),c=e=>{let t,{children:r,autosuggestType:i,isFileSearchEnabled:c,helperQueriesLoggedOutVariation:u,focusedExperienceVariant:d,getAppVariant:h,getDefaultSearchVariant:m,floatingSignupProps:v}=e,p=(0,o.usePathname)(),x="/"===p||p.startsWith("/?");return t=x||p.startsWith("/search")||p.startsWith("/discover")?v&&x?v:s:l,(0,n.jsx)(a.Provider,{value:{autosuggestType:x?i:null,isFileSearchEnabled:c,helperQueriesLoggedOutVariation:u,focusedExperienceVariant:d,getAppVariant:h,getDefaultSearchVariant:m,floatingSignupProps:t},children:r})},u=()=>{let e=i.useContext(a);if(!e)throw Error("useExperimentalProps must be used within a ExperimentalPropsProvider");return e}},85271:function(e,t,r){"use strict";r.r(t);var n=r(53854),i=r(37462),s=r.n(i),l=r(92225),o=r(20981),a=r(22571),c=r(88121);let u=o.memo(e=>{let{blockCount:t,size:r=c.$u.large,animateLines:i=!0,divider:u,noLines:d,noHeight:h,className:m,...v}=e,p="h-1 bg-textOff dark:bg-textOffDark rounded-full",x=(0,o.useMemo)(()=>{let e=[];for(let o=0;o<(null!=t?t:1);o++)e.push((0,n.jsx)(a.ZP,{variant:"offset",className:s()("animate-pulse rounded-md",{"h-8":r===c.$u.small,"h-[72px]":r===c.$u.large,"h-24":r===c.$u.xl,"h-6":r===c.$u.tiny,"h-full":h}),children:(0,n.jsx)("div",{className:"p-md gap-y-sm flex h-full flex-col",children:!d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.E.div,{initial:{width:i?0:"100%"},animate:{width:"100%"},transition:{duration:.8,delay:.2},className:p}),(0,n.jsx)(l.E.div,{initial:{width:i?0:"100%"},animate:{width:"100%"},transition:{duration:.8,delay:.2},className:p}),(0,n.jsx)(l.E.div,{initial:{width:i?0:"80%"},animate:{width:"80%"},transition:{duration:.8,delay:.2},className:p}),(0,n.jsx)(l.E.div,{initial:{width:i?0:"20%"},animate:{width:"20%"},transition:{duration:.8,delay:.2},className:p})]})})},o));return e},[i,t,r,d,h]);return(0,n.jsx)(a.ZP,{className:s()("h-full",{"gap-y-sm divider flex flex-col":u,"absolute top-0 w-full":h},m),...v,children:x})});t.default=u},96910:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(53854),i=r(37462),s=r.n(i),l=r(20981),o=r(22571),a=r(99484),c=r(78654),u=r(49039),d=r(2279),h=r(92508);function m(e){let{result:t,imageURL:r,citationNumber:i}=e,l=t.url.startsWith("https://pplx-res.cloudinary.com/"),o=s()(" w-full relative ");return(0,n.jsxs)("div",{className:o,children:[(0,n.jsx)(d.Z,{includeLightBoxModal:l,useNextImage:!1,alt:t.name,containerClassName:"w-full h-full p-xs",imageClassName:"object-cover object-center w-full h-full rounded-md",src:r}),(0,n.jsx)(h.Z,{className:"bottom-sm left-sm px-xs absolute z-[1] inline-flex rounded-sm bg-black/50",variant:"tiny",color:"white",children:i})]})}var v=r(45659);function p(e){let{result:t,citationNumber:r,isExpanded:i,additionalMetadata:l}=e,o=t.url,a=t.snippet;return(0,n.jsxs)("div",{className:s()("items gap-xs pointer-events-none relative z-10 flex h-full max-w-full select-none flex-col justify-between",{"px-sm pt-sm pb-sm":!i},{"p-md":i}),children:[(0,n.jsxs)(h.Z,{variant:i?"base":"tiny",className:"line-clamp-3 text-left",children:[i&&(0,n.jsxs)(h.Z,{inline:!0,color:"light",variant:"baseSemi",children:[r,"."]})," ",t.name||(0,n.jsx)("div",{children:"\xa0"})]}),(0,n.jsxs)("div",{className:"space-x-xs flex items-center",children:[(0,n.jsx)(v.P,{variant:"tiny",color:"light",url:o,isAttachment:t.is_attachment}),l||(i?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{variant:"tiny",color:"light",children:"\xb7"}),(0,n.jsx)(h.Z,{variant:"tiny",color:"light",children:r})]}))]}),i&&a&&(0,n.jsx)(h.Z,{variant:"small",className:"mt-two line-clamp-4",children:a})]})}function x(e){let{result:t,imageURL:r,citationNumber:i,authors:l}=e,o=t.url;return(0,n.jsxs)("div",{className:s()("p-sm pb-xs flex h-full max-h-[190px] flex-col"),children:[r?(0,n.jsx)("div",{className:"mb-sm relative h-[90px] grow",children:(0,n.jsx)(d.Z,{includeLightBoxModal:!1,useNextImage:!1,alt:t.name,containerClassName:"w-full h-full",imageClassName:"object-cover object-center w-full h-full  rounded-md",src:r})}):null,(0,n.jsxs)("div",{className:"flex grow flex-col",children:[(0,n.jsx)(h.Z,{variant:"tiny",className:s()("text-left",{"line-clamp-2":!!r}),children:t.name}),l&&l.length>0?(0,n.jsx)(h.Z,{color:"light",variant:"tiny",className:"mt-two text-left capitalize",children:l.join(", ")}):null,(0,n.jsxs)("div",{className:"space-x-xs flex items-center",children:[(0,n.jsx)(v.P,{variant:"tiny",color:"light",url:o,isAttachment:t.is_attachment}),(0,n.jsx)(h.Z,{variant:"section-title",color:"light",children:"\xb7"}),(0,n.jsx)(h.Z,{variant:"tiny",color:"light",children:i})]})]})]})}var f=e=>{var t,r,i,d;let{result:h,idx:v,isExpanded:f=!1,isSelected:g,testId:j,additionalMetadata:k,isTrendingLayout:M=!1,trackEvent:L}=e,b=h.url,y=(0,l.useMemo)(()=>(0,a.k8)(b),[b]),[C,Z]=(0,l.useState)(!1),w=b.startsWith("https://pplx-res.cloudinary.com/")?b:null,N=!!w,S=!y&&!h.is_attachment&&!N,_=M&&(null===(t=h.meta_data)||void 0===t?void 0:t.client)==="trending",V=(0,n.jsx)(p,{result:h,citationNumber:v+1,isExpanded:f,additionalMetadata:k});return _?V=(0,n.jsx)(x,{result:h,authors:null===(r=h.meta_data)||void 0===r?void 0:r.authors,imageURL:null===(d=h.meta_data)||void 0===d?void 0:null===(i=d.images)||void 0===i?void 0:i[0],citationNumber:v+1}):N&&(V=(0,n.jsx)(m,{result:h,imageURL:w,citationNumber:v+1})),(0,n.jsx)(u.Q,{result:h,children:(0,n.jsx)("div",{onClick:()=>{y&&Z(!0),L("click citation",{source:"sourceCard",citation_url:b})},className:s()("group relative flex h-full min-h-[60px] w-full items-stretch",{"h-auto":f}),"data-test-id":j,children:(0,n.jsxs)(o.ZP,{variant:"offset",bgHover:S?"offsetPlus":void 0,className:s()("flex w-full rounded-lg",{"ring-super/80 dark:ring-super/80 bg-super/10 hover:!bg-super/10 dark:bg-super/20 dark:hover:!bg-super/20 ring-1":g}),children:[V,y&&(0,n.jsx)(c.u,{url:b,name:"",isOpen:C,setisOpen:Z})]},h.name)})})}},49039:function(e,t,r){"use strict";r.d(t,{Q:function(){return a}});var n=r(53854),i=r(20981),s=r(37462),l=r.n(s),o=r(99484);function a(e){let{className:t,children:r,result:s,...a}=e,c=(0,i.useMemo)(()=>(0,o.s6)(s),[s]),u=l()("group flex w-full cursor-pointer items-stretch h-full",t);return c?(0,n.jsx)("a",{className:u,href:s.url,target:"_blank",rel:"noopener nofollow",...a,children:(0,n.jsx)("div",{className:"w-full",children:r})}):(0,n.jsx)(n.Fragment,{children:r})}},45659:function(e,t,r){"use strict";r.d(t,{P:function(){return m}});var n=r(53854),i=r(60918),s=r(64980),l=r(37462),o=r.n(l),a=r(20981),c=r(22571),u=r(92508),d=r(99484),h=r(97852);let m=a.memo(e=>{let{url:t,text:r,isAttachment:l,variant:m="small",color:v="default",truncate:p=!0,className:x,...f}=e,g=(0,a.useMemo)(()=>l?"File":(0,d.C$)(t),[l,t]);return(0,n.jsxs)(c.ZP,{className:"gap-x-xs flex items-center",children:[(0,n.jsx)("div",{className:"relative flex-none",children:l?(0,n.jsx)(u.Z,{variant:m,color:v,children:(0,n.jsx)(s.G,{icon:i.gM})}):(0,n.jsx)(h.D,{domain:g})}),(0,n.jsx)(u.Z,{variant:m,color:v,className:o()("line-clamp-1 break-all transition-all duration-300",{"max-w-[150px]":null!=r&&p},x),...f,children:null!=r?r:g.replace(/\.[^.]*$/,"")})]})})},97852:function(e,t,r){"use strict";r.d(t,{D:function(){return l}});var n=r(53854),i=r(37462),s=r.n(i);let l=r(20981).memo(e=>{let{domain:t,size:r=16,className:i,...l}=e;return(0,n.jsxs)("div",{className:s()("relative overflow-hidden rounded-full",i),...l,children:[(0,n.jsx)("div",{className:"absolute inset-px rounded-full bg-white"}),(0,n.jsx)("img",{className:"relative block",src:"https://www.google.com/s2/favicons?sz=128&domain=".concat(t),alt:"".concat(t," favicon"),width:r,height:r,style:{width:r,height:r}}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 rounded-full border border-[black]/10 dark:border-transparent"})]})})},56495:function(e,t,r){"use strict";var n=r(53854),i=r(12269),s=r(37462),l=r.n(s),o=r(10503),a=r(20578),c=r(20981),u=r(99484),d=r(45659),h=r(78654),m=r(92508),v=r(49039);let p="\ntext-default text-left hover:text-super hover:dark:text-superDark focus:text-super mb-xs transition-color line-clamp-2 cursor-pointer font-sans text-sm font-medium duration-150\n";t.Z=e=>{var t;let{children:r,className:s,contentProps:x,linkProps:f,result:g,timestampComponent:j}=e,[k,M]=(0,c.useState)(),[L,b]=(0,c.useState)(!1),y=!!(0,u.k8)(g.url),C=!!(0,u.fM)(g.url),Z=(0,o.J)(),w=null===(t=g.meta_data)||void 0===t?void 0:t.authors;(0,a.L)(()=>{M(document.querySelector("main"))},[]);let N=(0,c.useMemo)(()=>(0,u.s6)(g),[g]),S=!C||j;return(0,n.jsx)(i.zt,{delayDuration:200,children:(0,n.jsxs)(i.fC,{children:[(0,n.jsx)(i.xz,{className:s,children:r}),(0,n.jsx)(i.h_,{container:k,children:(0,n.jsx)(i.VY,{className:l()("z-20",{"data-[state=delayed-open]:animate-slideUpAndFadeIn data-[state=closed]:animate-slideDownAndFadeOut":!Z}),side:"bottom",sideOffset:8,...x,children:(0,n.jsxs)("div",{className:"bg-background dark:bg-backgroundDark px-md py-sm p-xs dark:border-borderMainDark w-80 rounded-md border shadow-lg",children:[(0,n.jsxs)("div",{className:"gap-sm flex flex-col",children:[S&&(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[!C&&(0,n.jsx)(d.P,{className:"text-right",variant:"tiny",color:g.url&&(0,u.fM)(g.url)?"white":"light",url:g.url,isAttachment:g.is_attachment}),j]}),y?(0,n.jsx)("button",{className:p,onClick:()=>{b(!0)},children:g.name}):N?(0,n.jsx)(v.Q,{className:p,result:g,...f,children:g.name}):(0,n.jsx)("span",{className:"text-default mb-xs line-clamp-2 text-left font-sans text-sm",children:g.name})]}),w?(0,n.jsx)(m.Z,{color:"light",variant:"small",className:"line-clamp-3",children:w.join(", ")}):null,g.snippet?(0,n.jsx)(m.Z,{variant:"small",className:"line-clamp-4",children:g.snippet}):null]})})}),y&&(0,n.jsx)(h.u,{isOpen:L,name:g.name,setisOpen:b,url:g.url})]})})}},10158:function(e,t,r){"use strict";r.d(t,{r:function(){return d}});var n=r(53854),i=r(37462),s=r.n(i),l=r(20981),o=r(22571),a=r(92508),c=r(99484),u=r(97852);let d=e=>{let{result:t,idx:r,trackEvent:i,...d}=e,h=t.url,m=(0,l.useMemo)(()=>(0,c.C$)(h),[h]),v=t.snippet;return(0,n.jsx)("a",{className:"group flex h-full min-h-[60px] cursor-pointer items-stretch",href:h,onClick:()=>{i("click citation",{source:"sourceCard",citation_url:h})},target:"_blank",rel:"noopener",...d,children:(0,n.jsx)(o.ZP,{variant:"offset",bgHover:"offsetPlus",className:s()("p-sm flex h-full w-full items-center rounded-lg",{}),children:(0,n.jsxs)("div",{className:"gap-sm flex items-center",children:[(0,n.jsx)(o.ZP,{className:"flex-none rounded-full border",children:(0,n.jsx)(u.D,{size:v?44:32,domain:m})}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:s()("flex items-center",{}),children:(0,n.jsxs)("div",{className:"mt-xs",children:[(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex items-baseline",children:[(0,n.jsx)(a.Z,{variant:"baseSemi",color:"super",className:"line-clamp-1",children:t.name}),(0,n.jsx)(a.Z,{variant:"tiny",color:"light",className:"mx-xs inline-block",children:" \xb7 "}),(0,n.jsx)(a.Z,{variant:"tiny",color:"light",className:"",children:m})]})}),(0,n.jsx)(a.Z,{variant:"tiny",color:"light",className:"line-clamp-2",children:v})]})})})]})},t.name)},r)}},98548:function(e,t,r){"use strict";r.d(t,{N:function(){return c}});var n=r(53854),i=r(64980),s=r(20981),l=r(28574),o=r(92508),a=r(22571);function c(e){let{children:t,recentlyUpdatedDiff:c=3e5,recentlyUpdatedLabel:u,timestamp:d,timestampProps:h}=e,[m,v]=(0,s.useState)(null),[p,x]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{d&&async function(){let{DateTime:e}=await r.e(9702).then(r.bind(r,96521)),t=e.fromISO(d,{zone:"UTC"});v(t.toRelative()),e.utc().diff(t).toMillis()<c&&x(!0)}()},[c,d]),m)?(0,n.jsxs)(a.ZP,{className:"gap-x-sm flex",children:[(0,n.jsx)(o.Z,{variant:"tiny",color:"super",children:(0,n.jsx)(i.G,{icon:l.BD})}),(0,n.jsxs)(o.Z,{variant:"tiny",...h,children:[t&&(0,n.jsxs)(n.Fragment,{children:[t," "]}),(0,n.jsx)("time",{dateTime:d,children:u&&p?u:m})]})]}):null}},95056:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var n=r(42994);class i{static get userPreferredColorScheme(){return n.Z.get(this.PREFERRED_COLOR_SCHEME_COOKIE)}static set userPreferredColorScheme(e){n.Z.set(this.PREFERRED_COLOR_SCHEME_COOKIE,e,{expires:400}),localStorage.setItem(this.PREFERRED_COLOR_SCHEME_COOKIE,e)}static removeUserPreferredColorScheme(){n.Z.remove(this.PREFERRED_COLOR_SCHEME_COOKIE),localStorage.removeItem(this.PREFERRED_COLOR_SCHEME_COOKIE)}static get isSystemScheme(){return!0!=!!this.userPreferredColorScheme}static get colorScheme(){return this.isSystemScheme?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":this.userPreferredColorScheme}}i.PREFERRED_COLOR_SCHEME_COOKIE="colorScheme"},66795:function(e,t,r){"use strict";r.d(t,{Z:function(){return i},w:function(){return n}});let n={internet:"internet",reddit:"reddit",wolfram:"wolfram",scholar:"scholar",youtube:"youtube",writing:"writing",finance:"finance"},i={personal:"personal",team:"team"}},34838:function(e,t,r){"use strict";var n,i,s,l;r.d(t,{Nl:function(){return d},Om:function(){return h},Wi:function(){return p},XJ:function(){return n},Xc:function(){return i},gO:function(){return f},hT:function(){return v},hf:function(){return m},i5:function(){return c},mF:function(){return u},rj:function(){return x},xL:function(){return a},yM:function(){return o}});let o=5;function a(){return[1,2,5,3,4]}function c(){return[11,12,15,13]}function u(e){return 4===e||6===e}function d(e){return 6===e}function h(e){return e>=3&&e<11&&5!==e}function m(e){return e>=2&&e<11}function v(e){return e>=1&&e<11}function p(e){return 0===e}function x(e){return c().includes(e)}function f(e){let t=e.owner_user,r=e.contributor_users,n=[],i=[],s=c();return null==r||r.forEach(e=>{e.permission&&s.includes(e.permission)?n.push(e):i.push(e)}),{ownerUser:t,contributorUsers:i,invitedUsers:n}}(s=n||(n={}))[s.NONE=0]="NONE",s[s.READER=1]="READER",s[s.WRITER=2]="WRITER",s[s.EDITOR=5]="EDITOR",s[s.ADMIN=3]="ADMIN",s[s.OWNER=4]="OWNER",s[s.OWNER_DEFAULT_BOOKMARKS=6]="OWNER_DEFAULT_BOOKMARKS",s[s.INVITED_READER=11]="INVITED_READER",s[s.INVITED_WRITER=12]="INVITED_WRITER",s[s.INVITED_EDITOR=15]="INVITED_EDITOR",s[s.INVITED_ADMIN=13]="INVITED_ADMIN",(l=i||(i={})).PageAccessNotAllowed="pageAccessNotAllowed",l.ThreadAccessNotAllowed="threadAccessNotAllowed",l.InvalidThread="invalidThread",l.ThreadExpired="threadExpired",l.CollectionAccessNotAllowed="collectionAccessNotAllowed",l.InvalidCollection="invalidCollection",l.SubscriptionAlreadyActive="subscriptionAlreadyActive"},51975:function(e,t,r){"use strict";r.d(t,{e:function(){return n}});class n extends Date{getTimezoneOffset(){return 0}constructor(e){let t=e?new Date(e):new Date;super(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}}},99484:function(e,t,r){"use strict";function n(e){let t=e.match(/(?:https?:\/\/)?(?:www\.)?([a-zA-Z0-9-]+(?:\.[a-zA-Z]{2,})+)/);return t&&t.length>1?t[1]:"unknown"}function i(e){let t=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11==t[2].length?t[2]:null}r.d(t,{C$:function(){return n},fM:function(){return l},k5:function(){return s},k8:function(){return i},s6:function(){return o}});let s=e=>e.indexOf("unsplash.com")>-1;function l(e){return e.startsWith("https://pplx-res.cloudinary.com/")}function o(e){return!e.is_attachment&&!i(e.url)&&!l(e.url)}},20904:function(e,t,r){"use strict";r.d(t,{W:function(){return i}});var n=r(51975);class i{static isRecentlyTrending(e){var t,r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:432e5;return(null===(t=e.meta_data)||void 0===t?void 0:t.client)==="trending"&&new Date().getTime()-new n.e(null===(r=e.meta_data)||void 0===r?void 0:r.published_date).getTime()<i}}},78654:function(e,t,r){"use strict";r.d(t,{u:function(){return a}});var n=r(53854),i=r(20981),s=r(40586),l=r(69192),o=r(99484);let a=e=>{let{url:t,name:r,isOpen:a,setisOpen:c,modalProps:u,timestamp:d}=e,h=t?(0,o.k8)(t):void 0;return((0,i.useEffect)(()=>{a&&h&&setTimeout(()=>{document.getElementsByClassName("lty-playbtn")[0].click()},300)},[a,h]),h)?(0,n.jsx)(l.Z,{isOpen:a,onClose:()=>c(!1),actionList:[],variant:"hide-chrome",overlayVariant:"lightbox",...u,children:(0,n.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,n.jsx)("div",{className:"aspect-video max-h-[95vh] w-[95vw] overflow-hidden rounded-2xl shadow-lg md:w-[80vw]",children:h&&(0,n.jsx)(s.Z,{title:r,id:h,params:d?"start=".concat(d):""})})})}):null}},77594:function(e,t,r){"use strict";r.d(t,{H:function(){return n}});let n=r(45038).Hn},37738:function(e,t,r){"use strict";r.d(t,{r:function(){return n}});let n=r(45038).rw},73358:function(e,t,r){"use strict";r.d(t,{n:function(){return y}});var n=r(63292);let i=n.z.object({step_type:n.z.literal("INITIAL_QUERY"),content:n.z.object({query:n.z.string()}),uuid:n.z.string()}),s=n.z.literal("MAX_STEPS_EXCEEDED"),l=n.z.object({step_type:n.z.literal("TERMINATE"),content:n.z.object({goal_id:n.z.string().nullable(),reason:n.z.string().optional(),error:s.nullable()}),uuid:n.z.string()}),o=n.z.object({query:n.z.string(),engine:n.z.string()}),a=n.z.object({step_type:n.z.literal("SEARCH_WEB"),content:n.z.object({goal_id:n.z.string().nullable().optional(),queries:n.z.array(o)}),uuid:n.z.string()}),c=n.z.object({name:n.z.string(),url:n.z.string(),snippet:n.z.string(),is_attachment:n.z.boolean()}),u=n.z.object({step_type:n.z.literal("SEARCH_RESULTS"),content:n.z.object({goal_id:n.z.string().nullable().optional(),web_results:n.z.array(c)}),uuid:n.z.string()}),d=n.z.object({step_type:n.z.literal("CODE"),content:n.z.object({goal_id:n.z.string().nullable(),script:n.z.string(),final:n.z.boolean(),output:n.z.string().optional(),images:n.z.array(n.z.string()).optional(),error:n.z.string().optional(),stdout:n.z.string().optional(),stderr:n.z.string().optional(),status:n.z.literal("generating").or(n.z.literal("executing")).or(n.z.literal("success")).or(n.z.literal("error"))}),uuid:n.z.string()}),h=n.z.object({step_type:n.z.literal("ATTACHMENT"),content:n.z.object({attachments:n.z.array(n.z.object({name:n.z.string(),url:n.z.string()}))}),uuid:n.z.string()}),m=n.z.object({id:n.z.string(),value:n.z.string()}),v=n.z.object({type:n.z.literal("PROMPT_CHECKBOX"),content:n.z.object({description:n.z.string(),options:n.z.array(m)}),uuid:n.z.string()}),p=n.z.object({type:n.z.literal("PROMPT_TEXT"),content:n.z.object({description:n.z.string(),placeholder:n.z.string()}),uuid:n.z.string()});n.z.union([p,v]);let x=n.z.object({step_type:n.z.literal("PROMPT_INPUT"),content:n.z.object({inputs:n.z.array(n.z.union([p,v]))}),uuid:n.z.string()}),f=n.z.object({type:n.z.literal("USER_CHECKBOX"),content:n.z.object({options:n.z.array(m)}),uuid:n.z.string()}),g=n.z.object({type:n.z.literal("USER_TEXT"),content:n.z.object({text:n.z.string()}),uuid:n.z.string()}),j=n.z.union([g,f]),k=n.z.object({step_type:n.z.literal("USER_INPUT"),content:n.z.array(j),uuid:n.z.string()}),M=n.z.object({step_type:n.z.literal("USER_SKIP"),content:n.z.array(j),uuid:n.z.string()}),L=n.z.object({step_type:n.z.literal("USER_REGENERATE"),content:n.z.array(n.z.string()),uuid:n.z.string()}),b=n.z.object({step_type:n.z.literal("FINAL"),content:n.z.object({answer:n.z.string().optional(),web_results:n.z.array(c).optional()}),uuid:n.z.string()}),y=n.z.discriminatedUnion("step_type",[i,l,a,u,d,h,x,k,M,L,b])},91043:function(e){e.exports={confirmDialog:"ModalConfirmStep_confirmDialog__YdncG"}}}]);