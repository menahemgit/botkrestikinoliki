!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="97220df3-b94d-4293-b925-c93c04a678d5",e._sentryDebugIdIdentifier="sentry-dbid-97220df3-b94d-4293-b925-c93c04a678d5")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3483],{14934:function(e,t,n){Promise.resolve().then(n.bind(n,62519))},62519:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eY}});var i=n(53854),l=n(20981),s=n(97825),r=n(64980),a=n(60359),o=n(53118),c=n(89890),d=n(55752),u=n(30947),m=n(48812),h=n(92508),x=n(34838),f=e=>{let{currentCollection:t,size:n,handleCollectionChange:l,viewOnly:s}=e,f=(0,a.useTranslations)("shared");if(s&&!t)return null;let p=(0,i.jsxs)(h.Z,{variant:"small"===n?"tiny":"smallBold",color:"light",className:"flex cursor-pointer select-none items-center gap-x-xs px-sm py-xs transition duration-300 hover:opacity-70",children:[(0,i.jsx)(r.G,{icon:m.r8}),(0,i.jsx)("span",{className:"whitespace-nowrap",children:f("collection")})]});return(0,i.jsx)("div",{children:t?t?(0,i.jsx)(o.default,{href:"/collections/".concat(t.slug),children:(0,i.jsxs)(h.Z,{variant:"small"===n?"tiny":"smallBold",className:"flex cursor-pointer select-none items-center gap-x-xs px-sm py-xs transition duration-300 hover:opacity-70",children:[(0,x.Nl)(t.user_permission)?(0,i.jsx)(r.G,{icon:u.xV,className:"mr-xs text-textMain",size:"sm"}):(0,i.jsx)(d.B,{unified:t.emoji,size:"tiny"}),(0,i.jsx)("span",{className:"overflow-hidden truncate text-ellipsis",children:(0,c.Y)(t,f)})]})}):null:(0,i.jsx)("div",{onClick:s?void 0:l,children:p})})},p=n(51404),v=n(56446),g=n(35694),y=n(13822),b=n(87159),w=n(53458),k=n(40980),j=n(77301),C=n(56482),U=n(43649),N=n(33465),D=n(98510),_=n(86096),I=n(32499),S=n(95500),M=n(24307),P=n(92233),T=n(93740),F=n(88280);function R(e){let{utcTimestamp:t}=e,n=function(e){let t=(0,a.useTranslations)("threads.entry.expiration"),n=+new Date,i=(0,l.useMemo)(()=>+new Date(e+"Z"),[e])-n;return i<0?null:i>864e5?t("expiresInDays",{days:Math.floor(i/864e5)}):i>36e5?t("expiresInHours",{hours:Math.floor(i/36e5)}):t("expiresInMinutes",i>6e4?{minutes:Math.floor(i/6e4)}:{minutes:1})}(t);return n?(0,i.jsxs)(h.Z,{variant:"tiny",color:"light",className:"flex cursor-default items-center gap-x-xs",children:[(0,i.jsx)(r.G,{icon:F.yZ}),(0,i.jsx)("span",{className:"truncate",suppressHydrationWarning:!0,children:n})]}):null}var E=n(60463),L=n(42066),Z=n(9178),z=n(22571),O=n(78113),H=()=>{let{firstResult:e,socialStats:t}=(0,_.a0)();if(!(null==e?void 0:e.backend_uuid))return null;let n=t&&t.viewCount>0,l=t&&t.forkCount>0;return n||l?(0,i.jsxs)(z.ZP,{className:"flex items-center gap-x-sm",children:[n&&(0,i.jsxs)(h.Z,{variant:"tiny",color:"light",className:"flex items-center gap-x-xs",children:[(0,i.jsx)(r.G,{size:"sm",fixedWidth:!0,icon:Z.Md}),(0,i.jsx)("div",{children:(0,O.uf)(t.viewCount)})]}),l&&(0,i.jsxs)(h.Z,{variant:"tiny",color:"light",className:"flex items-center gap-x-xs",children:[(0,i.jsx)(r.G,{size:"sm",fixedWidth:!0,icon:L.MD}),(0,i.jsx)("div",{children:(0,O.uf)(t.forkCount)})]})]}):null},A=n(88121);let q=(0,S.default)(()=>Promise.all([n.e(812),n.e(3562),n.e(9702),n.e(3101),n.e(9177),n.e(219),n.e(5240),n.e(7514),n.e(8320),n.e(4596),n.e(6420),n.e(8263)]).then(n.bind(n,96420)).then(e=>e.TimeAgoTooltip),{loadableGenerated:{webpack:()=>[96420]},ssr:!1}),V=l.memo(e=>{let{focus:t,authorUsername:n,threadAccess:l,authorImage:s}=e,{threadMetadata:r}=(0,_.a0)(),a=!n,o=(0,P.k)(),{locale:c}=(0,M.z)();return(0,i.jsxs)("div",{className:"flex items-center gap-x-md",children:[!a&&(0,i.jsx)(z.ZP,{className:"hidden rounded-full md:block",children:(0,i.jsx)(T.Z,{image:null!=s?s:void 0,username:null!=n?n:void 0,showAvatar:!0,showCreatorLabel:!1,showEdit:!1,isCurrentUser:!1})}),null!==t&&"internet"!==t&&(0,i.jsx)(z.ZP,{className:"hidden rounded-full md:block",children:(0,i.jsx)(E.Z,{textVariant:"smallBold",focus:t})}),!a&&(null!=l?l:0)>=A.uv.PUBLIC_READ&&(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)(H,{})}),r.expiry_time?(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)(R,{utcTimestamp:r.expiry_time})}):(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)(q,{timestamp:r.updated_datetime,layoutType:"bottom",translations:o,style:"narrow",locale:c})})]})});var B=n(80407),G=n(74135),Q=n(82121),K=n(2889),W=n(14068),J=n(82855),X=n(97455),Y=n(47285),$=n(43508);let ee=l.memo(e=>{var t;let{descriptionText:n,sharableURL:l}=e,{openModal:s}=(0,D.useModalState)(),r=(0,X.f)(),o=(0,N.lG)(),c=(0,G.useQueryClient)(),{threadMetadata:d}=(0,_.a0)(),u=d.rwToken,m=d.frontendContextUUID,x=d.contextUUID,f=null!==(t=d.thread_access)&&void 0!==t?t:Y.k6,p=(0,K.O)(),v=(0,a.useTranslations)("search.thread"),g=e=>{e!==f&&(o?null!=x&&null!=u&&p(x,e,u,e=>{c.setQueryData(["results"],t=>{if(!t||!m)return;let n=t[m];return{...t,[m]:n.map(t=>({...t,thread_access:e}))}})}):s("loginModal",{pitchMessage:{title:v("shareLogin",{threads:"Threads"}),description:v("shareDescription",{threads:"Threads",collections:"Collections"})},origin:A.FM.SHARE_DROPDOWN}))},y=(0,J.o)({currentAccessLevel:f,onClick:g,isCollection:!1}),b=y[f],w=f>A.uv.PRIVATE_READ,k=(0,i.jsxs)("div",{className:"p-sm",children:[null!=u&&(0,i.jsxs)("div",{children:[(0,i.jsx)(h.Z,{variant:"baseSemi",children:v("viewAccess")}),(0,i.jsx)($.Z,{choices:y})]}),(0,i.jsx)(Q.Z,{descriptionText:n,shareHref:l,isSharable:w,maybeContextUUID:d.contextUUID,hasMounted:r,icon:null==b?void 0:b.icon})]});return(0,i.jsx)(W.Z,{isSharable:w,hasMounted:r,shareHref:l,EditorDropDownContent:k,icon:null==b?void 0:b.icon,onClick:()=>g(A.uv.PUBLIC_READ),maybeContextUUID:d.contextUUID})});var et=n(37462),en=n.n(et);let ei=l.memo(e=>{let{visible:t,tweetDescriptionText:n,threadSharedSlug:s}=e,r=(0,X.f)(),[a,o]=(0,l.useState)("");(0,l.useEffect)(()=>{let{protocol:e,host:t}=window.location;o("".concat(e,"//").concat(t,"/search/").concat(s))},[s]);let c=(0,l.useMemo)(()=>encodeURIComponent(r?(0,O.RP)(decodeURIComponent(a)):""),[a,r]),d=(0,l.useMemo)(()=>null!=n?"Perplexity AI: ".concat(n):"Perplexity AI",[n]),u=(0,l.useMemo)(()=>en()("transition-all duration-300 opacity flex items-center gap-x-xs md:gap-x-0",{"opacity-0":!t,"opacity-100":t}),[t]);return(0,i.jsx)("div",{className:u,children:t&&(0,i.jsx)(ee,{descriptionText:d,sharableURL:c})})});var el=n(49705),es=n(70154),er=n(57626),ea=n(57790),eo=n(52898),ec=n(4009),ed=n(2355),eu=n(23005);let em=l.memo(e=>{var t,n,o,c,d;let{entryUUID:m,frontendContextUUID:S,collection:M,bookmarkState:P,isFirstResultPending:T}=e,[F,R]=(0,l.useState)(!1),E=(0,s.useRouter)(),L=(0,X.f)(),Z=(0,N.lG)(),{collections:H}=(0,b.l)(),q=(0,w.p)(),{searchTerm:G}=(0,I.p)(),Q=(0,y.J)(),{deleteThread:K}=(0,k.l)(),{openModal:W,closeModal:J}=(0,D.useModalState)(),{refetch:Y,addItemToSidebar:$}=(0,C.f)(),{removeThreadFromCollection:ee,swapThreadCollection:et,firstTimeBookmark:en}=(0,g.F)(),{threadMetadata:em}=(0,_.a0)(),{trackEvent:eh}=(0,j.WS)(),ex=(0,a.useTranslations)("search.thread"),ef=(0,a.useTranslations)("threadItem"),ep=(0,a.useTranslations)("article"),ev=(0,a.useTranslations)("shared"),{allowArticleCreation:eg}=(0,U.v)(),{isMobileStyle:ey}=(0,ec.d)(),eb=em.privacy_state===A.Jr.INCOGNITO,ew="BOOKMARKED"===P;(0,l.useEffect)(()=>{let e=em.title||em.first_query,t=em.thread_url_slug;q&&L&&e&&t&&!eb&&($({id:m,variant:"thread",title:e,permalink:"/search/".concat(t)}),Y())},[em,q,L,S,m,$,Y,eb]);let{checkShouldOpenLossAversion:ek,handleOpenLossAversion:ej}=(0,B.GK)(),eC=(0,l.useCallback)(()=>{ek()?ej({args:{origin:A.FM.NEW_THREAD_BUTTON}}):E.push("/")},[ek,ej,E]),eU=(0,l.useCallback)(()=>{eh("click back button",{}),eC()},[eC,eh]),eN=(0,l.useCallback)(()=>{eh("click logo",{}),eC()},[eC,eh]),eD=(0,l.useCallback)(()=>{m&&(eh("delete thread from search result page click",{entryUUID:m}),K({entryUUID:m,callback:()=>E.push("/")}))},[K,m,E,eh]),e_=(0,l.useCallback)(()=>{if(!Z){W("loginModal",{pitchMessage:{title:ex("headerLogin",{threads:"Threads"})},origin:A.FM.THREAD_BOOKMARK_BUTTON});return}if(ew||!m)return;eh("click add thread to collection",{contextUUID:em.contextUUID,isBookmark:!0});let e=H.find(e=>(0,x.Nl)(e.user_permission));if(void 0===e)en({entryUUID:m,frontendContextUUID:S});else{var t;et({entryUUID:m,newCollectionTitle:e.title,newCollectionUUID:e.uuid,newCollectionSlug:e.slug,newCollectionAccess:e.access,frontendContextUUID:S,newCollectionEmoji:null!==(t=e.emoji)&&void 0!==t?t:null,currentCollectionUUID:null,existingCollectionSlug:null,closeModal:()=>{}})}},[ew,m,eh,em.contextUUID,H,en,S,et,Z,ex,W]),eI=(0,l.useCallback)(e=>{var t,n;if("add"===e)eh("click add thread to collection",{contextUUID:em.contextUUID,isBookmark:!1});else{if(!S){console.error("frontendContextUUID is null");return}W("collectionSelectModal",{entryUUID:m,userCollections:H,currentCollection:M,searchTerm:null!==(t=em.first_query)&&void 0!==t?t:"",frontendContextUUID:S})}eh("click swap thread collection",{contextUUID:em.contextUUID,isFromBookmark:!!M&&(0,x.Nl)(M.user_permission),collectionUUID:null==M?void 0:M.uuid}),Z?0===H.length?Q.listUserCollections(e=>{if(0===e.length)W("collectionCreateOrEdit",{frontendContextUUID:S,existingCollection:null,searchTerm:G});else{var t;W("collectionSelectModal",{entryUUID:m,userCollections:e,currentCollection:M,searchTerm:null!==(t=em.first_query)&&void 0!==t?t:"",frontendContextUUID:S})}}):W("collectionSelectModal",{entryUUID:m,userCollections:H,currentCollection:M,searchTerm:null!==(n=em.first_query)&&void 0!==n?n:"",frontendContextUUID:S}):W("loginModal",{pitchMessage:{title:ex("headerLogin",{threads:"Threads"})},origin:A.FM.COLLECTIONS})},[eh,em.contextUUID,em.first_query,M,Z,S,W,m,H,ex,Q,G]),eS=(0,l.useCallback)(()=>{if(Z){R(!0);let e=(0,O.Mp)();eh("click convert thread to page",{oldContextUUID:em.contextUUID,newFrontendContextUUID:e});let t=new URLSearchParams({newFrontendContextUUID:e,existingResultsCacheUUID:S,existingContextBackendUUID:em.contextUUID}),n=new URL(window.location.href);n.pathname="page/new",n.search=t.toString();let i=n.toString();E.push(i)}else W("loginModal",{pitchMessage:{title:ep("loginPrompt",{page:"Page"})},origin:A.FM.THREAD_TO_ARTICLE})},[eh,Z,W,ep,E,S,em.contextUUID,R]),eM=e=>{var t;let n=null==M?void 0:M.uuid;if(!S||!m){console.error("missing frontendContextUUID or entryUUID");return}eh("click remove thread from collection",{contextUUID:null===(t=em.collection)||void 0===t?void 0:t.uuid,collectionUUID:n,isBookmark:"remove bookmark"===e}),ee({entryUUID:m,oldCollectionUUID:n,callback:J,frontendContextUUID:S})},eP=(!!q&&Z||null!=M)&&!eb,eT=(!!q&&Z||em.title!=el.i&&null!=em.title)&&!eb,eF=eP&&eT,eR=eg&&!ey&&!T&&!eb,eE=!T&&!eb&&L,eL=ey&&!T,eZ=(0,i.jsx)(ed.Z,{icon:ew?eo.xV:u.xV,size:"small",variant:ey?"common":"border",toolTip:ev(ew?"savedToBookmarks":"saveToBookmarks"),onClick:ew?()=>eM("remove bookmark"):e_});return(0,i.jsx)(z.ZP,{variant:"background",className:"sticky left-0 right-0 top-0 z-20 border-b md:mb-0 md:rounded-t-xl",children:(0,i.jsxs)("div",{className:"flex items-center justify-between gap-x-md px-md py-sm md:min-h-[53px]",children:[(0,i.jsxs)("div",{className:"flex items-center gap-x-sm md:hidden",children:[(0,i.jsx)(eu.Z,{onClick:eN,size:"small",variant:"mark"}),(0,i.jsx)(ed.Z,{variant:"common",size:"small",text:ev("new"),icon:es.faPlus,onClick:eU})]}),(0,i.jsx)("div",{children:em&&(0,i.jsx)(V,{focus:null!==(t=em.focus)&&void 0!==t?t:null,authorUsername:null!==(n=em.author_username)&&void 0!==n?n:null,threadAccess:null!==(o=em.thread_access)&&void 0!==o?o:0,authorImage:null!==(c=em.author_image)&&void 0!==c?c:null,expiryTime:em.expiry_time})}),(0,i.jsxs)("div",{className:"hidden max-w-md grow items-center justify-center gap-x-xs text-center md:flex",children:[eP&&(0,i.jsx)(f,{currentCollection:M,handleCollectionChange:()=>eI("add"),viewOnly:!Z||!q}),eF&&(0,i.jsx)(h.Z,{variant:"smallBold",color:"light",children:(0,i.jsx)(r.G,{icon:ea.D2})}),eT&&S&&(0,i.jsx)(el.Z,{title:em.title||em.first_query,contextUUID:em.contextUUID,rwToken:q,frontendContextUUID:S})]}),(0,i.jsxs)("div",{className:"flex items-center gap-x-sm",children:[(0,i.jsxs)("div",{className:"flex items-center gap-sm",children:[(0,i.jsx)(p.Z,{show:L&&!T&&Z,isBookmarked:ew,onDelete:eD,onAddToCollection:()=>eI("add"),onSwapCollection:()=>eI("swap"),onRemoveFromCollection:()=>eM("remove"),currentCollection:M,rwToken:q,type:eb?v.W.INCOGNITO_SEARCH:v.W.SEARCH}),eE&&!ey&&eZ,eR&&(0,i.jsx)(ed.Z,{text:ef("convertThreadtoArticle"),size:"small",icon:er.a_,onClick:eS,testId:"thread-article-create",variant:"border",isLoading:F,disabled:F})]}),eL&&(0,i.jsx)(ed.Z,{size:"small",variant:"primary",text:"Open in App",href:"/download-mobile",onClick:()=>{eh("clicked open in app button in mweb thread header",{})}}),eE&&ey&&eZ,(0,i.jsx)(ei,{visible:!!em.thread_url_slug,tweetDescriptionText:em.title||em.first_query,threadSharedSlug:null!==(d=em.thread_url_slug)&&void 0!==d?d:void 0})]})]})})});var eh=n(42946),ex=n(21062),ef=n(12496),ep=n(93406),ev=n(51577),eg=n(605),ey=n(78913),eb=n(69650),ew=n(92225),ek=n(87442),ej=n.n(ek);let eC=e=>{let{left:t,width:n,showStopButton:r,scrollToLatestEntry:o,showScrollButton:c,hasScrolled:d,setHasScrolled:u,existingFrontendContextUUID:m,moreThanOneResult:h,lastEntryUUID:x,isReadonly:f}=e,p=(0,a.useTranslations)("askInput"),v=(0,a.useTranslations)("shared"),g=(0,s.useSearchParams)(),y=null==g?void 0:g.get("q"),{submitQuery:b}=(0,eg.e)(),w=(0,s.useRouter)(),k=(0,N.lG)(),j=(0,ev.nO)(),{data:C}=(0,ex.useSession)(),{inFlight:U}=(0,_.a0)(),{isMobileStyle:D}=(0,ec.d)(),I=(0,l.useCallback)(e=>{let t=(0,O.Mp)();if(b({fork:f,rawQuery:e.query,copilotOverride:!!k&&void 0,attachments:e.attachments,collection:null,newFrontendContextUUID:f?t:null,existingFrontendContextUUID:f?null:m,promptSource:"user",querySource:"followup",timeFromFirstType:e.timeFromFirstType}),f){let e=new URLSearchParams({q:"pending",newFrontendContextUUID:t}),n=new URL(window.location.href);n.pathname="search/new",n.search=e.toString();let i=n.toString();w.push(i)}},[f,b,k,m,w]),{setUserInput:S,...M}=(0,ep.l)({clearInputOnSubmit:!0,onSubmit:ej()(I,1e3,{leading:!0})}),P=(0,l.useCallback)(()=>{null==j||j.emit("perplexity_terminate",{entry_uuid:x})},[x,j]);return((0,l.useEffect)(()=>{""!=y&&S("")},[y,S]),t<=0)?null:(0,i.jsx)(z.ZP,{style:{left:D?"0px":"".concat(t,"px"),width:D?"100%":"".concat(n,"px")},className:en()("pointer-events-none fixed z-10 grid-cols-12 gap-xl px-sm py-sm md:bottom-lg md:grid md:px-0",{"bottom-mobileNavHeight":C,"bottom-safeAreaInsetBottom":!C}),children:(0,i.jsxs)("div",{className:"pointer-events-auto md:col-span-8",children:[(0,i.jsx)(eb.M,{initial:!1,children:c&&!d&&h&&(0,i.jsx)(ew.E.div,{className:"mb-2 flex justify-center",initial:{opacity:0,y:5},animate:{opacity:1,y:0,transition:{delay:1,duration:.15,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.1,ease:"easeOut"}},children:(0,i.jsx)("div",{className:"inline-flex rounded-full bg-offset shadow-md dark:bg-offsetDark",children:(0,i.jsx)(ed.Z,{size:"small",variant:"common",icon:ey.r5,layout:"center",pill:!0,onClick:()=>{o(),u(!0)},toolTip:v("scrollToBottom")})})})}),(0,i.jsx)(ef.m,{...M,isFollowUp:!0,disabled:U,placeholder:D&&U?"":p("placeholderFollowUp"),submitWillFork:f,showStopButton:r,onStopButtonClick:P})]})})};var eU=n(40057),eN=n(16616),eD=n(70561),e_=n(93167),eI=n(54194),eS=n(72107),eM=n(38270),eP=n(78886),eT=n(39135),eF=n(67144),eR=n(94412);let eE=e=>{var t;let{submit:n,editQueryValue:s,setEditQueryValue:r,setIsEditingQuery:o,isEditingQuery:c,isFirstResult:d}=e,u=(0,a.useTranslations)("shared"),{trackEvent:m}=(0,eT.h)(),{isMobileStyle:x,isMobileUserAgent:f}=(0,ec.d)(),{isFailed:p,result:v,isReadonly:g,isSnapshotRender:y}=(0,eP.T)(),b=null==v?void 0:v.backend_uuid,w=null==v?void 0:v.frontend_context_uuid,k=null==v?void 0:v.query_str,j=(0,l.useCallback)(()=>{if(n){m("confirm edit query click",{entryUUID:b,newQuery:s});let e=(0,O.Mp)();n({rawQuery:s,existingEntryUUID:b,redoSearch:!0,collection:null,newFrontendContextUUID:g?e:null,existingFrontendContextUUID:g?null:w,promptSource:"user",querySource:"edit"})}},[n,m,s,b,w,g]),C=(0,l.useCallback)(()=>{r(null!=k?k:""),o(!1),m("cancel edit query click",{entryUUID:b})},[r,k,o,m,b]),U=(0,l.useCallback)(e=>{eF.t.isEnterKeyWithoutShift(e)&&(e.preventDefault(),j())},[j]),N=""===s,D=(null!==(t=null==k?void 0:k.length)&&void 0!==t?t:0)>200;return(0,i.jsx)("div",{className:en()({"my-md md:my-lg":!y,"my-md":y}),children:c?(0,i.jsx)("div",{className:"flex w-full",children:(0,i.jsx)("div",{className:"grow",children:(0,i.jsx)(eR.Z,{isMobileUserAgent:f,isMobileStyle:x,onKeyDown:U,autoFocus:!0,size:"large",wrapperClassName:"grow",value:s,onChange:e=>r(e.target.value),inlineEditBlock:(0,i.jsxs)("div",{className:"flex items-center gap-x-xs pl-sm",children:[(0,i.jsx)(ed.Z,{text:u("cancel"),size:"small",pill:!0,onClick:C}),(0,i.jsx)(ed.Z,{text:u("save"),pill:!0,variant:N?"common":"primary",size:"small",disabled:N,onClick:j})]})})})}):(0,i.jsx)(h.Z,{variant:D?"baseSemi":"entry-title",as:d?"h1":"div",className:en()("whitespace-pre-line break-words [word-break:break-word]",{"whitespace-pre-wrap":D}),children:p?(0,i.jsx)("div",{className:"flex items-center gap-x-sm",children:(0,i.jsx)("span",{children:null!=k?k:"Something went wrong..."})}):k})})};var eL=n(73889),eZ=n(20550),ez=n(73612);let eO=(0,S.default)(()=>Promise.all([n.e(812),n.e(3562),n.e(9177),n.e(4021),n.e(5593),n.e(5424),n.e(8320),n.e(6170),n.e(573)]).then(n.bind(n,50573)).then(e=>e.ThreadContent),{loadableGenerated:{webpack:()=>[50573]},loading:()=>(0,i.jsx)(eL.a,{})}),eH=(0,S.default)(()=>Promise.all([n.e(4021),n.e(207),n.e(6170),n.e(441)]).then(n.bind(n,60441)),{loadableGenerated:{webpack:()=>[60441]}}),eA=(0,l.forwardRef)((e,t)=>{var n,s;let{result:r,inFlight:o,showAnimations:c=!1,isLastResult:d=!1,isFirstResult:u=!1,isSnapshotRender:m,idx:h,submit:x,onRelatedButtonClick:f,onTextSelectClick:p,showSurvey:v=!1,onBotStep:g,deleteLast:y,isReadonly:b}=e,{isMobileStyle:w}=(0,ec.d)(),{trackEvent:k}=(0,eT.h)(),j=(0,l.useRef)(null),C=(0,l.useRef)(o),[U,N]=(0,l.useState)(!1),[D,_]=(0,l.useState)(null!==(s=null==r?void 0:r.query_str)&&void 0!==s?s:""),I=(0,l.useMemo)(()=>{var e;return r?(0,eN.c)(null!==(e=r.text)&&void 0!==e?e:""):[]},[r]),{data:S}=(0,ex.useSession)(),{getEppoBooleanVariation:M}=(0,eZ.DQ)(),P=(0,a.useTranslations)("shop"),T=(null==r?void 0:r.status)==="failed",F=(null==r?void 0:r.status)==="pending",R=null!=I&&I.length>0,E=!R||"FINAL"===I[I.length-1].step_type,L=null!=S&&null!==(n=S.user)&&void 0!==n&&!!n.id&&M({key:S.user.id,flag:"shop-widgets-in-search",subjectType:"user_nextauth_id",subjectAttributes:{visitorId:S.user.id,userEmail:S.user.email},defaultValue:!1}),Z=(0,l.useMemo)(()=>r?(0,O.EH)(r):null,[r]),H=(0,l.useMemo)(()=>{var e;return T?[]:null!==(e=null==r?void 0:r.media_items)&&void 0!==e?e:[]},[null==r?void 0:r.media_items,T]),A=!w&&E,q=(0,l.useMemo)(()=>H.filter(e=>"image"===e.medium||"map"===e.medium),[H]);(0,l.useEffect)(()=>{let e=u&&d,t=C.current&&!o;e&&t&&E&&(()=>{let e=setTimeout(()=>{k("engaged",{})},1e4);return()=>{clearTimeout(e)}})(),C.current=o},[o,u,E,d,k]);let V=q.length>0,B=(0,l.useCallback)(e=>{var t,n,i;x({existingEntryUUID:null!==(t=null==r?void 0:r.backend_uuid)&&void 0!==t?t:void 0,newFrontendContextUUID:null,existingFrontendContextUUID:null==r?void 0:r.frontend_context_uuid,deletedUrls:e,rawQuery:null!==(n=null==r?void 0:r.query_str)&&void 0!==n?n:"",existingUuid:null!==(i=null==r?void 0:r.uuid)&&void 0!==i?i:void 0,collection:null,promptSource:"user",querySource:"citation_modal"})},[x,null==r?void 0:r.backend_uuid,null==r?void 0:r.frontend_context_uuid,null==r?void 0:r.query_str,null==r?void 0:r.uuid]);return r?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{ref:t}),(0,i.jsx)("div",{ref:j}),(0,i.jsx)(eP.A,{idx:h,result:r,response:Z,inFlight:o,isReadonly:b,isPending:F,hasSteps:R,isCopilot:R,mediaItems:H,filteredMediaItems:q,isFailed:T,isFinalStep:E,isSnapshotRender:m,isLastResult:d,children:(0,i.jsx)(z.ZP,{className:en()("pb-lg",{"border-b":!d&&!m,"min-h-[54vh]":o&&d&&!m}),children:(0,i.jsxs)("div",{className:m?"":m?V?"md:grid grid-cols-12 gap-md":"":"md:grid grid-cols-12 gap-xl",children:[(0,i.jsxs)("div",{className:m?"":"col-span-8",children:[(0,i.jsx)(eE,{setEditQueryValue:_,isFirstResult:u,submit:x,setIsEditingQuery:N,isEditingQuery:U,editQueryValue:D}),(0,i.jsx)(eO,{isEntryInFlight:"pending"===r.status,onRelatedButtonClick:f,onTextSelectClick:p,showSurvey:v,onBotStep:g,deleteLast:y,localRef:j,showAnimations:c,submit:x,submitSourcesCuration:B,setIsEditingQuery:N,isEditingQuery:U,setEditQueryValue:_})]}),(0,i.jsx)("div",{className:m?"":"col-span-4",children:!m&&A&&(0,i.jsx)("div",{className:"sticky top-headerHeight mt-md flex max-h-[calc(100vh_-_74px)] flex-col pt-md",children:(0,i.jsxs)("div",{className:"-mx-md -mt-md min-h-0 flex-1 overflow-y-auto px-md pt-md scrollbar-thin scrollbar-track-transparent scrollbar-thumb-idle dark:scrollbar-thumb-idleDark",children:[r.widget_data&&(0,ez.qy)(r.widget_data)&&L?(0,i.jsx)("div",{className:"pb-sm",children:(0,i.jsx)(eM.v,{widgets:r.widget_data,section:null,title:P("overview"),sectionTitle:"",onAddProduct:()=>{}})}):null,(0,i.jsx)(eH,{isStreaming:F,showAnimations:c,showMediaButtons:r.widget_data&&!(0,ez.qy)(r.widget_data)})]})})})]})})})]}):(0,i.jsx)("div",{})});eA.displayName="ThreadEntry";var eq=n(68953),eV=e=>{var t,n,l,s;let{parentInfo:c}=e,d=(0,a.useTranslations)("threadItem"),u="article"===c.mode?"page":"search",m="";return(0,eq.rZ)(c)&&(null===(t=c.article_info)||void 0===t?void 0:t.title)?m=null!==(l=null===(n=c.article_info)||void 0===n?void 0:n.title)&&void 0!==l?l:"":"query_str"in c&&(m=null!==(s=c.query_str)&&void 0!==s?s:""),(0,i.jsx)(o.default,{href:"/".concat(u,"/").concat(c.thread_url_slug),children:(0,i.jsx)(z.ZP,{variant:"offset",bgHover:"offsetPlus",className:"flex justify-between rounded-lg p-md md:mt-md",children:(0,i.jsxs)("div",{className:"",children:[(0,i.jsxs)(h.Z,{color:"light",variant:"tiny",className:"mb-xs flex items-center gap-x-xs",children:[(0,i.jsx)(r.G,{icon:L.MD}),(0,i.jsx)("div",{children:d("followupTo")})]}),(0,i.jsx)(h.Z,{variant:"section-title",color:"light",className:"line-clamp-1 break-all",children:m})]})})})},eB=n(29290),eG=n(53085);let eQ=(0,S.default)({loader:()=>n.e(9559).then(n.bind(n,19559)),ssr:!1},{loadableGenerated:{webpack:()=>[19559]}}),eK=(0,S.default)({loader:()=>n.e(7889).then(n.bind(n,67889)),ssr:!1},{loadableGenerated:{webpack:()=>[67889]}}),eW=e=>{var t,n,s;let{}=e,r=(0,w.p)(),o=(0,e_.X)(),[c,{left:d,width:u}]=(0,eh.Z)(),{trackEvent:m}=(0,j.WS)(),{results:h=[],inFlight:x,inFlightLatest:f,lastResult:p,threadMetadata:v}=(0,_.a0)(),g=null!==(n=null==h?void 0:null===(t=h[0])||void 0===t?void 0:t.frontend_context_uuid)&&void 0!==n?n:"",y=(0,N.lG)(),{isMobileStyle:b}=(0,ec.d)(),{isIncognito:k}=(0,eI.useLocalUserSettings)(),{lossAversionStatus:C,setLossAversionStatus:U,unsetLossAversion:D}=(0,B.JK)(),{submitQuery:I,handleBotStep:S,deleteLastResult:M}=(0,eg.e)(),P=(0,a.useTranslations)("search.thread"),{setFocus:T,focus:F,isCopilot:R,setIsCopilot:E,gpt4Limit:L}=(0,eS.h)();(0,l.useEffect)(()=>{var e,t;T(null!==(t=null===(e=h[0])||void 0===e?void 0:e.search_focus)&&void 0!==t?t:"internet"),E(h.some(e=>"copilot"===e.mode)&&!!L&&L>0)},[]),(0,l.useEffect)(()=>{var e;T(null!==(e=v.focus)&&void 0!==e?e:F)},[v.focus]);let Z=(null==v?void 0:v.privacy_state)&&(k&&v.privacy_state!==A.Jr.INCOGNITO||!k&&v.privacy_state===A.Jr.INCOGNITO),H=(0,l.useMemo)(()=>!!(!r&&(0,O.vl)(h)||Z),[h,r,Z]),q=0===h.length||x,V=null!==(s=null==p?void 0:p.backend_uuid)&&void 0!==s?s:"",G=(0,l.useCallback)(e=>{I(e)},[I]),Q=(0,l.useCallback)(e=>{I(e)},[I]),{refs:K,scrollToLatestItem:W,showScrollButton:J,hasScrolled:X,setHasScrolled:Y,scrollToListItem:$}=(0,eD.$)({items:h,inFlight:x,inFlightLatest:f,rwToken:r}),ee=(0,l.useCallback)(e=>{e.existingEntryUUID?$(e.existingEntryUUID,!0):console.error("No existingEntryUUID provided, skipping scroll"),I(e)},[$,I]),et=(0,l.useMemo)(()=>{var e,t;let n=(0,eN.c)(null!==(t=null==p?void 0:p.text)&&void 0!==t?t:""),i=R&&(null===(e=n[n.length-1])||void 0===e?void 0:e.step_type)==="FINAL",l=!R&&null!=p&&!!p.text&&JSON.parse(p.text).answer;return h&&(i||l)&&(null==p?void 0:p.status)!=="completed"&&(null==p?void 0:p.backend_uuid)!==void 0&&x},[h,R,null==p?void 0:p.text,null==p?void 0:p.status,null==p?void 0:p.backend_uuid,x]);return(0,l.useEffect)(()=>{(null==h?void 0:h.length)>=1&&(null==p?void 0:p.status)==="completed"&&v.author_id&&v.author_username&&m("thread viewed",{authorId:v.author_id,authorUsername:v.author_username,isThreadCreator:!!r})},[m]),(0,l.useEffect)(()=>{"cooldown"!==C&&(y||C||!r?r||D():U("allowed"))},[y,C,r,U,D]),(0,eG.kw)(()=>{"allowed"===C&&D()}),(0,i.jsxs)("div",{className:"mx-auto h-full w-full max-w-threadWidth px-md pb-[144px] md:px-lg",children:[(0,i.jsxs)(z.ZP,{variant:"background",className:"relative",children:[v.parent_info&&(0,i.jsx)(eV,{parentInfo:v.parent_info}),(0,i.jsx)("div",{ref:c,children:h.map((e,t)=>{var n,s,r;let a=0===t,c=t===h.length-1;return(0,i.jsx)(l.Fragment,{children:(0,i.jsx)(eU.Z,{fallback:(0,i.jsx)("div",{className:"grid grid-cols-12",children:(0,i.jsx)(eB.o,{className:"col-span-full md:col-span-8",description:null!==(n=null==e?void 0:e.text)&&void 0!==n?n:P("errorDescription"),title:P("error")})}),children:(0,i.jsx)("div",{ref:K[t],children:(0,i.jsx)(eA,{idx:t,result:e,inFlight:x,isReadonly:H,showAnimations:q&&c,submit:ee,onRelatedButtonClick:G,onTextSelectClick:Q,isLastResult:c,isFirstResult:a,onBotStep:t=>S(e,t),showSurvey:!!o,deleteLast:c&&1!==h.length?()=>{var e;return M({frontendContextUUID:null===(e=h[0])||void 0===e?void 0:e.frontend_context_uuid})}:void 0})},null==e?void 0:e.backend_uuid)})},null!==(r=null!==(s=null==e?void 0:e.uuid)&&void 0!==s?s:null==e?void 0:e.backend_uuid)&&void 0!==r?r:t)})}),(0,i.jsx)(eC,{left:d,width:u,lastEntryUUID:V,showStopButton:et,scrollToLatestEntry:W,showScrollButton:J,hasScrolled:X,setHasScrolled:Y,existingFrontendContextUUID:g,moreThanOneResult:h.length>1,isReadonly:H})]}),(0,i.jsxs)("div",{className:"md:hidden",children:[(0,i.jsx)(eQ,{className:"mb-mobileNavHeight",havePrimaryButton:!1}),!x&&b&&(0,i.jsx)(eK,{})]})]})};var eJ=n(66795);let eX=()=>{let e=(0,ev.nO)(),{submitQuery:t}=(0,eg.e)(),n=(0,s.useSearchParams)(),i=null==n?void 0:n.get("copilot"),r=null==n?void 0:n.get("pro"),a=null==n?void 0:n.get("q"),o=null==n?void 0:n.get("utm_campaign"),c=null==n?void 0:n.get("utm_source"),d=(0,s.useRouter)(),u=null==n?void 0:n.get("newFrontendContextUUID"),m=null==n?void 0:n.get("focus"),{setFocus:h}=(0,eS.h)(),[x,f]=(0,l.useState)(!1),[p]=(0,eG.Xs)("pplx-active-query",{frontendContextUUID:null,rawQuery:null,collectionId:null});(0,l.useEffect)(()=>{if(a&&!u&&!x&&e){let e=Array.isArray(a)?a[0]:a,n="pending"===e?p.rawQuery:e,l=(0,O.Mp)(),s=m&&m in eJ.w?m:void 0;void 0!==s&&h(s),t({rawQuery:n,focusOverride:s,copilotOverride:"true"===i||"true"===r,collection:p.collectionId?{uuid:p.collectionId}:null,newFrontendContextUUID:l,existingFrontendContextUUID:null,promptSource:"user",querySource:"default_search"}),f(!0);let u=new URLSearchParams({q:"pending",newFrontendContextUUID:l,...o?{utm_campaign:o}:{},...c?{utm_source:c}:{}}),x=new URL(window.location.href);x.pathname="search/new",x.search=u.toString();let v=x.toString();d.push(v)}},[e,u,x])};function eY(){var e,t,n,r,a,o;let c=(0,s.useSearchParams)(),d=null==c?void 0:c.get("newFrontendContextUUID"),{results:u,threadMetadata:m}=(0,_.a0)(),{submitQuery:h}=(0,eg.e)(),x=(null==u?void 0:null===(e=u[0])||void 0===e?void 0:e.status)==="pending",f=(0,s.useRouter)(),[p,v]=(0,l.useState)(!1),g=(0,ev.nO)(),[y]=(0,eG.Xs)("pplx-active-query",{frontendContextUUID:null,rawQuery:null,collectionId:null});return eX(),(0,l.useEffect)(()=>{if(g&&0===u.length&&y.rawQuery&&!p){console.log("submitting query from session storage",y.rawQuery);let e=(0,O.Mp)();h({rawQuery:y.rawQuery,promptSource:"user",querySource:"home",existingFrontendContextUUID:null,newFrontendContextUUID:e,collection:null}),v(!0);let t=new URLSearchParams({q:"pending",newFrontendContextUUID:e}),n=new URL(window.location.href);n.pathname="search/new",n.search=t.toString();let i=n.toString();f.push(i)}},[p,g,u.length,y.rawQuery,h,d,f]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(em,{collection:null!==(n=null==m?void 0:m.collection)&&void 0!==n?n:null,entryUUID:null!==(r=null==u?void 0:null===(t=u[0])||void 0===t?void 0:t.backend_uuid)&&void 0!==r?r:null,frontendContextUUID:null!==(a=null==m?void 0:m.frontendContextUUID)&&void 0!==a?a:"",isFirstResultPending:x,bookmarkState:null!==(o=null==m?void 0:m.bookmarkState)&&void 0!==o?o:null}),(0,i.jsx)(eW,{})]})}},78886:function(e,t,n){"use strict";n.d(t,{A:function(){return a},T:function(){return o}});var i=n(53854),l=n(20981),s=n(16616);let r=(0,l.createContext)({result:null,steps:null,plan:null,isPending:!1,mediaItems:[],response:null,isFailed:!1,isReadonly:!1,inFlight:!1,idx:null,isCopilot:!1,filteredMediaItems:[],isLastResult:!1,isFirstResult:!1,hasAnswer:!1,hasSteps:!1,isFinalStep:!1,isSnapshotRender:!1}),a=e=>{let{children:t,result:n,response:a,isReadonly:o,idx:c,inFlight:d,isPending:u,hasSteps:m,isFinalStep:h,isCopilot:x,mediaItems:f,filteredMediaItems:p,isFailed:v,isSnapshotRender:g,isLastResult:y}=e,b=(0,l.useMemo)(()=>{var e;return n?(0,s.c)(null!==(e=n.text)&&void 0!==e?e:""):[]},[n]),w=(0,l.useMemo)(()=>{var e;return null!==(e=null==n?void 0:n.plan)&&void 0!==e?e:null},[n]),k=!!(null==a?void 0:a.answer);return(0,i.jsx)(r.Provider,{value:{isPending:u,hasSteps:m,isFinalStep:h,isCopilot:x,mediaItems:f,filteredMediaItems:p,isFailed:v,steps:b,plan:w,result:n,response:a,isReadonly:o,inFlight:d,idx:c,hasAnswer:k,isSnapshotRender:g,isFirstResult:0===c,isLastResult:y},children:t})},o=()=>{let e=(0,l.useContext)(r);if(!e)throw Error("useThreadEntry must be used within ThreadEntryProvider");return e}},73889:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var i=n(53854),l=n(22571);let s=()=>(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsxs)("div",{className:"flex gap-sm",children:[(0,i.jsx)(l.ZP,{variant:"offset",className:"h-[22px] w-[22px] rounded-full"}),(0,i.jsx)(l.ZP,{variant:"offset",className:"h-[22px] w-[80px] rounded-full"})]}),(0,i.jsx)(l.ZP,{variant:"offset",className:"mt-md h-[80px] rounded-md"})]})},38540:function(e,t,n){"use strict";var i=n(53854),l=n(20981),s=n(39135),r=n(66590),a=n(78113),o=n(2355);t.Z=e=>{let{shareHref:t,hasMounted:n,isSharable:c,maybeContextUUID:d,...u}=e,{trackEvent:m}=(0,s.h)(),h=(0,l.useCallback)(()=>{navigator.clipboard.writeText(n?(0,a.RP)(decodeURIComponent(t)):""),m("click copy link button",{contextUUID:d})},[n,t,m,d]);return c?(0,i.jsx)(o.Z,{clickFeedback:!0,size:"small",onClick:h,toolTip:"Copy Link",tooltipLayout:"bottom",icon:r.nN,variant:"primary",...u}):null}},14068:function(e,t,n){"use strict";var i=n(53854),l=n(20981),s=n(60359),r=n(38540),a=n(4009),o=n(34785),c=n(45139),d=n(2355);t.Z=e=>{let{isSharable:t,hasMounted:n,shareHref:u,EditorDropDownContent:m,icon:h,onClick:x,maybeContextUUID:f}=e,{isMobileStyle:p}=(0,a.d)(),{isMacOS:v}=(0,o.useDevice)(),[g,y]=(0,l.useState)(!1),b=(0,s.useTranslations)("shared"),w=(0,l.useCallback)(()=>{null==x||x(),y(e=>!e)},[x,y]),k=(0,l.useCallback)(e=>{(v?e.metaKey&&e.shiftKey&&"c"===e.key:e.ctrlKey&&e.shiftKey&&"c"===e.key)&&(e.preventDefault(),w())},[v,w]);return((0,l.useEffect)(()=>(document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}),[k]),n)?(0,i.jsxs)("div",{className:"flex items-center gap-x-sm",children:[!p&&(0,i.jsx)(r.Z,{shareHref:u,hasMounted:n,isSharable:t,maybeContextUUID:f}),(0,i.jsx)(c.p,{content:m,placement:"bottom-end",isMobileStyle:p,onClose:()=>y(!1),isOpen:g,children:(0,i.jsx)(d.Z,{onClick:w,variant:p?"common":"primary",size:"small",text:p?void 0:b("share"),icon:h})})]}):null}},82121:function(e,t,n){"use strict";var i=n(53854),l=n(64980),s=n(20981),r=n(60359),a=n(39135),o=n(34864),c=n(57984),d=n(2230),u=n(40148),m=n(66590),h=n(78113),x=n(92508),f=n(2355);t.Z=e=>{let{descriptionText:t,shareHref:n,isSharable:p,maybeContextUUID:v,hasMounted:g,icon:y}=e,b=encodeURIComponent(t),{trackEvent:w}=(0,a.h)(),k=(0,r.useTranslations)("socialShare"),j=(0,r.useTranslations)("shared"),C=(0,s.useMemo)(()=>"https://twitter.com/intent/tweet?text=".concat(b,"&url=").concat(n),[b,n]),U=(0,s.useMemo)(()=>"https://api.whatsapp.com/send?text=".concat(b,"%20").concat(n),[b,n]),N=(0,s.useMemo)(()=>"https://www.facebook.com/sharer/sharer.php?u=".concat(n,"&quote=").concat(b),[b,n]),D=(0,s.useCallback)(()=>{document.hasFocus&&(navigator.clipboard.writeText(g?(0,h.RP)(decodeURIComponent(n)):""),w("click copy link button",{contextUUID:v}))},[g,n,w,v]),_=(0,s.useCallback)(()=>{var e;if(!(null===(e=navigator)||void 0===e?void 0:e.share)){window.open(C,"_blank");return}navigator.share({text:"".concat(t," ").concat(g?(0,h.RP)(decodeURIComponent(n)):""),title:"Perplexity AI"}),w("click mobile native share button",{})},[n,C,t,g,w]),I=[{text:"Twitter",icon:d.NC,target:"_blank",href:C,onClick:()=>w("click tweet button",{})},{text:k("copyLink"),clickFeedback:!0,icon:m.nN,onClick:D},{text:"WhatsApp",icon:c.VH,target:"_blank",href:U,onClick:()=>w("click whatsapp button",{})},{text:"Facebook",icon:o.ne,target:"_blank",href:N,onClick:()=>w("click facebook button",{})}];return((0,s.useEffect)(()=>{g&&p&&D()},[g,p,D]),g&&p)?(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mt-sm",children:(0,i.jsxs)(x.Z,{variant:"tiny",color:"super",children:[(0,i.jsx)(l.G,{icon:u.E9,className:"mr-xs"}),(0,i.jsx)("span",{children:k("linkCopied")})]})}),(0,i.jsxs)("div",{className:"hidden md:block",children:[(0,i.jsx)(x.Z,{variant:"baseSemi",className:"mb-sm mt-md",children:j("share")}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-xs",children:I.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(f.Z,{layout:"left",size:"small",fullWidth:!0,...e})},e.text))})]}),(0,i.jsx)("div",{className:"block md:hidden",children:(0,i.jsx)("div",{className:"mt-md",children:(0,i.jsx)(f.Z,{variant:"primary",fullWidth:!0,text:j("share"),target:"_blank",icon:y,onClick:_})})})]}):null}},93167:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var i=n(97825);function l(){let e=(0,i.useSearchParams)(),t=null==e?void 0:e.get("pplx-show-survey");return"edu"===t||"plus"===t||"default"===t||"copilot"===t?t:null}},34864:function(e,t){"use strict";t.DF={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"]},t.ne=t.DF},57984:function(e,t){"use strict";t.DF={prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]},t.VH=t.DF},2230:function(e,t){"use strict";t.DF={prefix:"fab",iconName:"x-twitter",icon:[512,512,[],"e61b","M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"]},t.NC=t.DF},78913:function(e,t){"use strict";t.DF={prefix:"far",iconName:"arrow-down",icon:[384,512,[8595],"f063","M174.6 472.6c4.5 4.7 10.8 7.4 17.4 7.4s12.8-2.7 17.4-7.4l168-176c9.2-9.6 8.8-24.8-.8-33.9s-24.8-8.8-33.9 .8L216 396.1 216 56c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 340.1L41.4 263.4c-9.2-9.6-24.3-9.9-33.9-.8s-9.9 24.3-.8 33.9l168 176z"]},t.r5=t.DF},45876:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="circle-stop",i=[62094,"stop-circle"],l="f28d",s="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm192-96H320c17.7 0 32 14.3 32 32V320c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32z";t.definition={prefix:"far",iconName:n,icon:[512,512,i,l,s]},t.faCircleStop=t.definition,t.prefix="far",t.iconName=n,t.width=512,t.height=512,t.ligatures=i,t.unicode=l,t.svgPathData=s,t.aliases=i},40148:function(e,t){"use strict";t.DF={prefix:"far",iconName:"clipboard-check",icon:[384,512,[],"f46c","M320 64H280h-9.6C263 27.5 230.7 0 192 0s-71 27.5-78.4 64H104 64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64zM80 112v24c0 13.3 10.7 24 24 24h88 88c13.3 0 24-10.7 24-24V112h16c8.8 0 16 7.2 16 16V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V128c0-8.8 7.2-16 16-16H80zm88-32a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM289 267.6c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-89.7 89.7L129 287c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l53.3 53.3c4.5 4.5 10.6 7 17 7s12.5-2.5 17-7L289 267.6z"]},t.E9=t.DF},9178:function(e,t){"use strict";t.DF={prefix:"far",iconName:"eye",icon:[576,512,[128065],"f06e","M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"]},t.Md=t.DF},57790:function(e,t){"use strict";t.DF={prefix:"far",iconName:"slash-forward",icon:[320,512,[],"2f","M308.1 3.3c11.4 6.7 15.3 21.4 8.6 32.8l-272 464c-6.7 11.4-21.4 15.3-32.8 8.6S-3.4 487.3 3.3 475.9l272-464C282 .4 296.7-3.4 308.1 3.3z"]},t.D2=t.DF},53141:function(e,t,n){"use strict";var i=n(45876);t.DF={prefix:i.prefix,iconName:i.iconName,icon:[i.width,i.height,i.aliases,i.unicode,i.svgPathData]},t.oD=t.DF,i.prefix,i.iconName,i.width,i.height,i.aliases,i.unicode,i.svgPathData,i.aliases},88280:function(e,t){"use strict";t.DF={prefix:"far",iconName:"trash-clock",icon:[576,512,[],"e2b0","M177.1 48h93.7c2.7 0 5.2 1.3 6.7 3.6l19 28.4h-145l19-28.4c1.5-2.2 4-3.6 6.7-3.6zM354.2 80L317.5 24.9C307.1 9.4 289.6 0 270.9 0H177.1c-18.7 0-36.2 9.4-46.6 24.9L93.8 80H80.1 32 24C10.7 80 0 90.7 0 104s10.7 24 24 24H35.6L59.6 452.7c2.5 33.4 30.3 59.3 63.8 59.3H324.6c2 0 3.9-.1 5.8-.3c-18.2-12.9-33.8-29.1-45.9-47.7h-161c-8.4 0-15.3-6.5-16-14.8L83.7 128H364.3l-5.9 80.1c15.3-7.1 31.9-12 49.2-14.4l4.9-65.7H424c13.3 0 24-10.7 24-24s-10.7-24-24-24h-8H367.9 354.2zM576 368a144 144 0 1 0 -288 0 144 144 0 1 0 288 0zM432 288c8.8 0 16 7.2 16 16v48h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H432c-8.8 0-16-7.2-16-16V304c0-8.8 7.2-16 16-16z"]},t.yZ=t.DF},35020:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="triangle-exclamation",i=[9888,"exclamation-triangle","warning"],l="f071",s="M248.4 84.3c1.6-2.7 4.5-4.3 7.6-4.3s6 1.6 7.6 4.3L461.9 410c1.4 2.3 2.1 4.9 2.1 7.5c0 8-6.5 14.5-14.5 14.5H62.5c-8 0-14.5-6.5-14.5-14.5c0-2.7 .7-5.3 2.1-7.5L248.4 84.3zm-41-25L9.1 385c-6 9.8-9.1 21-9.1 32.5C0 452 28 480 62.5 480h387c34.5 0 62.5-28 62.5-62.5c0-11.5-3.2-22.7-9.1-32.5L304.6 59.3C294.3 42.4 275.9 32 256 32s-38.3 10.4-48.6 27.3zM288 368a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm-8-184c0-13.3-10.7-24-24-24s-24 10.7-24 24v96c0 13.3 10.7 24 24 24s24-10.7 24-24V184z";t.definition={prefix:"far",iconName:n,icon:[512,512,i,l,s]},t.faTriangleExclamation=t.definition,t.prefix="far",t.iconName=n,t.width=512,t.height=512,t.ligatures=i,t.unicode=l,t.svgPathData=s,t.aliases=i},86128:function(e,t){"use strict";t.DF={prefix:"far",iconName:"up-right-from-square",icon:[512,512,["external-link-alt"],"f35d","M304 41c0 10.9 4.3 21.3 12 29L362.1 116 207 271c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l155-155L442.1 196c7.7 7.7 18.1 12 29 12c22.6 0 41-18.3 41-41V40c0-22.1-17.9-40-40-40H345c-22.6 0-41 18.3-41 41zm57.9 7H464V150.1L361.9 48zM72 32C32.2 32 0 64.2 0 104V440c0 39.8 32.2 72 72 72H408c39.8 0 72-32.2 72-72V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V440c0 13.3-10.7 24-24 24H72c-13.3 0-24-10.7-24-24V104c0-13.3 10.7-24 24-24H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H72z"]},t.t3=t.DF},717:function(e,t,n){"use strict";var i=n(35020);t.DF={prefix:i.prefix,iconName:i.iconName,icon:[i.width,i.height,i.aliases,i.unicode,i.svgPathData]},t.e7=t.DF,i.prefix,i.iconName,i.width,i.height,i.aliases,i.unicode,i.svgPathData,i.aliases},52898:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]},t.xV=t.DF},49572:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},t.mT=t.DF},43508:function(e,t,n){"use strict";var i=n(53854);n(20981);var l=n(22571),s=n(70996);t.Z=e=>{let{choices:t,...n}=e;return(0,i.jsx)(l.ZP,{className:"mt-sm divide-y rounded md:border",...n,children:t.map((e,t)=>(0,i.jsx)(s.s,{rounded:!1,...e},t))})}},29290:function(e,t,n){"use strict";n.d(t,{o:function(){return c}});var i=n(53854),l=n(717),s=n(64980),r=n(20981);let a=e=>{try{return JSON.parse(e)}catch(e){return null}},o="Please try again later.",c=r.memo(e=>{let{title:t="Sorry, something went wrong.",description:n=o,className:c="",role:d,...u}=e,m=(0,r.useMemo)(()=>a(n),[n]);return m&&(n=o,console.warn("Tried to pass a JSON error description"),console.warn(m)),(0,i.jsxs)("div",{className:"bg-background-super-alt p-md gap-md mt-4 flex items-center rounded-lg text-left font-sans text-white ".concat(c),role:"alert",...u,children:[(0,i.jsx)(s.G,{className:"text-3xl",icon:l.e7}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("p",{className:"font-semibold",children:t}),(0,i.jsx)("p",{children:n})]})]})})},59928:function(e,t,n){"use strict";n.d(t,{Gm:function(){return l},Qy:function(){return a},ZF:function(){return o}});var i=n(9358);function l(e){return{onFetch:(t,n)=>{let l=async()=>{let n;let l=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],c=t.state.data?.pageParams||[],d=!1,u=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},m=(0,i.cG)(t.options,t.fetchOptions),h=async(e,n,l)=>{if(d)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);let s={queryKey:t.queryKey,pageParam:n,direction:l?"backward":"forward",meta:t.options.meta};u(s);let r=await m(s),{maxPages:a}=t.options,o=l?i.Ht:i.VX;return{pages:o(e.pages,r,a),pageParams:o(e.pageParams,n,a)}};if(a&&o.length){let e="backward"===a,t={pages:o,pageParams:c},i=(e?r:s)(l,t);n=await h(t,i,e)}else{n=await h({pages:[],pageParams:[]},c[0]??l.initialPageParam);let t=e??o.length;for(let e=1;e<t;e++){let e=s(l,n);n=await h(n,e)}}return n};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=l}}}function s(e,{pages:t,pageParams:n}){let i=t.length-1;return e.getNextPageParam(t[i],t,n[i],n)}function r(e,{pages:t,pageParams:n}){return e.getPreviousPageParam?.(t[0],t,n[0],n)}function a(e,t){return!!t&&null!=s(e,t)}function o(e,t){return!!t&&!!e.getPreviousPageParam&&null!=r(e,t)}},98653:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var i=n(13036),l=n(59928),s=class extends i.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,l.Gm)()},t)}getOptimisticResult(e){return e.behavior=(0,l.Gm)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:n}=e,i=super.createResult(e,t),{isFetching:s,isRefetching:r,isError:a,isRefetchError:o}=i,c=n.fetchMeta?.fetchMore?.direction,d=a&&"forward"===c,u=s&&"forward"===c,m=a&&"backward"===c,h=s&&"backward"===c;return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,l.Qy)(t,n.data),hasPreviousPage:(0,l.ZF)(t,n.data),isFetchNextPageError:d,isFetchingNextPage:u,isFetchPreviousPageError:m,isFetchingPreviousPage:h,isRefetchError:o&&!d&&!m,isRefetching:r&&!u&&!h}}}},70371:function(e,t,n){"use strict";n.r(t),n.d(t,{useInfiniteQuery:function(){return s}});var i=n(98653),l=n(84713);function s(e,t){return(0,l.r)(e,i.c,t)}},95359:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var i=n(53854),l=n(20981),s=n(13200),r=n(83312),a=n(102);function o({children:e,isValidProp:t,...n}){t&&(0,r.K)(t),(n={...(0,l.useContext)(s._),...n}).isStatic=(0,a.h)(()=>n.isStatic);let o=(0,l.useMemo)(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return(0,i.jsx)(s._.Provider,{value:o,children:e})}}},function(e){e.O(0,[6299,7544,5128,637,1096,6026,359,9657,3407,9383,6735,2616,3927,5138,3895,3005,6763,42,8510,9156,9098,815,7466,5397,6521,1744],function(){return e(e.s=14934)}),_N_E=e.O()}]);